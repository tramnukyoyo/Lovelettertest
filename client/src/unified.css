/**
 * UNIFIED MASTER CSS - GameBuddies Platform
 * Master template for all games
 * Last updated: 2025-12-14
 *
 * This file is the single source of truth for shared CSS across all GameBuddies games.
 * It is automatically copied to each game folder via sync-css.js
 *
 * DO NOT edit game-specific unified.css files directly.
 * Instead:
 *   1. Edit this master file for shared changes
 *   2. Run: node sync-css.js
 *   3. Commit all changes (master + all game copies)
 *
 * Game-specific styles should go in separate override files:
 *   - ClueScale: Keep webcam import in local copy only
 *   - SUSD: susd-overrides.css
 *   - PrimeSuspect: think-overrides.css (if needed)
 */

/* ============================================
   SECTION 1: CSS RESET & TAILWIND BASE
   ============================================ */

@import url('https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Gloria+Hallelujah&family=Permanent+Marker&family=VT323&family=Special+Elite&family=Courier+Prime&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Default Theme - GameBuddies.io Official (Pink/Cyan) */
:root, [data-theme="gamebuddies"] {
  /* ========================================
     Z-INDEX CONSTANTS - Centralized Layer Management
     ======================================== */
  /* Background layers */
  --z-background: -2;
  --z-background-grid: -1;

  /* Content layers */
  --z-content: 1;
  --z-webcam: 10;
  --z-game: 20;
  --z-filmstrip: 100;

  /* UI elements (Mobile FABs, buttons, toggles) */
  --z-theme-toggle: 995;
  --z-settings-fab: 996;
  --z-chat-drawer-backdrop: 997;
  --z-mobile-drawer: 998;
  --z-mobile-fab-cluster: 999;
  --z-mobile-nav: 1000;

  /* Overlays (drawers, modals, backdrops) */
  --z-orientation-prompt: 9997;
  --z-settings-modal-backdrop: 9998;
  --z-settings-modal: 9999;
  --z-round-start-overlay: 10000;

  /* Critical overlays (alerts, toasts) */
  --z-mobile-toast: 10001;

  /* Accessibility (always highest) */
  --z-skip-link: 10002;

  /* ========================================
     SPACING CONSTANTS - Standardized Spacing Scale
     ======================================== */
  /* Fixed Spacing scale (4px base unit) */
  --spacing-xs: 0.25rem;   /* 4px */
  --spacing-sm: 0.5rem;    /* 8px */
  --spacing-md: 1rem;      /* 16px */
  --spacing-lg: 1.5rem;    /* 24px */
  --spacing-xl: 2rem;      /* 32px */
  --spacing-2xl: 3rem;     /* 48px */
  --spacing-3xl: 4rem;     /* 64px */

  /* FLUID SPACING - Scales with viewport */
  --spacing-fluid-xs: clamp(0.125rem, 0.5vw, 0.25rem);      /* 2-4px */
  --spacing-fluid-sm: clamp(0.25rem, 1vw, 0.5rem);          /* 4-8px */
  --spacing-fluid-md: clamp(0.5rem, 2vw, 1rem);             /* 8-16px */
  --spacing-fluid-lg: clamp(0.75rem, 3vw, 1.5rem);          /* 12-24px */
  --spacing-fluid-xl: clamp(1rem, 4vw, 2rem);               /* 16-32px */
  --spacing-fluid-2xl: clamp(1.5rem, 5vw, 3rem);            /* 24-48px */
  --spacing-fluid-3xl: clamp(2rem, 6vw, 4rem);              /* 32-64px */

  /* FLUID GAP - For flex/grid layouts */
  --gap-xs: clamp(0.25rem, 0.5vw, 0.5rem);
  --gap-sm: clamp(0.5rem, 1vw, 0.75rem);
  --gap-md: clamp(0.75rem, 1.5vw, 1rem);
  --gap-lg: clamp(1rem, 2vw, 1.5rem);
  --gap-xl: clamp(1.5rem, 3vw, 2rem);

  /* FLUID PADDING - For sections and containers */
  --padding-section: clamp(1rem, 4vw, 2.5rem);
  --padding-card: clamp(0.75rem, 2vw, 1.5rem);
  --padding-button: clamp(0.5rem, 1vw, 0.75rem) clamp(1rem, 2vw, 1.5rem);

  /* FLUID BORDER-RADIUS */
  --radius-sm: clamp(0.25rem, 0.5vw, 0.5rem);
  --radius-md: clamp(0.5rem, 1vw, 0.75rem);
  --radius-lg: clamp(0.75rem, 1.5vw, 1rem);
  --radius-xl: clamp(1rem, 2vw, 1.5rem);

  /* Safe areas for notched devices */
  --safe-bottom: max(var(--spacing-md), env(safe-area-inset-bottom));
  --safe-left: max(var(--spacing-md), env(safe-area-inset-left));
  --safe-right: max(var(--spacing-md), env(safe-area-inset-right));
  --safe-top: max(var(--spacing-md), env(safe-area-inset-top));

  /* Viewport dimensions (handle iOS Safari address bar) */
  --viewport-height: 100dvh;
  --viewport-width: 100dvw;

  /* Primary - GB Pink/Red (GameBuddies.io official) */
  --primary-50: #762838;
  --primary-100: #8c2d3d;
  --primary-200: #a83347;
  --primary-300: #c73e54;
  --primary-400: #e94560;
  --primary-500: #f06292;
  --primary-600: #f7a8b8;
  --primary-700: #fbd0d8;
  --primary-800: #fde6e9;
  --primary-900: #fef2f4;

  /* Aliases */
  --primary: var(--primary-400);
  --primary-light: var(--primary-500);
  --primary-dark: var(--primary-300);
  --primary-rgb: 233, 69, 96;

  --success-400: #4ADE80;
  --success-500: #22c55e;
  --success-600: #16a34a;

  --danger-400: #f87171;
  --danger-500: #ef4444;
  --danger-600: #dc2626;

  --warning-400: #FB923C;
  --warning-500: #f97316;
  --warning-600: #ea580c;

  --gold-400: #fbbf24;
  --gold-500: #f59e0b;
  --gold-600: #d97706;

  /* GameBuddies.io Branding */
  --gb-pink: #e94560;
  --gb-cyan: #00d9ff;

  /* Secondary - GB Cyan */
  --secondary: #00d9ff;
  --secondary-light: #33e0ff;
  --secondary-glow: rgba(0, 217, 255, 0.4);
  --secondary-rgb: 0, 217, 255;
  --accent: var(--secondary);
  --accent-color-rgb: 0, 217, 255;

  /* App surfaces (PrimeSuspect baseline) */
  --bg-dark: transparent;
  --bg-darker: transparent;
  --bg-card: rgba(21, 27, 48, 0.35);
  --bg-card-hover: rgba(30, 41, 59, 0.5);
  --bg-card-rgb: 21, 27, 48;

  --panel-bg: rgba(13, 15, 26, 0.45);
  --panel-bg-hover: rgba(21, 27, 48, 0.6);
  --panel-border: rgba(255, 255, 255, 0.1);
  --panel-border-strong: rgba(0, 217, 255, 0.4);

  /* Transitions */
  --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);

  /* Compatibility aliases used across shared styles */
  --card-bg: var(--bg-card);
  --border-color: var(--panel-border);

  /* Dark mode colors - GB.io official */
  --bg-secondary: #1E293B;
  --bg-tertiary: #1E293B;
  --bg-quaternary: #0F172A;
  --text-primary: #F8FAFC;
  --text-secondary: #94A3B8;
  --text-accent: #00d9ff;
  --border-color: #334155;
  --card-bg: rgba(30, 41, 59, 0.8);
  --accent-color: #00d9ff;
  --accent-hover: #00b8d9;
  --accent-glow: rgba(0, 217, 255, 0.4);

  /* Paper backgrounds (Hand-Drawn Aesthetic) */
  --paper-void: #111111;
  --paper-dark: #1a1a1a;
  --paper-darker: #0f0f0f;
  --paper-accent: #2d2d2d;
  --paper-ink: #e5e5e5;

  /* Chalk colors (Game-specific accents) */
  --chalk-pink: #ff7eb6;      /* BingoBuddies */
  --chalk-yellow: #ffe66d;    /* Reserved for future */
  --chalk-blue: #7afcff;      /* ClueScale */
  --chalk-green: #7bff8d;     /* DDF */
  --chalk-red: #ff6b6b;       /* SUSD/Bad Actor */
  --chalk-purple: #cd93ff;    /* PrimeSuspect */

  /* Border colors (Hand-Drawn) */
  --border-default: rgba(255, 255, 255, 0.2);
  --border-hover: rgba(255, 255, 255, 0.5);
  --border-focus: rgba(255, 255, 255, 0.8);

  /* Typography - Hand-Drawn Fonts */
  --font-hand: 'Patrick Hand', cursive;
  --font-title: 'Gloria Hallelujah', cursive;
  --font-marker: 'Permanent Marker', cursive;
  --font-pixel: 'VT323', monospace;
  --font-typewriter: 'Special Elite', serif;

  /* Default font assignments */
  --font-heading: var(--font-title);
  --font-body: var(--font-hand);

  /* Gradient system - GameBuddies default (magenta ‚Üí cyan) */
  --gradient-start: #e94560;
  --gradient-end: #00d9ff;
  --gradient-button: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  --gradient-badge: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));

  /* Wobbly border variations - Base hand-drawn patterns */
  --border-wobbly-xs: 240px 12px 220px 12px / 12px 220px 12px 240px;
  --border-wobbly-sm: 255px 15px 225px 15px / 15px 225px 15px 255px;
  --border-wobbly-md: 265px 25px 235px 25px / 25px 235px 25px 265px;
  --border-wobbly-lg: 275px 35px 245px 35px / 35px 245px 35px 275px;
}

/* ============================================
   GAME-SPECIFIC THEMES - Hand-Drawn Aesthetic
   ============================================ */

/* BingoBuddies Theme - Pink/Purple Chalk Party */
[data-theme="bingo"] {
  --accent-color: var(--chalk-pink);
  --accent-hover: var(--chalk-purple);
  --accent-glow: rgba(255, 126, 182, 0.4);
  --accent-color-rgb: 255, 126, 182;
  --primary-rgb: 255, 126, 182;

  /* Gradient system - Pink ‚Üí Purple */
  --gradient-start: #ff7eb6;
  --gradient-end: #cd93ff;
  --gradient-button: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  --gradient-badge: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));

  /* Wobbly borders - Soft playful curves */
  --border-wobbly-xs: 245px 15px 225px 18px / 15px 230px 12px 242px;
  --border-wobbly-sm: 260px 18px 230px 22px / 20px 235px 16px 258px;
  --border-wobbly-md: 270px 28px 240px 32px / 30px 242px 26px 268px;

  --bg-primary: #1a0b2e;
  --bg-secondary: var(--paper-dark);
  --bg-tertiary: var(--paper-darker);
  --bg-quaternary: var(--paper-accent);

  --text-primary: var(--paper-ink);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-accent: var(--chalk-pink);

  --border-color: var(--border-default);
  --card-bg: rgba(26, 11, 46, 0.6);

  /* Button colors */
  --success-color: #cd93ff;
  --danger-color: #ff6b6b;
}

/* ClueScale Theme - Fantasy/Magical Mystery */
[data-theme="clue"] {
  /* Primary Colors - Mystical Purple/Gold */
  --accent-color: #9333ea;
  --accent-hover: #a855f7;
  --accent-glow: rgba(147, 51, 234, 0.5);
  --accent-color-rgb: 147, 51, 234;
  --primary-rgb: 147, 51, 234;

  /* Gradient system - Purple ‚Üí Amber Gold */
  --gradient-start: #9333ea;
  --gradient-end: #d97706;
  --gradient-button: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  --gradient-badge: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));

  /* Wobbly borders - Mystical flowing curves */
  --border-wobbly-xs: 245px 18px 228px 15px / 16px 230px 18px 246px;
  --border-wobbly-sm: 258px 22px 234px 20px / 20px 236px 22px 260px;
  --border-wobbly-md: 268px 32px 244px 30px / 30px 246px 32px 272px;

  /* Backgrounds - Dark mystical */
  --bg-primary: #1a0f2e;
  --bg-secondary: #2d1b4e;
  --bg-tertiary: var(--paper-darker);
  --bg-quaternary: var(--paper-accent);

  /* Extended Palette */
  --mystical-purple: #9333ea;
  --mystical-gold: #d97706;
  --mystical-violet: #8b5cf6;
  --mystical-amber: #f59e0b;
  --enchanted-glow: rgba(245, 158, 11, 0.3);

  --text-primary: var(--paper-ink);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-accent: var(--mystical-purple);

  --border-color: var(--border-default);
  --card-bg: rgba(45, 27, 78, 0.6);
  --panel-bg: rgba(26, 15, 46, 0.5);

  /* Fonts - Magical theme */
  --font-heading: 'Cinzel', serif;
  --font-body: 'Quicksand', sans-serif;

  /* Button colors */
  --success-color: #d97706;
  --danger-color: #dc2626;
}

/* DDF (Last Brain Standing) Theme - Green Terminal */
[data-theme="ddf"] {
  --accent-color: var(--chalk-green);
  --accent-hover: #6aef7d;
  --accent-glow: rgba(123, 255, 141, 0.4);
  --accent-color-rgb: 123, 255, 141;
  --primary-rgb: 123, 255, 141;

  /* Gradient system - Green ‚Üí Green (subtle variation) */
  --gradient-start: #7bff8d;
  --gradient-end: #6aef7d;
  --gradient-button: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  --gradient-badge: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));

  /* Wobbly borders - Glitchy terminal style */
  --border-wobbly-xs: 248px 8px 218px 14px / 10px 222px 12px 246px;
  --border-wobbly-sm: 262px 10px 228px 18px / 14px 232px 16px 260px;
  --border-wobbly-md: 272px 20px 238px 28px / 24px 240px 26px 270px;

  --bg-primary: #000000;
  --bg-secondary: var(--paper-dark);
  --bg-tertiary: var(--paper-darker);
  --bg-quaternary: var(--paper-accent);

  --text-primary: var(--chalk-green);
  --text-secondary: rgba(123, 255, 141, 0.7);
  --text-accent: var(--chalk-green);

  --border-color: var(--chalk-green);
  --card-bg: rgba(0, 0, 0, 0.8);

  /* Terminal font override */
  --font-body: var(--font-pixel);
  --font-heading: var(--font-pixel);

  /* Button colors */
  --success-color: #4ade80;
  --danger-color: #ef4444;
}

/* SUSD (Bad Actor) Theme - Red Noir */
[data-theme="susd"] {
  --accent-color: var(--chalk-red);
  --accent-hover: #ff5555;
  --accent-glow: rgba(255, 107, 107, 0.4);
  --accent-color-rgb: 255, 107, 107;
  --primary-rgb: 255, 107, 107;

  /* Gradient system - Red ‚Üí Dark Red */
  --gradient-start: #ff6b6b;
  --gradient-end: #ff5555;
  --gradient-button: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  --gradient-badge: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));

  /* Wobbly borders - Sharp noir edges */
  --border-wobbly-xs: 238px 14px 222px 10px / 12px 224px 14px 240px;
  --border-wobbly-sm: 253px 16px 227px 12px / 14px 230px 18px 255px;
  --border-wobbly-md: 263px 26px 237px 22px / 24px 238px 28px 265px;

  --bg-primary: #1f0a0a;
  --bg-secondary: var(--paper-dark);
  --bg-tertiary: var(--paper-darker);
  --bg-quaternary: var(--paper-accent);

  --text-primary: var(--paper-ink);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-accent: var(--chalk-red);

  --border-color: var(--border-default);
  --card-bg: rgba(31, 10, 10, 0.8);

  /* Typewriter font for headers */
  --font-heading: var(--font-typewriter);

  /* Button colors */
  --success-color: #fbbf24;
  --danger-color: #dc2626;
}

/* Heart's Gambit Theme - Purple Dreamy */
[data-theme="prime-suspect"] {
  --accent-color: var(--chalk-purple);
  --accent-hover: #bd83ef;
  --accent-glow: rgba(205, 147, 255, 0.4);
  --accent-color-rgb: 205, 147, 255;
  --primary-rgb: 205, 147, 255;

  /* Gradient system - Purple ‚Üí Light Purple */
  --gradient-start: #cd93ff;
  --gradient-end: #bd83ef;
  --gradient-button: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  --gradient-badge: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));

  /* Wobbly borders - Dreamy flowing curves */
  --border-wobbly-xs: 242px 16px 228px 14px / 14px 226px 16px 244px;
  --border-wobbly-sm: 258px 20px 232px 18px / 18px 234px 20px 256px;
  --border-wobbly-md: 268px 30px 242px 28px / 28px 244px 30px 270px;

  --bg-primary: #1a0b2e;
  --bg-secondary: var(--paper-dark);
  --bg-tertiary: var(--paper-darker);
  --bg-quaternary: var(--paper-accent);

  --text-primary: var(--paper-ink);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-accent: var(--chalk-purple);

  --border-color: var(--border-default);
  --card-bg: rgba(26, 11, 46, 0.6);

  /* Button colors */
  --success-color: #a78bfa;
  --danger-color: #f87171;
}

/* ============================================
   EXTENDED COLOR PALETTES - Game-Specific Components
   ============================================ */

/* SUSD - Noir Detective */
[data-theme="susd"] {
  --noir-manila: #d4b896;
  --noir-manila-tab: #b89968;
  --noir-manila-border: #8b7355;
  --noir-cork: #8b7355;
  --noir-cork-dark: #6d5940;
  --noir-polaroid: #f8f8f0;
  --noir-ink: #2d2416;
  --noir-stamp: #8b0000;
}

/* BingoBuddies - Party/Celebration */
[data-theme="bingo"] {
  --party-confetti-1: #ff7eb6;
  --party-confetti-2: #cd93ff;
  --party-confetti-3: #ffe66d;
  --party-flash: #ffffff;
  --party-curtain-start: #ff7eb6;
  --party-curtain-end: #cd93ff;
}

/* ClueScale - Mystery/Blueprint */
[data-theme="clue"] {
  --blueprint-grid: #7afcff;
  --blueprint-bg: #0a192f;
  --blueprint-annotation: #5ae4f7;
  --blueprint-dimension: rgba(122, 252, 255, 0.6);
  --blueprint-frame: #1a2940;
}

/* DDF - Terminal/Hacker */
[data-theme="ddf"] {
  --terminal-green: #7bff8d;
  --terminal-green-bright: #9fffac;
  --terminal-scanline: rgba(123, 255, 141, 0.1);
  --terminal-timestamp: #4cd964;
  --terminal-bg: #000000;
}

/* Heart's Gambit - Royal Romance Theme */
[data-theme="primesuspect"] {
  /* Noir / crime-dinner palette */
  --royal-crimson: #6a1623;
  --royal-crimson-light: #8a2233;
  --royal-crimson-dark: #3d0c13;
  --royal-gold: #d2b25a;
  --royal-gold-light: #e7cc7a;
  --royal-gold-dark: #a77e22;
  --parchment: #f6f0e6;
  --parchment-dark: #d9cfbe;
  --velvet-dark: #0c0c10;
  --velvet-darker: #07070a;
  --wax-seal: #6a1623;
  --ink-dark: #131318;

  /* 70s Noir Palette - Physical Objects */
  --mustard-yellow: #d4a574;
  --olive-green: #6b7c3d;
  --avocado-green: #8a9a5b;
  --burnt-orange: #c66b3d;
  --rust: #b8572a;
  --tobacco-brown: #4a3f35;
  --detective-brown: #6b5d52;
  --aged-newspaper: #f4e8c1;
  --parchment-old: #d4c5a9;
  --cream: #f9f6f0;
  --smoke-gray: #8a8a8a;
  --amber-glow: #c99154;

  /* Map to standard CSS variables used by components */
  --accent-color: var(--royal-gold);
  --accent-color-rgb: 210, 178, 90;
  --accent-hover: var(--royal-gold-light);
  --accent-glow: rgba(210, 178, 90, 0.35);
  --primary: var(--royal-crimson);
  --primary-light: var(--royal-crimson-light);
  --primary-rgb: 106, 22, 35;
  --chalk-purple: var(--royal-crimson);
  --bg-primary: var(--velvet-dark);
  --bg-secondary: var(--velvet-darker);
  --text-primary: var(--parchment);
  --text-secondary: rgba(246, 240, 230, 0.75);

  /* Typography - 70s Noir Typewriter */
  --font-heading: 'Special Elite', 'Courier Prime', monospace;
  --font-body: 'Courier Prime', 'Courier New', monospace;
  --hg-font-meta: 'Courier Prime', monospace;

  /* Solid colors for stamps/buttons (70s style) */
  --gradient-button: var(--rust);
  --gradient-button-hover: var(--burnt-orange);

  /* Neural vars mapped for compatibility */
  --neural-purple: var(--royal-crimson);
  --neural-wave: var(--royal-gold);
  --neural-activity: rgba(139, 21, 56, 0.3);
  --neural-monitor: var(--royal-gold-dark);
  --neural-scan: var(--royal-gold-light);
}

/* Keep think theme for backwards compatibility */
[data-theme="think"] {
  --neural-purple: #cd93ff;
  --neural-wave: #bd83ef;
  --neural-activity: rgba(205, 147, 255, 0.3);
  --neural-monitor: #8b7bc9;
  --neural-scan: #a594d4;
}

/* ============================================
   GAME-SPECIFIC VISUAL STYLING
   ============================================ */

/* ClueScale - Blueprint Grid Background */
[data-theme="clue"] body,
[data-theme="clue"] .app-root {
  background-color: #0a192f !important;
  background-image:
    linear-gradient(rgba(122, 252, 255, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(122, 252, 255, 0.1) 1px, transparent 1px) !important;
  background-size: 20px 20px !important;
  background-attachment: fixed;
}

[data-theme="clue"] .card,
[data-theme="clue"] .sketch-box {
  position: relative;
}

/* Blueprint corner markers */
[data-theme="clue"] .card::before,
[data-theme="clue"] .card::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  border: 2px solid var(--chalk-blue);
}

[data-theme="clue"] .card::before {
  top: 10px;
  left: 10px;
  border-right: none;
  border-bottom: none;
}

[data-theme="clue"] .card::after {
  bottom: 10px;
  right: 10px;
  border-left: none;
  border-top: none;
}

/* DDF - Terminal Glitch Effects */
[data-theme="ddf"] body,
[data-theme="ddf"] .app-root {
  background-color: #000000 !important;
}

[data-theme="ddf"] * {
  font-family: var(--font-pixel) !important;
}

[data-theme="ddf"] h1,
[data-theme="ddf"] h2,
[data-theme="ddf"] h3,
[data-theme="ddf"] h4,
[data-theme="ddf"] h5,
[data-theme="ddf"] h6,
[data-theme="ddf"] p,
[data-theme="ddf"] span,
[data-theme="ddf"] div {
  text-shadow: 0 0 2px var(--chalk-green);
  font-smoothing: none;
  -webkit-font-smoothing: none;
}

[data-theme="ddf"] .card,
[data-theme="ddf"] .sketch-box {
  background: rgba(0, 0, 0, 0.9);
  border-color: var(--chalk-green);
}

/* Terminal cursor blink effect */
[data-theme="ddf"] .input::after {
  content: '_';
  animation: blink 1s infinite;
  margin-left: 2px;
}

@keyframes blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}

/* SUSD - Paper Texture & Typewriter */
[data-theme="susd"] body,
[data-theme="susd"] .app-root {
  background-color: #1f0a0a !important;
}

/* SUSD - Film Grain Background Animation */
[data-theme="susd"] .app-root::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  opacity: 0.08;

  /* Vintage film grain texture */
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-size: 200px 200px;

  /* Very subtle 8-second stepped animation */
  animation: filmGrain 8s steps(8) infinite;

  /* GPU acceleration */
  will-change: transform;
  transform: translateZ(0);
}

[data-theme="susd"] .card,
[data-theme="susd"] .game-card,
[data-theme="susd"] .lobby-card {
  background: #e8e4d9 !important;
  color: #000000 !important;
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,.02) 2px,
      rgba(0,0,0,.02) 4px
    );
}

[data-theme="susd"] .card *,
[data-theme="susd"] .game-card *,
[data-theme="susd"] .lobby-card * {
  color: #000000 !important;
}

[data-theme="susd"] h1,
[data-theme="susd"] h2,
[data-theme="susd"] h3,
[data-theme="susd"] h4,
[data-theme="susd"] h5,
[data-theme="susd"] h6 {
  font-family: var(--font-typewriter) !important;
}

[data-theme="susd"] .btn {
  background: #000000;
  color: #ffffff !important;
  font-family: var(--font-typewriter);
}

[data-theme="susd"] .btn-primary {
  background: var(--chalk-red);
  color: #ffffff !important;
}

/* Ink stamp effect */
[data-theme="susd"] .badge,
[data-theme="susd"] .tag,
[data-theme="susd"] .stamp {
  background: var(--chalk-red);
  color: white !important;
  transform: rotate(-3deg);
  font-family: var(--font-typewriter);
  text-transform: uppercase;
  border: 3px solid var(--chalk-red);
  box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.3);
  padding: 4px 12px;
}

/* BingoBuddies - Neon Chalk Effects */
[data-theme="bingo"] body,
[data-theme="bingo"] .app-root {
  background-color: #1a0b2e !important;
}

[data-theme="bingo"] h1,
[data-theme="bingo"] h2,
[data-theme="bingo"] .title {
  font-family: var(--font-marker);
  text-shadow: 4px 4px 0 rgba(205, 147, 255, 0.2);
  color: var(--chalk-pink);
}

[data-theme="bingo"] .card {
  background: rgba(26, 11, 46, 0.8);
  border-color: var(--chalk-purple);
}

/* PrimeSuspect - Starry Night */
[data-theme="think"] body,
[data-theme="think"] .app-root {
  background-color: #1a0b2e !important;
}

[data-theme="think"] .card {
  background: rgba(26, 11, 46, 0.8);
  border-color: var(--chalk-purple);
}

/* PrimeSuspect - Noir Crime Dinner */
[data-theme="primesuspect"] body,
[data-theme="primesuspect"] .app-root {
  background-color: var(--velvet-dark, #1a0f1e) !important;
  background-image: var(--hg-bg-image, none);
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

[data-theme="primesuspect"] .app-root::before {
  background:
    radial-gradient(1200px at 50% 18%, rgba(246, 240, 230, 0.10), transparent 58%),
    radial-gradient(1000px at 18% 12%, rgba(var(--accent-color-rgb), 0.12), transparent 55%),
    radial-gradient(1200px at 82% 18%, rgba(var(--primary-rgb), 0.14), transparent 60%),
    radial-gradient(1600px at 50% 110%, rgba(0, 0, 0, 0.70), transparent 58%),
    repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.02) 0px,
      rgba(255, 255, 255, 0.02) 1px,
      transparent 1px,
      transparent 7px
    );
  background-size: auto;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: scroll;
}

[data-theme="primesuspect"] .app-root::after {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  opacity: 0.07;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-size: 220px 220px;
  animation: filmGrain 8s steps(8) infinite;
  will-change: transform;
  transform: translateZ(0);
}

[data-theme="primesuspect"] .card {
  background: rgba(0, 0, 0, 0.38);
  border-color: rgba(var(--accent-color-rgb), 0.35);
  box-shadow:
    0 18px 50px rgba(0, 0, 0, 0.55),
    inset 0 0 0 1px rgba(255, 255, 255, 0.05);
}

[data-theme="primesuspect"] h1,
[data-theme="primesuspect"] h2,
[data-theme="primesuspect"] h3 {
  font-family: var(--font-heading);
}

[data-theme="primesuspect"] .home-header h1 {
  font-family: var(--font-heading);
  text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.2);
  color: #000000 !important;
  -webkit-text-fill-color: #000000 !important;
  background: none !important;
}

[data-theme="primesuspect"] .eyebrow {
  color: var(--royal-gold);
  border-color: var(--royal-gold);
}

/* Header branding - improve readability on dark background */
[data-theme="primesuspect"] .gb-by {
  color: rgba(255, 255, 255, 0.6) !important;
}

[data-theme="primesuspect"] .gb-game {
  color: #ffffff !important;
}

[data-theme="primesuspect"] .gb-buddies {
  color: var(--royal-gold) !important;
}

[data-theme="primesuspect"] .gb-io {
  color: rgba(255, 255, 255, 0.8) !important;
}

/* Game header branding - same fixes as homepage header */
[data-theme="primesuspect"] .game-header-gb-by {
  color: rgba(255, 255, 255, 0.6) !important;
}

[data-theme="primesuspect"] .game-header-gb-game {
  color: #ffffff !important;
}

[data-theme="primesuspect"] .game-header-gb-buddies {
  color: var(--royal-gold) !important;
}

[data-theme="primesuspect"] .game-header-gb-io {
  color: rgba(255, 255, 255, 0.8) !important;
}

/* Tagline - brighter for better readability */
[data-theme="primesuspect"] .home-tagline {
  color: rgba(255, 255, 255, 0.85) !important;
}

[data-theme="primesuspect"] .primary-cta {
  background: var(--gradient-button) !important;
  border: 3px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  box-shadow:
    inset 0 0 20px rgba(0, 0, 0, 0.3),
    4px 4px 0 var(--tobacco-brown) !important;
  color: #ffffff !important;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  transform: rotate(-2deg);
  transition: transform 0.1s, box-shadow 0.1s !important;
}

[data-theme="primesuspect"] .primary-cta:hover {
  background: var(--gradient-button-hover) !important;
  transform: rotate(-2deg) scale(1.02);
}

[data-theme="primesuspect"] .primary-cta:active {
  transform: rotate(-2deg) scale(0.98) translateY(2px);
  box-shadow:
    inset 0 0 20px rgba(0, 0, 0, 0.5),
    2px 2px 0 var(--tobacco-brown) !important;
}

/* Buttons in cards - push to bottom so they align across cards */
[data-theme="primesuspect"] .split-card .primary-cta,
[data-theme="primesuspect"] .split-card .create-cta,
[data-theme="primesuspect"] .split-card .join-cta {
  margin-top: auto !important;
  margin-bottom: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Card headers - keep compact */
[data-theme="primesuspect"] .split-card .card-head {
  margin-bottom: 0.5rem !important;
  flex-grow: 0 !important;
  flex-shrink: 0 !important;
}

/* Phase 5: Login/Menu Cards ‚Üí Restaurant Menu / Case File */
[data-theme="primesuspect"] .split-card,
[data-theme="primesuspect"] .home-cards-wrapper .card {
  background: #c9b8a0 !important;
  background-image:
    url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="noise"%3E%3CfeTurbulence baseFrequency="0.9" numOctaves="4"/%3E%3CfeColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23noise)"/%3E%3C/svg%3E'),
    repeating-linear-gradient(
      transparent,
      transparent 1.5rem,
      rgba(0, 0, 0, 0.1) 1.5rem,
      rgba(0, 0, 0, 0.1) calc(1.5rem + 1px)
    ) !important;
  background-size: auto, auto !important;
  background-attachment: scroll !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow:
    12px 12px 0 rgba(0, 0, 0, 0.4),
    0 0 0 3px var(--tobacco-brown) !important;
  color: #2a2420 !important;
  height: auto !important;
  min-height: unset !important;
  max-height: unset !important;
  gap: 0.25rem !important;
  padding: 0.6rem 0.6rem 1.1rem 0.6rem !important;
}

/* Cards match each other's height but are compact */
[data-theme="primesuspect"] .split-actions {
  align-items: stretch !important;
}

/* Compact form layout - pack items at top, prevent spreading */
[data-theme="primesuspect"] .split-card .home-form {
  height: auto !important;
  gap: 0.8rem !important;
  justify-content: flex-start !important;
  align-items: stretch !important;
}

/* Remove flex-grow from form children to prevent spreading */
[data-theme="primesuspect"] .split-card .home-form > * {
  flex-grow: 0 !important;
  flex-shrink: 0 !important;
}

/* Remove extra margins from form groups */
[data-theme="primesuspect"] .split-card .form-group {
  margin: 0 !important;
  padding: 0 !important;
  margin-bottom: 0 !important;
}

/* Streamer toggle should not have extra spacing */
[data-theme="primesuspect"] .split-card .streamer-toggle {
  margin: 0 !important;
  padding: 0 !important;
}

/* Card description text - make it dark and readable, keep compact */
[data-theme="primesuspect"] .split-card .card-head h3 {
  color: #2a2420 !important;
  font-size: 1.1rem !important;
  margin-bottom: 0.15rem !important;
  margin-top: 0 !important;
}

[data-theme="primesuspect"] .split-card .card-head p {
  color: #3d3a35 !important;
  font-size: 0.85rem !important;
  line-height: 1.3 !important;
  margin-bottom: 0 !important;
  margin-top: 0 !important;
}

/* Input fields ‚Üí Form fill-in lines */
[data-theme="primesuspect"] .home-input {
  background: transparent !important;
  border: none !important;
  border-bottom: 2px solid #2a2420 !important;
  border-radius: 0 !important;
  font-family: 'Courier Prime', monospace !important;
  color: #2a2420 !important;
  padding: 0.5rem 0 !important;
}

[data-theme="primesuspect"] .home-input::placeholder {
  color: rgba(42, 36, 32, 0.6) !important;
}

/* Ensure ALL text in split cards is dark and readable */
[data-theme="primesuspect"] .split-card * {
  color: #2a2420 !important;
}

/* Specific text elements */
[data-theme="primesuspect"] .split-card .card-head h3,
[data-theme="primesuspect"] .split-card .card-head p,
[data-theme="primesuspect"] .split-card h3,
[data-theme="primesuspect"] .split-card p {
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .split-card label {
  color: #2a2420 !important;
  font-weight: 600 !important;
}

[data-theme="primesuspect"] .split-card .form-group label {
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .split-card .streamer-toggle label {
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .split-card .home-form-note {
  color: #3d3a35 !important;
}

[data-theme="primesuspect"] .split-card input[type="text"],
[data-theme="primesuspect"] .split-card input[type="email"] {
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .split-card input::placeholder {
  color: rgba(42, 36, 32, 0.5) !important;
}

/* Game header room code and labels - readable on dark background */
[data-theme="primesuspect"] .game-header-room-label {
  color: #ffffff !important;
  font-weight: 600 !important;
}

[data-theme="primesuspect"] .game-header-room-value {
  color: var(--mustard-yellow) !important;
  font-weight: 700 !important;
}

[data-theme="primesuspect"] .game-header-streamer-badge {
  background: rgba(184, 87, 42, 0.4) !important;
  border: 1px solid rgba(184, 87, 42, 0.8) !important;
  color: #ffffff !important;
}

[data-theme="primesuspect"] .game-header-streamer-badge-text {
  color: #ffffff !important;
}

[data-theme="primesuspect"] .game-header-copy-btn {
  color: #ffffff !important;
}

[data-theme="primesuspect"] .game-header-copy-btn:hover {
  background: rgba(184, 87, 42, 0.3) !important;
  color: var(--mustard-yellow) !important;
}

/* Player count and player info - enhance for dark background */
[data-theme="primesuspect"] .game-header-player-count {
  background: rgba(74, 63, 53, 0.6) !important;
  border: 1px solid rgba(184, 87, 42, 0.4) !important;
  color: #ffffff !important;
}

[data-theme="primesuspect"] .game-header-player-info {
  background: rgba(74, 63, 53, 0.6) !important;
  border: 1px solid rgba(184, 87, 42, 0.4) !important;
  color: #ffffff !important;
}

[data-theme="primesuspect"] .game-header-player-info.host {
  background: rgba(212, 165, 116, 0.3) !important;
  border-color: rgba(212, 165, 116, 0.6) !important;
  color: var(--mustard-yellow) !important;
}

[data-theme="primesuspect"] .game-header-host-badge {
  background: rgba(212, 165, 116, 0.3) !important;
  color: var(--mustard-yellow) !important;
}

/* Phase 6: Sidebar ‚Üí Reporter's Notebook */
[data-theme="primesuspect"] .chat-window {
  background: var(--aged-newspaper) !important;
  background-image:
    repeating-linear-gradient(
      transparent,
      transparent 1.5rem,
      rgba(139, 69, 19, 0.3) 1.5rem,
      rgba(139, 69, 19, 0.3) calc(1.5rem + 1px)
    ) !important;
  border: 2px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  box-shadow: 8px 8px 0 rgba(0, 0, 0, 0.3) !important;
}

[data-theme="primesuspect"] .chat-message {
  font-family: 'Courier Prime', monospace !important;
  font-size: 0.9rem !important;
  color: #2a2420 !important;
  background: transparent !important;
  margin-bottom: 1rem !important;
  line-height: 1.5rem !important;
}

[data-theme="primesuspect"] .chat-message * {
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .chat-messages {
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .chat-window .message-content {
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .chat-window .system-message {
  color: #6b5d52 !important;
  font-style: italic !important;
}

/* Player List - Suspect Dossier / Case File Style */
[data-theme="primesuspect"] .player-list-fixed {
  background: #c9b8a0 !important;
  background-image:
    url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="noise"%3E%3CfeTurbulence baseFrequency="0.9" numOctaves="4"/%3E%3CfeColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"/%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23noise)"/%3E%3C/svg%3E') !important;
  border: 3px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  box-shadow:
    8px 8px 0 rgba(0, 0, 0, 0.35),
    inset 0 0 30px rgba(0, 0, 0, 0.1) !important;
}

[data-theme="primesuspect"] .player-list-header {
  background: var(--tobacco-brown) !important;
  border-bottom: 2px solid #2a2420 !important;
  position: relative;
}

[data-theme="primesuspect"] .player-list-header h3 {
  color: var(--aged-newspaper) !important;
  -webkit-text-fill-color: var(--aged-newspaper) !important;
  font-family: 'Courier Prime', monospace !important;
  letter-spacing: 0.15em !important;
  text-transform: uppercase !important;
}

[data-theme="primesuspect"] .player-list-header h3::before {
  content: "üìÅ " !important;
}

[data-theme="primesuspect"] .player-item {
  background: rgba(255, 255, 255, 0.15) !important;
  border: 1px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  margin: 0.5rem !important;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2) !important;
}

[data-theme="primesuspect"] .player-item .player-name {
  color: #2a2420 !important;
  font-family: 'Courier Prime', monospace !important;
  font-weight: 700 !important;
  text-transform: uppercase !important;
}

[data-theme="primesuspect"] .player-item .player-score {
  color: #4a3f35 !important;
  font-family: 'Courier Prime', monospace !important;
}

[data-theme="primesuspect"] .player-badge,
[data-theme="primesuspect"] .player-badge.host,
[data-theme="primesuspect"] .player-badge.you,
[data-theme="primesuspect"] .player-badge.active,
[data-theme="primesuspect"] .badge-host,
[data-theme="primesuspect"] .badge-you,
[data-theme="primesuspect"] .player-badges [class*="badge"] {
  background: var(--tobacco-brown) !important;
  color: var(--aged-newspaper) !important;
  border: 1px solid #2a2420 !important;
  border-radius: 0 !important;
  font-family: 'Courier Prime', monospace !important;
  font-size: 0.65rem !important;
  font-weight: 700 !important;
  letter-spacing: 0.1em !important;
  padding: 0.15rem 0.4rem !important;
  box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.3) !important;
  text-shadow: none !important;
  animation: none !important;
}

/* Phase 7: Remove all rounded corners globally for PrimeSuspect */
[data-theme="primesuspect"] * {
  border-radius: 0 !important;
  scrollbar-color: var(--royal-crimson) rgba(var(--primary-rgb), 0.12);
}

/* Octagonal clip for avatars (photo corners) */
[data-theme="primesuspect"] .player-avatar,
[data-theme="primesuspect"] .avatar {
  clip-path: polygon(
    5% 0%, 95% 0%, 100% 5%, 100% 95%, 95% 100%, 5% 100%, 0% 95%, 0% 5%
  ) !important;
}

/* Phase 8: Texture utility classes */
.hg-texture-paper {
  background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="noise"%3E%3CfeTurbulence baseFrequency="0.9" numOctaves="4"/%3E%3CfeColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23noise)"/%3E%3C/svg%3E') !important;
  background-size: 200px 200px !important;
}

.hg-texture-cardstock {
  background-image:
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 1px,
      rgba(0, 0, 0, 0.03) 1px,
      rgba(0, 0, 0, 0.03) 2px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 1px,
      rgba(0, 0, 0, 0.03) 1px,
      rgba(0, 0, 0, 0.03) 2px
    ) !important;
}

.hg-texture-stain::after {
  content: '';
  position: absolute;
  width: 80px;
  height: 80px;
  background: radial-gradient(
    circle,
    rgba(101, 67, 33, 0.2),
    transparent 70%
  );
  border-radius: 50%;
  top: 20%;
  right: 10%;
  pointer-events: none;
}

/* Phase 9: Custom Cursor - Crosshair with white outline for visibility on any background */
[data-theme="primesuspect"],
[data-theme="primesuspect"] *,
[data-theme="primesuspect"] *::before,
[data-theme="primesuspect"] *::after {
  cursor: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"%3E%3C!-- White outline layer --%3E%3Ccircle cx="12" cy="12" r="10" fill="none" stroke="%23ffffff" stroke-width="4"/%3E%3Ccircle cx="12" cy="12" r="2.5" fill="%23ffffff"/%3E%3Cline x1="12" y1="0" x2="12" y2="8" stroke="%23ffffff" stroke-width="4"/%3E%3Cline x1="12" y1="16" x2="12" y2="24" stroke="%23ffffff" stroke-width="4"/%3E%3Cline x1="0" y1="12" x2="8" y2="12" stroke="%23ffffff" stroke-width="4"/%3E%3Cline x1="16" y1="12" x2="24" y2="12" stroke="%23ffffff" stroke-width="4"/%3E%3C!-- Dark inner layer --%3E%3Ccircle cx="12" cy="12" r="10" fill="none" stroke="%232a2420" stroke-width="2"/%3E%3Ccircle cx="12" cy="12" r="2" fill="%232a2420"/%3E%3Cline x1="12" y1="0" x2="12" y2="8" stroke="%232a2420" stroke-width="2"/%3E%3Cline x1="12" y1="16" x2="12" y2="24" stroke="%232a2420" stroke-width="2"/%3E%3Cline x1="0" y1="12" x2="8" y2="12" stroke="%232a2420" stroke-width="2"/%3E%3Cline x1="16" y1="12" x2="24" y2="12" stroke="%232a2420" stroke-width="2"/%3E%3C/svg%3E') 12 12, crosshair !important;
}

/* Pointer cursor for interactive elements - with white outline for visibility */
[data-theme="primesuspect"] button,
[data-theme="primesuspect"] a,
[data-theme="primesuspect"] [role="button"],
[data-theme="primesuspect"] input[type="submit"],
[data-theme="primesuspect"] input[type="button"],
[data-theme="primesuspect"] label[for],
[data-theme="primesuspect"] .clickable {
  cursor: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="20" height="24" viewBox="0 0 20 24"%3E%3Cpath d="M4,22 L4,2 L16,12 L10,12 L14,22 L10,22 L6,14 L4,16 Z" fill="%23ffffff" stroke="%23ffffff" stroke-width="3"/%3E%3Cpath d="M4,22 L4,2 L16,12 L10,12 L14,22 L10,22 L6,14 L4,16 Z" fill="%232a2420" stroke="%232a2420" stroke-width="1"/%3E%3C/svg%3E') 4 2, pointer !important;
}

/* Text cursor for text inputs */
[data-theme="primesuspect"] input[type="text"],
[data-theme="primesuspect"] input[type="email"],
[data-theme="primesuspect"] input[type="password"],
[data-theme="primesuspect"] textarea {
  cursor: text !important;
}

/* Phase 10: Settings Modal Redesign */
[data-theme="primesuspect"] .settings-modal-panel {
  background: var(--parchment-old) !important;
  backdrop-filter: none !important;
  border: 4px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  box-shadow:
    16px 16px 0 rgba(0, 0, 0, 0.4),
    inset 0 0 40px rgba(139, 69, 19, 0.1) !important;
}

[data-theme="primesuspect"] .settings-modal-eyebrow {
  background: var(--rust) !important;
  color: var(--cream) !important;
  font-family: 'VT323', monospace !important;
  font-size: 1rem !important;
  letter-spacing: 0.15em !important;
  padding: 0.3rem 0.8rem !important;
  border: 2px solid var(--tobacco-brown) !important;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.5) !important;
  transform: rotate(-1deg) !important;
}

/* Focus styling: brass focus ring for keyboard navigation */
[data-theme="primesuspect"] :where(a, button, input, select, textarea, [role="button"], [tabindex]):focus-visible {
  outline: 2px solid rgba(var(--accent-color-rgb), 0.75);
  outline-offset: 3px;
}

/* Noir UI building blocks */
[data-theme="primesuspect"] .hg-meta {
  font-family: var(--hg-font-meta);
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(246, 240, 230, 0.78);
}

[data-theme="primesuspect"] .hg-stamp {
  font-family: var(--font-typewriter);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  border: 1px solid rgba(var(--accent-color-rgb), 0.35);
  background: rgba(0, 0, 0, 0.55);
  box-shadow:
    0 18px 50px rgba(0, 0, 0, 0.55),
    inset 0 0 0 1px rgba(255, 255, 255, 0.05);
}

[data-theme="primesuspect"] .hg-panel {
  position: relative;
  background:
    radial-gradient(900px at 30% 18%, rgba(246, 240, 230, 0.06), transparent 56%),
    linear-gradient(135deg, rgba(0, 0, 0, 0.70), rgba(0, 0, 0, 0.38));
  border: 1px solid rgba(var(--accent-color-rgb), 0.18);
  box-shadow:
    0 20px 55px rgba(0, 0, 0, 0.65),
    inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

[data-theme="primesuspect"] .hg-panel::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.10;
  mix-blend-mode: overlay;
  border-radius: inherit;
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.02) 0px,
      rgba(255, 255, 255, 0.02) 1px,
      transparent 1px,
      transparent 7px
    );
}

[data-theme="primesuspect"] .hg-panel.hg-candlelight::before {
  content: '';
  position: absolute;
  inset: -40px;
  pointer-events: none;
  border-radius: inherit;
  opacity: 0.22;
  mix-blend-mode: screen;
  background:
    radial-gradient(900px at 25% 10%, rgba(246, 240, 230, 0.10), transparent 55%),
    radial-gradient(700px at 80% 18%, rgba(var(--accent-color-rgb), 0.08), transparent 60%);
  animation: hgCandleFlicker 12s ease-in-out infinite;
}

/* PrimeSuspect Settings Modal (Noir) */
[data-theme="primesuspect"] .settings-modal {
  position: fixed;
  inset: 0;
  z-index: var(--z-settings-modal);
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding: clamp(0.75rem, 3vw, 1.5rem);
  padding-top: calc(var(--app-header-height, 66px) + env(safe-area-inset-top, 0px) + 2.25rem);
  background:
    radial-gradient(1100px at 50% 18%, rgba(246, 240, 230, 0.06), transparent 55%),
    radial-gradient(900px at 25% 14%, rgba(var(--accent-color-rgb), 0.10), transparent 60%),
    radial-gradient(1200px at 50% 110%, rgba(0, 0, 0, 0.75), transparent 58%),
    rgba(0, 0, 0, 0.72);
  pointer-events: auto;
}

[data-theme="primesuspect"] .settings-modal-panel {
  width: min(560px, 100%);
  border-radius: 1.1rem;
  overflow: hidden;
  pointer-events: auto;
}

[data-theme="primesuspect"] .settings-modal-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 1rem;
  padding: 1.1rem 1.1rem 0.9rem;
  border-bottom: 1px solid rgba(var(--accent-color-rgb), 0.16);
}

[data-theme="primesuspect"] .settings-modal-title {
  min-width: 0;
}

[data-theme="primesuspect"] .settings-modal-eyebrow {
  font-family: var(--hg-font-meta);
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(var(--accent-color-rgb), 0.85);
  font-size: 0.7rem;
}

[data-theme="primesuspect"] .settings-modal-header h2 {
  margin: 0.25rem 0 0;
  font-family: var(--font-heading);
  color: var(--parchment);
  letter-spacing: 0.06em;
  font-size: 1.25rem;
}

[data-theme="primesuspect"] .settings-modal-close {
  width: 2.5rem;
  height: 2.5rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 0.9rem;
  color: var(--parchment);
  background: rgba(0, 0, 0, 0.35);
  border: 1px solid rgba(var(--accent-color-rgb), 0.22);
  transition: transform 0.15s ease, background 0.15s ease, border-color 0.15s ease;
}

[data-theme="primesuspect"] .settings-modal-close:hover {
  transform: translateY(-1px);
  background: rgba(0, 0, 0, 0.5);
  border-color: rgba(var(--accent-color-rgb), 0.35);
}

[data-theme="primesuspect"] .settings-modal-content {
  padding: 1rem 1.1rem 0.6rem;
  display: flex;
  flex-direction: column;
  gap: 0.9rem;
}

[data-theme="primesuspect"] .settings-section {
  padding: 0.9rem 0.9rem 0.85rem;
  border-radius: 1rem;
  background: rgba(0, 0, 0, 0.28);
  border: 1px solid rgba(var(--accent-color-rgb), 0.12);
}

[data-theme="primesuspect"] .settings-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 0.65rem;
}

[data-theme="primesuspect"] .settings-row-actions {
  display: inline-flex;
  align-items: center;
  gap: 0.65rem;
}

[data-theme="primesuspect"] .settings-row-label {
  display: inline-flex;
  align-items: center;
  gap: 0.55rem;
  color: rgba(246, 240, 230, 0.92);
  font-weight: 700;
  letter-spacing: 0.02em;
}

[data-theme="primesuspect"] .settings-row-value {
  font-family: var(--hg-font-meta);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(246, 240, 230, 0.78);
  font-size: 0.75rem;
}

[data-theme="primesuspect"] .settings-subtext {
  margin-top: 0.6rem;
  color: rgba(246, 240, 230, 0.65);
  font-size: 0.8rem;
  line-height: 1.3;
}

[data-theme="primesuspect"] .settings-slider {
  width: 100%;
  accent-color: var(--royal-gold);
}

[data-theme="primesuspect"] .settings-switch {
  width: 52px;
  height: 30px;
  border-radius: 999px;
  position: relative;
  background: rgba(0, 0, 0, 0.45);
  border: 1px solid rgba(var(--accent-color-rgb), 0.22);
  transition: background 0.2s ease, border-color 0.2s ease;
}

[data-theme="primesuspect"] .settings-switch.on {
  background: rgba(var(--accent-color-rgb), 0.22);
  border-color: rgba(var(--accent-color-rgb), 0.45);
}

[data-theme="primesuspect"] .settings-switch-thumb {
  position: absolute;
  top: 50%;
  left: 4px;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  border-radius: 999px;
  background: rgba(246, 240, 230, 0.92);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.55);
  transition: transform 0.2s ease, background 0.2s ease;
}

[data-theme="primesuspect"] .settings-switch.on .settings-switch-thumb {
  transform: translate(22px, -50%);
  background: var(--royal-gold);
}

[data-theme="primesuspect"] .settings-modal-footer {
  padding: 0.85rem 1.1rem 1rem;
  border-top: 1px solid rgba(var(--accent-color-rgb), 0.12);
  display: flex;
  justify-content: flex-end;
}

[data-theme="primesuspect"] .settings-hint {
  font-family: var(--hg-font-meta);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(246, 240, 230, 0.62);
  font-size: 0.7rem;
}

/* ===== SETTINGS MODAL - NOIR PARCHMENT OVERRIDES ===== */
/* Override dark glass look with aged paper aesthetic */
[data-theme="primesuspect"] .settings-modal-panel {
  background: #c9b8a0 !important;
  background-image: url('data:image/svg+xml,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noiseFilter"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noiseFilter)" opacity="0.08"/%3E%3C/svg%3E') !important;
  border: 4px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  box-shadow: 8px 8px 0 rgba(0, 0, 0, 0.4) !important;
}

[data-theme="primesuspect"] .settings-modal {
  background: rgba(42, 36, 32, 0.85) !important;
}

[data-theme="primesuspect"] .settings-modal-header {
  background: var(--tobacco-brown) !important;
  border-bottom: 2px solid #2a2420 !important;
  padding: 0.8rem 1rem !important;
}

[data-theme="primesuspect"] .settings-modal-header h2 {
  color: var(--aged-newspaper) !important;
  font-family: 'Courier Prime', monospace !important;
  text-transform: uppercase !important;
  letter-spacing: 0.1em !important;
}

[data-theme="primesuspect"] .settings-modal-eyebrow {
  color: var(--aged-newspaper) !important;
  opacity: 0.8 !important;
}

[data-theme="primesuspect"] .settings-modal-close {
  background: var(--rust) !important;
  border: 2px solid #2a2420 !important;
  border-radius: 0 !important;
  color: var(--aged-newspaper) !important;
}

[data-theme="primesuspect"] .settings-modal-close:hover {
  background: #8b3a3a !important;
}

[data-theme="primesuspect"] .settings-modal-content {
  padding: 1rem !important;
}

[data-theme="primesuspect"] .settings-section {
  background: rgba(255, 255, 255, 0.2) !important;
  border: 1px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  padding: 0.8rem !important;
}

[data-theme="primesuspect"] .settings-row-label {
  color: #2a2420 !important;
  font-family: 'Courier Prime', monospace !important;
  font-weight: 600 !important;
}

[data-theme="primesuspect"] .settings-row-label svg,
[data-theme="primesuspect"] .settings-row-label .icon {
  color: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .settings-row-value {
  color: #4a3f35 !important;
  font-family: 'Courier Prime', monospace !important;
}

[data-theme="primesuspect"] .settings-subtext {
  color: #5a4f45 !important;
  font-family: 'Courier Prime', monospace !important;
  font-style: italic !important;
}

[data-theme="primesuspect"] .settings-switch {
  background: var(--tobacco-brown) !important;
  border: 2px solid #2a2420 !important;
  border-radius: 4px !important;
}

[data-theme="primesuspect"] .settings-switch.on {
  background: var(--royal-gold) !important;
  border-color: #8b7355 !important;
}

[data-theme="primesuspect"] .settings-switch-thumb {
  background: var(--aged-newspaper) !important;
  border-radius: 2px !important;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3) !important;
}

[data-theme="primesuspect"] .settings-slider {
  accent-color: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .settings-slider::-webkit-slider-thumb {
  background: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .settings-slider::-webkit-slider-runnable-track {
  background: rgba(74, 63, 53, 0.3) !important;
}

[data-theme="primesuspect"] .settings-modal-footer {
  background: rgba(74, 63, 53, 0.15) !important;
  border-top: 2px solid var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .settings-hint {
  color: #4a3f35 !important;
  font-family: 'Courier Prime', monospace !important;
}

/* ===== CARD LEGEND MODAL - NOIR THEME ===== */
[data-theme="primesuspect"] .card-legend-panel {
  max-width: 700px;
  width: 95vw;
  max-height: 85vh;
}

[data-theme="primesuspect"] .card-legend-content {
  overflow-y: auto;
  max-height: calc(85vh - 140px);
}

[data-theme="primesuspect"] .card-legend-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

[data-theme="primesuspect"] .card-legend-item {
  display: flex;
  gap: 0.75rem;
  padding: 0.75rem;
  background: rgba(74, 63, 53, 0.1);
  border: 1px solid rgba(74, 63, 53, 0.2);
  border-radius: 4px;
}

[data-theme="primesuspect"] .card-legend-image-wrapper {
  flex-shrink: 0;
  width: 80px;
}

[data-theme="primesuspect"] .card-legend-image {
  width: 100%;
  height: auto;
  border-radius: 4px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

[data-theme="primesuspect"] .card-legend-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

[data-theme="primesuspect"] .card-legend-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

[data-theme="primesuspect"] .card-legend-name {
  font-family: var(--hg-font-display);
  font-size: 1rem;
  font-weight: 600;
  color: var(--tobacco-brown);
}

[data-theme="primesuspect"] .card-legend-value {
  font-family: var(--hg-font-display);
  font-size: 0.85rem;
  font-weight: 700;
  background: var(--tobacco-brown);
  color: var(--parchment-cream);
  padding: 0.15rem 0.5rem;
  border-radius: 3px;
  min-width: 1.5rem;
  text-align: center;
}

[data-theme="primesuspect"] .card-legend-description {
  font-family: var(--hg-font-body);
  font-size: 0.8rem;
  color: #4a3f35;
  line-height: 1.4;
  margin: 0;
}

[data-theme="primesuspect"] .card-legend-copies {
  font-family: var(--hg-font-body);
  font-size: 0.7rem;
  color: var(--rust-red);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 500;
  opacity: 0.9;
}

/* Responsive: Stack cards on mobile */
@media (max-width: 600px) {
  [data-theme="primesuspect"] .card-legend-grid {
    grid-template-columns: 1fr;
  }

  [data-theme="primesuspect"] .card-legend-panel {
    max-height: 90vh;
  }

  [data-theme="primesuspect"] .card-legend-content {
    max-height: calc(90vh - 140px);
  }
}

/* ===== DEVICE SETTINGS MODAL (Video/Audio) - NOIR OVERRIDES ===== */
/* Overrides Tailwind classes used in WebcamDisplay.tsx DeviceSettingsModal */
[data-theme="primesuspect"] .device-settings-modal {
  background: #c9b8a0 !important;
  background-image: url('data:image/svg+xml,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noiseFilter"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noiseFilter)" opacity="0.08"/%3E%3C/svg%3E') !important;
  border: 4px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  box-shadow: 8px 8px 0 rgba(0, 0, 0, 0.4) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

[data-theme="primesuspect"] .device-settings-modal h3,
[data-theme="primesuspect"] .device-settings-modal h4 {
  color: #2a2420 !important;
  font-family: 'Courier Prime', monospace !important;
}

/* Override Tailwind text colors */
[data-theme="primesuspect"] .device-settings-modal .text-slate-100,
[data-theme="primesuspect"] .device-settings-modal .text-slate-200,
[data-theme="primesuspect"] .device-settings-modal .text-slate-300,
[data-theme="primesuspect"] .device-settings-modal .text-slate-400 {
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .device-settings-modal .text-cyan-400,
[data-theme="primesuspect"] .device-settings-modal .text-cyan-200 {
  color: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .device-settings-modal .text-green-200,
[data-theme="primesuspect"] .device-settings-modal .text-amber-200 {
  color: #4a3f35 !important;
}

[data-theme="primesuspect"] .device-settings-modal .text-purple-400 {
  color: var(--rust) !important;
}

/* Override Tailwind backgrounds */
[data-theme="primesuspect"] .device-settings-modal .bg-slate-700,
[data-theme="primesuspect"] .device-settings-modal .bg-slate-700\/50,
[data-theme="primesuspect"] .device-settings-modal .bg-slate-800,
[data-theme="primesuspect"] .device-settings-modal .bg-slate-800\/60,
[data-theme="primesuspect"] .device-settings-modal .bg-slate-800\/80,
[data-theme="primesuspect"] .device-settings-modal .bg-slate-900 {
  background: rgba(255, 255, 255, 0.2) !important;
}

/* Info boxes */
[data-theme="primesuspect"] .device-settings-modal .bg-green-900\/30 {
  background: rgba(74, 63, 53, 0.2) !important;
  border-color: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .device-settings-modal .bg-gradient-to-r {
  background: rgba(74, 63, 53, 0.15) !important;
  border-color: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .device-settings-modal .border-green-400\/50,
[data-theme="primesuspect"] .device-settings-modal .border-amber-400\/50 {
  border-color: var(--tobacco-brown) !important;
}

/* Override borders */
[data-theme="primesuspect"] .device-settings-modal .border-slate-600,
[data-theme="primesuspect"] .device-settings-modal .border-slate-600\/50 {
  border-color: var(--tobacco-brown) !important;
}

/* Tab styling - active tab */
[data-theme="primesuspect"] .device-settings-modal button.border-cyan-400 {
  border-color: var(--royal-gold) !important;
}

/* Select dropdowns */
[data-theme="primesuspect"] .device-settings-modal select {
  background: rgba(255, 255, 255, 0.3) !important;
  color: #2a2420 !important;
  border: 2px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
}

[data-theme="primesuspect"] .device-settings-modal select option {
  background: #c9b8a0 !important;
  color: #2a2420 !important;
}

/* Preview box border */
[data-theme="primesuspect"] .device-settings-modal .border-cyan-500\/50 {
  border-color: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .device-settings-modal .shadow-cyan-500\/10 {
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3) !important;
}

/* Preview label */
[data-theme="primesuspect"] .device-settings-modal .bg-blue-600\/80 {
  background: var(--tobacco-brown) !important;
}

/* Enable/Disable buttons */
[data-theme="primesuspect"] .device-settings-modal .bg-green-600 {
  background: var(--royal-gold) !important;
  color: #2a2420 !important;
}

[data-theme="primesuspect"] .device-settings-modal .bg-red-600 {
  background: var(--rust) !important;
  color: var(--aged-newspaper) !important;
}

/* Virtual background grid items */
[data-theme="primesuspect"] .device-settings-modal .border-blue-500 {
  border-color: var(--royal-gold) !important;
}

[data-theme="primesuspect"] .device-settings-modal .bg-blue-500\/20 {
  background: rgba(210, 178, 90, 0.2) !important;
}

/* Close button */
[data-theme="primesuspect"] .device-settings-modal .hover\:bg-slate-700\/50:hover {
  background: rgba(74, 63, 53, 0.3) !important;
}

/* Rounded elements - make sharp */
[data-theme="primesuspect"] .device-settings-modal .rounded-lg,
[data-theme="primesuspect"] .device-settings-modal .rounded-xl {
  border-radius: 0 !important;
}

/* Remove frosted glass effects - replace with solid colors and textures */
[data-theme="primesuspect"] .card,
[data-theme="primesuspect"] .sketch-box {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

[data-theme="primesuspect"] .header {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .game-header {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .tutorial-sidebar {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: #c9b8a0 !important;
  background-image:
    url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="noise"%3E%3CfeTurbulence baseFrequency="0.9" numOctaves="4"/%3E%3CfeColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"/%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23noise)"/%3E%3C/svg%3E') !important;
  border: 3px solid var(--tobacco-brown) !important;
  box-shadow:
    8px 8px 0 rgba(0, 0, 0, 0.35),
    inset 0 0 20px rgba(0, 0, 0, 0.08) !important;
}

[data-theme="primesuspect"] .tutorial-sidebar-header {
  color: var(--tobacco-brown) !important;
  font-family: 'Courier Prime', monospace !important;
  letter-spacing: 0.15em !important;
  text-transform: uppercase !important;
  border-bottom: 2px solid var(--tobacco-brown) !important;
  padding-bottom: 0.5rem !important;
  margin-bottom: 0.75rem !important;
}

[data-theme="primesuspect"] .tutorial-progress {
  background: rgba(74, 63, 53, 0.3) !important;
}

[data-theme="primesuspect"] .tutorial-progress-bar {
  background: linear-gradient(90deg, var(--royal-crimson), var(--royal-crimson-light)) !important;
}

[data-theme="primesuspect"] .tutorial-sidebar-title {
  color: #2a2420 !important;
  font-family: 'Courier Prime', monospace !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  min-height: 1.5rem;
}

[data-theme="primesuspect"] .tutorial-sidebar-description {
  color: #3d3a35 !important;
  font-family: 'Courier Prime', monospace !important;
  line-height: 1.6 !important;
  min-height: 100px;
}

[data-theme="primesuspect"] .tutorial-sidebar-content {
  height: 420px;
  border-bottom: 1px solid rgba(74, 63, 53, 0.3) !important;
}

[data-theme="primesuspect"] .tutorial-sidebar-image {
  width: 100%;
  height: 200px;
  object-fit: contain;
  border-radius: 6px;
  border: 2px solid var(--tobacco-brown);
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.2);
}

[data-theme="primesuspect"] .tutorial-sidebar-dots {
  border-top: none !important;
}

[data-theme="primesuspect"] .tutorial-sidebar-dots button.tutorial-dot-wrapper .tutorial-dot {
  background: rgba(74, 63, 53, 0.4) !important;
}

[data-theme="primesuspect"] .tutorial-sidebar-dots button.tutorial-dot-wrapper:hover .tutorial-dot {
  background: rgba(74, 63, 53, 0.7) !important;
}

[data-theme="primesuspect"] .tutorial-sidebar-dots button.tutorial-dot-wrapper.active .tutorial-dot {
  background: var(--royal-crimson) !important;
}

[data-theme="primesuspect"] .tutorial-dot-progress {
  filter: drop-shadow(0 0 4px rgba(106, 22, 35, 0.8)) !important;
}

[data-theme="primesuspect"] .tutorial-dot-progress-ring {
  stroke: var(--royal-crimson) !important;
}

/* Tutorial Modal - Noir Theme */
[data-theme="primesuspect"] .tutorial-overlay {
  background: rgba(7, 7, 10, 0.92) !important;
}

[data-theme="primesuspect"] .tutorial-modal {
  background: #c9b8a0 !important;
  background-image:
    url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Cfilter id="noise"%3E%3CfeTurbulence baseFrequency="0.9" numOctaves="4"/%3E%3CfeColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/%3E%3C/filter%3E%3Crect width="300" height="300" filter="url(%23noise)"/%3E%3C/svg%3E') !important;
  border: 3px solid var(--tobacco-brown) !important;
  box-shadow:
    12px 12px 0 rgba(0, 0, 0, 0.5),
    inset 0 0 30px rgba(0, 0, 0, 0.1) !important;
}

[data-theme="primesuspect"] .tutorial-close {
  background: var(--tobacco-brown) !important;
  color: var(--aged-newspaper) !important;
  border: 1px solid #2a2420 !important;
}

[data-theme="primesuspect"] .tutorial-close:hover {
  background: var(--royal-crimson) !important;
  color: #ffffff !important;
}

[data-theme="primesuspect"] .tutorial-content {
  height: 420px;
}

[data-theme="primesuspect"] .tutorial-image {
  width: 100%;
  height: 220px;
  object-fit: contain;
  border-radius: 8px;
  border: 2px solid var(--tobacco-brown);
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.25);
}

[data-theme="primesuspect"] .tutorial-title {
  color: #2a2420 !important;
  font-family: 'Courier Prime', monospace !important;
  text-transform: uppercase !important;
  letter-spacing: 0.08em !important;
  min-height: 2rem;
}

[data-theme="primesuspect"] .tutorial-description {
  color: #3d3a35 !important;
  font-family: 'Courier Prime', monospace !important;
  min-height: 80px;
}

[data-theme="primesuspect"] .tutorial-navigation {
  border-top: 2px solid var(--tobacco-brown) !important;
}

[data-theme="primesuspect"] .tutorial-nav-btn {
  background: var(--tobacco-brown) !important;
  border: 1px solid #2a2420 !important;
  color: var(--aged-newspaper) !important;
  font-family: 'Courier Prime', monospace !important;
  text-transform: uppercase !important;
  letter-spacing: 0.1em !important;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3) !important;
}

[data-theme="primesuspect"] .tutorial-nav-btn:hover:not(:disabled) {
  background: var(--royal-crimson) !important;
  color: #ffffff !important;
  transform: translateY(-1px) !important;
}

[data-theme="primesuspect"] .tutorial-nav-btn:disabled {
  background: rgba(74, 63, 53, 0.4) !important;
  color: rgba(42, 36, 32, 0.5) !important;
  box-shadow: none !important;
}

[data-theme="primesuspect"] .tutorial-dots .tutorial-dot {
  background: rgba(74, 63, 53, 0.4) !important;
}

[data-theme="primesuspect"] .tutorial-dots .tutorial-dot:hover {
  background: rgba(74, 63, 53, 0.7) !important;
}

[data-theme="primesuspect"] .tutorial-dots .tutorial-dot.active {
  background: var(--royal-crimson) !important;
  box-shadow: 0 0 8px rgba(106, 22, 35, 0.6) !important;
}

[data-theme="primesuspect"] .tutorial-trigger-btn {
  background: var(--tobacco-brown) !important;
  border: 1px solid #2a2420 !important;
  color: var(--aged-newspaper) !important;
  font-family: 'Courier Prime', monospace !important;
  text-transform: uppercase !important;
  letter-spacing: 0.1em !important;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3) !important;
}

[data-theme="primesuspect"] .tutorial-trigger-btn:hover {
  background: var(--royal-crimson) !important;
  color: #ffffff !important;
}

/* Loading States - Noir Theme */
[data-theme="primesuspect"] .mobile-loading {
  background: var(--velvet-dark) !important;
}

[data-theme="primesuspect"] .mobile-loading-spinner {
  border-color: var(--tobacco-brown) !important;
  border-top-color: var(--royal-crimson) !important;
}

[data-theme="primesuspect"] .mobile-loading-text {
  color: var(--aged-newspaper) !important;
  font-family: 'Courier Prime', monospace !important;
  text-transform: uppercase !important;
  letter-spacing: 0.1em !important;
}

/* General loading spinner override */
[data-theme="primesuspect"] .loading-spinner,
[data-theme="primesuspect"] .spinner,
[data-theme="primesuspect"] [class*="spinner"] {
  border-color: var(--tobacco-brown) !important;
  border-top-color: var(--royal-crimson) !important;
}

/* Loading overlay */
[data-theme="primesuspect"] .loading-overlay,
[data-theme="primesuspect"] .loading-state {
  background: rgba(7, 7, 10, 0.9) !important;
}

[data-theme="primesuspect"] .loading-text,
[data-theme="primesuspect"] .loading-message {
  color: var(--aged-newspaper) !important;
  font-family: 'Courier Prime', monospace !important;
}

[data-theme="primesuspect"] .split-card {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

@keyframes hgCandleFlicker {
  0%, 100% { transform: translate3d(0, 0, 0); opacity: 0.20; }
  33% { transform: translate3d(-6px, 4px, 0); opacity: 0.24; }
  66% { transform: translate3d(7px, -5px, 0); opacity: 0.18; }
}

@media (prefers-reduced-motion: reduce) {
  [data-theme="primesuspect"] .hg-panel.hg-candlelight::before,
  [data-theme="primesuspect"] .app-root::after {
    animation: none !important;
  }
}

/* In-room header spacing: keep content flush to header bottom (including safe-area). */
[data-theme="primesuspect"] {
  --app-header-height: 66px;
}

@media (max-width: 767px) {
  [data-theme="primesuspect"] {
    --app-header-height: 52px;
  }
}

[data-theme="primesuspect"] .app-root.in-room {
  padding-top: calc(var(--app-header-height) + env(safe-area-inset-top, 0px));
}

[data-theme="primesuspect"] .app-root.in-room .game-header {
  height: calc(var(--app-header-height) + env(safe-area-inset-top, 0px));
  padding-top: env(safe-area-inset-top, 0px);
}

/* Mobile/Tablet: Hide GameHeader completely - mobile game has its own header */
@media (max-width: 1024px) {
  [data-theme="primesuspect"] .app-root.in-room .game-header {
    display: none !important;
  }

  [data-theme="primesuspect"] .app-root.in-room {
    padding-top: 0;
  }

  /* Hide bottom tab bar on mobile/tablet - mobile game handles navigation */
  [data-theme="primesuspect"] .app-root.in-room .bottom-tab-bar {
    display: none !important;
  }
}

/* ============================================
   HEARTSGAMBIT - VIEWPORT SCALING
   Ensures all content fits without scrolling
   ============================================ */

/* Root container - viewport height with flex */
[data-theme="primesuspect"] .app-root {
  height: 100vh;
  height: 100dvh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

[data-theme="primesuspect"] .app-root.in-room {
  overflow: hidden;
}

/* App layout - flex child that fills remaining space */
[data-theme="primesuspect"] .app-layout {
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding-top: 0;
  background: transparent;
}

/* In-room: let the game fill to header/sidebar edges */
[data-theme="primesuspect"] .app-root.in-room .game-content {
  padding: 0;
  overflow: hidden;
}

/* In-room (App.tsx layout): remove inset padding between header and panels */
[data-theme="primesuspect"] .app-root.in-room .main-scroll-area {
  padding: 0 !important;
}

@media (max-width: 1023px) {
  [data-theme="primesuspect"] .app-root.in-room .main-scroll-area {
    padding-bottom: calc(var(--filmstrip-safe-space, 0px) + env(safe-area-inset-bottom, 0px)) !important;
  }
}

/* PlayerList: avoid clipped gradient text on dark/noir backgrounds */
[data-theme="primesuspect"] .player-list-fixed {
  background: rgba(0, 0, 0, 0.35);
  border-color: rgba(var(--accent-color-rgb), 0.2);
}

[data-theme="primesuspect"] .player-list-header {
  background: rgba(0, 0, 0, 0.45);
  border-bottom-color: rgba(var(--accent-color-rgb), 0.16);
}

[data-theme="primesuspect"] .player-list-header h3 {
  background: none;
  -webkit-text-fill-color: var(--parchment);
  color: var(--parchment);
  text-shadow: 0 2px 12px rgba(0, 0, 0, 0.7);
}

/* Homepage - fit to viewport minus header */
[data-theme="primesuspect"] .home-hero {
  height: calc(100dvh - 66px);
  height: calc(100vh - 66px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

[data-theme="primesuspect"] .home-shell {
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  padding: clamp(0.5rem, 2vh, 2rem);
  overflow-y: auto;
}

/* Scale mascot based on viewport */
[data-theme="primesuspect"] .home-mascot-container {
  height: clamp(60px, 12vh, 150px);
  flex-shrink: 0;
}

[data-theme="primesuspect"] .home-mascot-container img {
  height: 100%;
  width: auto;
}

/* Scale title based on viewport */
[data-theme="primesuspect"] .home-header {
  flex-shrink: 0;
}

[data-theme="primesuspect"] .home-header h1 {
  font-size: clamp(1.5rem, 4vw, 3rem);
}

/* Flexible card layout - compact, only take needed height */
[data-theme="primesuspect"] .home-cards-wrapper {
  flex: 0 1 auto;
  min-height: 0;
  display: flex;
  align-items: stretch;
}

[data-theme="primesuspect"] .split-actions {
  flex: 0 1 auto;
  min-height: 0;
  display: flex;
  gap: 1rem;
  align-items: stretch;
}

[data-theme="primesuspect"] .split-card {
  flex: 1 1 0;
  min-height: 0;
  display: flex;
  flex-direction: column;
  overflow: visible;
}

[data-theme="primesuspect"] .split-card .home-form {
  flex: 1 1 auto;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

[data-theme="primesuspect"] .split-card .form-group {
  flex-shrink: 0;
}

[data-theme="primesuspect"] .split-card .primary-cta {
  margin-top: auto;
  flex-shrink: 0;
}

/* Game container - full height flex with radial gradient */
[data-theme="primesuspect"] .prime-suspect-game {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  font-family: var(--font-body);
  letter-spacing: 0.01em;
  background:
    radial-gradient(900px at 50% 18%, rgba(246, 240, 230, 0.06), transparent 55%),
    radial-gradient(1200px at 50% 110%, rgba(0, 0, 0, 0.55), transparent 60%),
    linear-gradient(135deg, rgba(0, 0, 0, 0.45) 0%, rgba(0, 0, 0, 0.25) 60%, rgba(0, 0, 0, 0.48) 100%);
}

/* Card sizing - all cards use same (player) size */
[data-theme="primesuspect"] .hg-deck-card,
[data-theme="primesuspect"] .hg-discard-card,
[data-theme="primesuspect"] .hg-hand-card,
[data-theme="primesuspect"] .hg-opponent-card,
[data-theme="primesuspect"] .hg-card {
  height: var(--hg-card-height, 240px);
  width: var(--hg-card-width, 160px);
  border-radius: 0.85rem;
  border: 1px solid rgba(var(--accent-color-rgb), 0.18);
  box-shadow:
    0 18px 40px rgba(0, 0, 0, 0.55),
    inset 0 0 0 1px rgba(255, 255, 255, 0.05);
  background: rgba(0, 0, 0, 0.18);
  transform: translateZ(0);
}

[data-theme="primesuspect"] .hg-deck-card,
[data-theme="primesuspect"] .hg-discard-card {
  transition: transform 0.28s ease, box-shadow 0.28s ease;
  will-change: transform;
}

[data-theme="primesuspect"] .hg-deck-card:hover,
[data-theme="primesuspect"] .hg-discard-card:hover {
  transform: translateY(-2px) rotate(-0.25deg);
  box-shadow:
    0 22px 60px rgba(0, 0, 0, 0.7),
    inset 0 0 0 1px rgba(255, 255, 255, 0.06);
}

[data-theme="primesuspect"] .hg-hand-card {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

[data-theme="primesuspect"] .hg-hand-card:hover {
  transform: scale(1.5);
  z-index: 50;
}

/* Touch devices: avoid sticky :hover states; selection/animations handle emphasis. */
@media (hover: none) and (pointer: coarse) {
  [data-theme="primesuspect"] .hg-deck-card:hover,
  [data-theme="primesuspect"] .hg-discard-card:hover,
  [data-theme="primesuspect"] .hg-hand-card:hover,
  [data-theme="primesuspect"] .hg-dynamic-card:hover {
    transform: none !important;
  }

  [data-theme="primesuspect"] .hg-hand-card:hover {
    z-index: auto;
  }

  [data-theme="primesuspect"] .hg-dynamic-card.selected {
    transform: none !important;
  }
}

/* Filmstrip space coordination */
[data-theme="primesuspect"] .app-root.in-room .app-layout {
  min-height: 0; /* Override base min-height: 100vh to allow shrinking */
  height: calc(100dvh - var(--filmstrip-safe-space, 0px));
  height: calc(100vh - var(--filmstrip-safe-space, 0px));
  max-height: calc(100dvh - var(--filmstrip-safe-space, 0px));
  max-height: calc(100vh - var(--filmstrip-safe-space, 0px));
}

[data-theme="primesuspect"] .app-root.in-room:not(.filmstrip-resizing) .app-layout {
  transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1), max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Header height and dynamic card sizing */
[data-theme="primesuspect"] {
  --hg-header-height: 66px;
  /* Dynamic card sizing using vh for responsive scaling */
  /* Lowered minimums to allow cards to shrink when filmstrip is maximized */
  --hg-card-height: clamp(70px, 22vh, 240px);
  --hg-card-width: clamp(47px, 14.7vh, 160px);
}

/* When filmstrip is active, scale cards much more aggressively */
html.has-filmstrip [data-theme="primesuspect"] {
  --hg-card-height: clamp(60px, 15vh, 180px);
  --hg-card-width: clamp(40px, 10vh, 120px);
}

/* Small viewports */
@media (max-height: 700px), (max-width: 480px) {
  [data-theme="primesuspect"] {
    --hg-card-height: clamp(65px, 20vh, 210px);
    --hg-card-width: clamp(43px, 13.3vh, 140px);
  }

  html.has-filmstrip [data-theme="primesuspect"] {
    --hg-card-height: clamp(50px, 12vh, 140px);
    --hg-card-width: clamp(33px, 8vh, 93px);
  }
}

/* Very small viewports */
@media (max-height: 600px) {
  [data-theme="primesuspect"] {
    --hg-header-height: 50px;
    --hg-card-height: clamp(60px, 18vh, 180px);
    --hg-card-width: clamp(40px, 12vh, 120px);
  }

  html.has-filmstrip [data-theme="primesuspect"] {
    --hg-card-height: clamp(45px, 10vh, 120px);
    --hg-card-width: clamp(30px, 6.7vh, 80px);
  }

  [data-theme="primesuspect"] .home-hero {
    height: calc(100dvh - 50px);
    height: calc(100vh - 50px);
  }
}

/* Compress game UI when filmstrip is active to maximize card space */
html.has-filmstrip [data-theme="primesuspect"] .hearts-gambit-game {
  /* Reduce section padding */
  --hg-section-padding: 0.5rem;
}

html.has-filmstrip [data-theme="primesuspect"] .hearts-gambit-game > div > div:first-child {
  /* Reduce top section padding */
  padding: 0.5rem;
}

html.has-filmstrip [data-theme="primesuspect"] .hearts-gambit-game > div > div:last-child {
  /* Reduce bottom section (player area) padding */
  padding: 0.5rem;
}

/* Compress player info header when filmstrip active */
html.has-filmstrip [data-theme="primesuspect"] .hearts-gambit-game > div > div:last-child > div:first-child {
  margin-bottom: 0.25rem;
  gap: 0.5rem;
}

/* ============================================
   Dynamic Card System
   ============================================ */

/* Base dynamic card structure */
[data-theme="primesuspect"] .hg-dynamic-card {
  /* Scale card chrome proportionally so mobile matches desktop styling */
  --hg-card-border-width: clamp(1px, calc(var(--hg-card-width, 160px) * 0.025), 4px);
  --hg-card-radius: clamp(8px, calc(var(--hg-card-width, 160px) * 0.075), 12px);
  --hg-card-outline-width: clamp(1px, calc(var(--hg-card-width, 160px) * 0.025), 4px);

  width: var(--hg-card-width, 160px);
  height: var(--hg-card-height, 240px);
  background-color: #f4e4bc;
  border: var(--hg-card-border-width) solid white;
  border-radius: var(--hg-card-radius);
  position: relative;
  overflow: hidden;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
  cursor: pointer;
  color: #2c2c2c;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

[data-theme="primesuspect"] .hg-dynamic-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.7);
}

[data-theme="primesuspect"] .hg-dynamic-card.selected {
  transform: scale(1.05) translateY(-10px);
  box-shadow:
    0 20px 40px rgba(0, 0, 0, 0.7),
    0 0 0 var(--hg-card-outline-width, 4px) var(--royal-gold, #d2b25a);
}

/* Card back styling */
[data-theme="primesuspect"] .hg-dynamic-card.hg-card-back {
  background: transparent;
}

[data-theme="primesuspect"] .hg-dynamic-card .card-back-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: calc(var(--hg-card-radius, 12px) - var(--hg-card-border-width, 4px));
}

/* Header overlay - Value and Name */
[data-theme="primesuspect"] .hg-dynamic-card .card-header {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding: 4px 6px;
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: transparent;
  z-index: 10;
}

[data-theme="primesuspect"] .hg-dynamic-card .card-value {
  font-family: 'Courier Prime', 'Press Start 2P', monospace;
  font-size: clamp(16px, 4vw, 22px);
  font-weight: bold;
  color: #000;
  text-shadow: 1px 1px 0px #fff;
}

[data-theme="primesuspect"] .hg-dynamic-card .card-title {
  font-family: 'Courier Prime', monospace;
  font-size: clamp(5px, 1.5vw, 7px);
  text-transform: uppercase;
  color: #333;
  background: white;
  padding: 2px 3px;
  border-radius: 2px;
  border: 1px solid #000;
  box-shadow: 1px 1px 0px rgba(0, 0, 0, 0.2);
  letter-spacing: 0.2px;
  position: absolute;
  top: 2px;
  right: 2px;
  white-space: nowrap;
}

/* Art section - Character image */
[data-theme="primesuspect"] .hg-dynamic-card .card-art {
  width: 100%;
  height: 62%;
  background-color: #f4e4bc;
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
  border-bottom: 2px solid #ddd;
}

/* Body section - Type and Description */
[data-theme="primesuspect"] .hg-dynamic-card .card-body {
  padding: 4px 4px;
  height: 38%;
  background-color: #f4e4bc;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  text-align: center;
  font-family: 'VT323', 'Courier Prime', monospace;
  box-sizing: border-box;
  overflow: hidden;
}

[data-theme="primesuspect"] .hg-dynamic-card .effect-tag {
  font-family: 'Courier Prime', monospace;
  color: #d32f2f;
  font-size: clamp(6px, 1.5vw, 9px);
  font-weight: bold;
  margin-bottom: 2px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  flex-shrink: 0;
}

[data-theme="primesuspect"] .hg-dynamic-card .card-description {
  font-family: 'Courier Prime', monospace;
  font-size: clamp(8px, 2.2vw, 12px);
  line-height: 1.15;
  color: #4a3b2a;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 5;
  -webkit-box-orient: vertical;
  flex: 1;
}

/* Responsive adjustments for dynamic cards */
@media (max-height: 700px), (max-width: 480px) {
  [data-theme="primesuspect"] .hg-dynamic-card .card-header {
    padding: 3px 5px;
  }

  [data-theme="primesuspect"] .hg-dynamic-card .card-body {
    padding: 4px 3px;
  }
}

@media (max-height: 600px) {
  [data-theme="primesuspect"] .hg-dynamic-card .card-header {
    padding: 3px 5px;
  }

  [data-theme="primesuspect"] .hg-dynamic-card .card-body {
    padding: 3px 3px;
  }

  [data-theme="primesuspect"] .hg-dynamic-card .effect-tag {
    margin-bottom: 2px;
  }
}

/* Tooltip card size */
[data-theme="primesuspect"] .hg-tooltip-card {
  --hg-card-width: 180px;
  --hg-card-height: 252px;
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6);
}

/* Evidence locker card size - inherits dynamic sizing from root */
/* (No size override - uses --hg-card-width/height from [data-theme="primesuspect"]) */

/* Opponent card size - inherits dynamic sizing from root */
/* (No size override - uses --hg-card-width/height from [data-theme="primesuspect"]) */

/* Remove white border from opponent card backs */
[data-theme="primesuspect"] .hg-dynamic-card.hg-card-back.hg-opponent-card {
  border: none;
  background: transparent;
}

/* Discard pile card size - inherits dynamic sizing from root */
/* (No size override - uses --hg-card-width/height from [data-theme="primesuspect"]) */

/* Guard card selection size (larger to show full text) */
[data-theme="primesuspect"] .hg-dynamic-card.hg-guard-select-card {
  --hg-card-width: 140px;
  --hg-card-height: 210px;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-guard-select-card .card-description {
  -webkit-line-clamp: 4;
  font-size: 8px;
}

/* Inspector popup card size (large for full text visibility) */
[data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card {
  --hg-card-width: 280px;
  --hg-card-height: 420px;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card .card-value {
  font-size: 32px;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card .card-title {
  font-size: 12px;
  padding: 5px 10px;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card .effect-tag {
  font-size: 10px;
  margin-bottom: 6px;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card .card-description {
  font-size: 14px;
  -webkit-line-clamp: 5;
}

/* Mobile landscape - Inspector Modal Layout */
@media (max-height: 500px) and (orientation: landscape) {
  /* Smaller inspector card */
  [data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card {
    --hg-card-width: 160px;
    --hg-card-height: 240px;
  }

  [data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card .card-value {
    font-size: 22px;
  }

  [data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card .card-title {
    font-size: 9px;
    padding: 3px 6px;
  }

  [data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card .effect-tag {
    font-size: 8px;
    margin-bottom: 4px;
  }

  [data-theme="primesuspect"] .hg-dynamic-card.hg-inspector-card .card-description {
    font-size: 10px;
    -webkit-line-clamp: 3;
  }

  /* Inspector modal - compact header */
  .hg-inspector-modal .hg-inspector-header {
    padding: 8px !important;
  }

  .hg-inspector-modal .hg-inspector-title {
    font-size: 10px !important;
  }

  .hg-inspector-modal .hg-inspector-counter {
    font-size: 11px !important;
  }

  .hg-inspector-modal .hg-inspector-close {
    width: 32px !important;
    height: 32px !important;
  }

  .hg-inspector-modal .hg-inspector-close svg {
    width: 16px !important;
    height: 16px !important;
  }

  /* Content area - reduced padding */
  .hg-inspector-modal .hg-inspector-content {
    padding-top: 8px !important;
    padding-bottom: 8px !important;
  }

  /* Card area - horizontal layout, shifted up */
  .hg-inspector-modal .hg-inspector-card-area {
    flex-direction: row !important;
    gap: 24px !important;
    transform: translateY(-10px) !important;
  }

  /* Card info - beside the card */
  .hg-inspector-modal .hg-inspector-info {
    margin-top: 0 !important;
    text-align: left !important;
    max-width: 200px !important;
  }

  .hg-inspector-modal .hg-inspector-info h3 {
    font-size: 14px !important;
  }

  .hg-inspector-modal .hg-inspector-info p {
    font-size: 11px !important;
    -webkit-line-clamp: 4;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .hg-inspector-modal .hg-inspector-info div {
    font-size: 10px !important;
  }

  /* Navigation buttons - visible with solid background */
  .hg-inspector-modal .hg-inspector-nav {
    width: 40px !important;
    height: 40px !important;
    background: rgba(212, 175, 55, 0.5) !important;
    border: 1px solid rgba(212, 175, 55, 0.7) !important;
    transform: translateY(-60%) !important;
  }

  .hg-inspector-modal .hg-inspector-nav svg {
    width: 20px !important;
    height: 20px !important;
    color: #f6f0e6 !important;
  }

  /* Pagination dots - compact */
  .hg-inspector-modal .hg-inspector-dots {
    bottom: 8px !important;
    gap: 4px !important;
  }

  .hg-inspector-modal .hg-inspector-dots button {
    width: 6px !important;
    height: 6px !important;
  }

  .hg-inspector-modal .hg-inspector-dots button.active {
    width: 12px !important;
  }

  /* Swipe hint - smaller */
  .hg-inspector-modal .hg-inspector-hint {
    bottom: 20px !important;
    font-size: 9px !important;
  }
}

/* Reset global button styles for icon-only buttons */
.hg-hamburger-btn,
.hg-icon-btn {
  padding: 0 !important;
  overflow: visible !important;
}

.hg-hamburger-btn svg,
.hg-icon-btn svg {
  width: 20px !important;
  height: 20px !important;
}

/* Smaller icon buttons */
.hg-icon-btn-sm svg {
  width: 16px !important;
  height: 16px !important;
}

/* Compact guess cards for inspector modal */
.hg-guess-card {
  --hg-card-width: 45px;
  --hg-card-height: 67px;
}

.hg-guess-card .card-value {
  font-size: 14px !important;
}

.hg-guess-card .card-title {
  display: none !important;
}

.hg-guess-card .card-description {
  display: none !important;
}

/* Tiny button reset - overrides global button styles */
.hg-btn-tiny {
  font-size: 10px !important;
  padding: 4px 8px !important;
  border-radius: 4px !important;
  text-transform: none !important;
  letter-spacing: normal !important;
  min-height: unset !important;
  min-width: unset !important;
  font-weight: 500 !important;
}

/* Modal button reset - removes global button borders and styling */
.hg-modal-btn {
  border: none !important;
  border-radius: 0 !important;
  padding: 0 !important;
  min-height: unset !important;
  min-width: unset !important;
  background: transparent !important;
  text-transform: none !important;
  letter-spacing: normal !important;
  font-size: inherit !important;
}

/* Noir modal panel - matches HeartsGambit detective theme */
.hg-noir-modal {
  background:
    radial-gradient(600px at 30% 15%, rgba(246, 240, 230, 0.04), transparent 50%),
    linear-gradient(135deg, rgba(10, 8, 12, 0.95), rgba(26, 15, 30, 0.92));
  border: 2px solid var(--tobacco-brown, #4a3f35);
  border-radius: 4px;
  box-shadow:
    0 20px 60px rgba(0, 0, 0, 0.7),
    inset 0 0 0 1px rgba(255, 255, 255, 0.03);
  /* Safe area support for notched devices */
  max-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px) - 32px);
  overflow-y: auto;
}

/* Noir player button - target selection (responsive) */
.hg-noir-player-btn {
  background: rgba(0, 0, 0, 0.4) !important;
  border: 1px solid rgba(var(--accent-color-rgb), 0.25) !important;
  border-radius: 4px !important;
  padding: clamp(6px, 1.5vw, 10px) !important;
  transition: all 0.2s ease !important;
}

.hg-noir-player-btn:hover {
  background: rgba(var(--accent-color-rgb), 0.15) !important;
  border-color: rgba(var(--accent-color-rgb), 0.4) !important;
}

.hg-noir-player-btn.selected {
  background: rgba(var(--accent-color-rgb), 0.2) !important;
  border-color: var(--royal-gold) !important;
  box-shadow: 0 0 15px rgba(210, 178, 90, 0.25) !important;
}

/* Noir card button - guess selection */
.hg-noir-card-btn {
  background: transparent !important;
  border: none !important;
  padding: 4px !important;
  border-radius: 4px !important;
}

.hg-noir-card-btn:hover {
  background: rgba(var(--accent-color-rgb), 0.1) !important;
}

.hg-noir-card-btn.selected {
  background: rgba(var(--accent-color-rgb), 0.15) !important;
  box-shadow: 0 0 12px rgba(210, 178, 90, 0.3) !important;
}

/* Noir avatar frame - octagonal style (responsive) */
.hg-noir-avatar {
  width: clamp(36px, 10vw, 48px);
  height: clamp(36px, 10vw, 48px);
  background: linear-gradient(135deg, var(--tobacco-brown, #4a3f35) 0%, #2d2416 100%);
  padding: 2px;
  clip-path: polygon(15% 0%, 85% 0%, 100% 15%, 100% 85%, 85% 100%, 15% 100%, 0% 85%, 0% 15%);
}

.hg-noir-avatar-inner {
  width: 100%;
  height: 100%;
  background: #1a0f1e;
  clip-path: polygon(15% 0%, 85% 0%, 100% 15%, 100% 85%, 85% 100%, 15% 100%, 0% 85%, 0% 15%);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Noir cancel button (responsive) */
.hg-noir-cancel-btn {
  background: rgba(0, 0, 0, 0.5) !important;
  border: 1px solid var(--tobacco-brown, #4a3f35) !important;
  border-radius: 4px !important;
  padding: clamp(8px, 2vw, 12px) clamp(10px, 3vw, 16px) !important;
  font-family: var(--font-typewriter) !important;
  letter-spacing: 0.1em !important;
  text-transform: uppercase !important;
  font-size: clamp(10px, 2.5vw, 12px) !important;
  color: var(--parchment) !important;
  min-height: unset !important;
}

.hg-noir-cancel-btn:hover {
  background: rgba(var(--accent-color-rgb), 0.15) !important;
}

/* Guess card modal - responsive cards for 4-column grid */
.hg-guess-card-modal {
  --hg-card-width: clamp(45px, 12vw, 60px);
  --hg-card-height: clamp(67px, 18vw, 90px);
}

.hg-guess-card-modal .card-title {
  font-size: clamp(4px, 1.2vw, 6px) !important;
}

.hg-guess-card-modal .card-description {
  display: none !important;
}

/* Confirmation card - compact preview in play confirmation modal */
.hg-confirmation-card {
  --hg-card-width: clamp(65px, 18vw, 90px);
  --hg-card-height: clamp(97px, 27vw, 135px);
}

.hg-confirmation-card .card-description {
  font-size: clamp(6px, 1.5vw, 8px);
  -webkit-line-clamp: 3;
}

/* Preview card - responsive long-press preview */
.hg-preview-card {
  --hg-card-width: clamp(80px, 25vw, 120px);
  --hg-card-height: clamp(120px, 37.5vw, 180px);
}

/* Scrollbar hide utility for horizontal scroll areas */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ===========================================
   Mobile-Specific HeartsGambit Styles
   =========================================== */

/* Mobile hand row at very bottom of screen */
[data-theme="primesuspect"] .hg-mobile-hand-row {
  bottom: env(safe-area-inset-bottom, 4px) !important;
}

/* Mobile hand card size - compact cards */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-hand-card {
  --hg-card-width: clamp(42px, 11vw, 60px);
  --hg-card-height: clamp(63px, 16.5vw, 90px);
  width: clamp(42px, 11vw, 60px) !important;
  height: clamp(63px, 16.5vw, 90px) !important;
  min-width: 42px !important;
  min-height: 63px !important;
  flex-shrink: 0 !important;
}

/* Mobile hand card - hide header, show name and hint */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-hand-card .card-header {
  display: none;
}

/* Mobile hand card body */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-hand-card .card-body {
  padding: 2px 3px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
}

/* Show card name centered */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-hand-card .effect-tag {
  font-size: 7px;
  text-transform: uppercase;
  font-weight: bold;
  color: #8b0000;
  margin-bottom: 2px;
  background: transparent;
  padding: 0;
  width: 100%;
}

/* Hide actual description, show hint instead */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-hand-card .card-description {
  visibility: hidden;
  height: 0;
  margin: 0;
  padding: 0;
  position: relative;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-hand-card .card-description::after {
  content: "üëÜ Hold";
  visibility: visible;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  font-size: 6px;
  color: #555;
  font-style: italic;
  white-space: nowrap;
}

/* Mobile long-press preview card - medium size */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-preview-card {
  --hg-card-width: 100px;
  --hg-card-height: 150px;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-preview-card .card-description {
  font-size: 8px;
  line-height: 1.15;
  -webkit-line-clamp: 5;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-preview-card .effect-tag {
  font-size: 7px;
}

/* Remove inherited yellow background from hand card buttons (not Play button) */
[data-theme="primesuspect"] .hg-mobile-hand-row button:not(.hg-play-btn) {
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  padding: 0 !important;
  box-shadow: none !important;
}

/* Mobile opponent card size (smaller for strip) */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-opponent-card {
  --hg-card-width: clamp(50px, 14vw, 70px);
  --hg-card-height: clamp(75px, 21vw, 105px);
  background-color: transparent !important;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

[data-theme="primesuspect"] .hg-mobile-opponent-card {
  width: clamp(50px, 14vw, 70px);
  height: clamp(75px, 21vw, 105px);
  background-color: transparent !important;
  background: transparent !important;
  border: none !important;
}

/* Mobile deck/discard card size - image only, no text */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-deck-card {
  --hg-card-width: clamp(35px, 10vw, 55px);
  --hg-card-height: clamp(52px, 15vw, 82px);
  width: clamp(35px, 10vw, 55px) !important;
  height: clamp(52px, 15vw, 82px) !important;
  min-width: 35px !important;
  min-height: 52px !important;
  flex-shrink: 0 !important;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-deck-card .card-header,
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-deck-card .card-body {
  display: none !important;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-deck-card .card-art {
  height: 100% !important;
  border-radius: 8px;
}

[data-theme="primesuspect"] .hg-mobile-discard-card {
  width: clamp(36px, 9vw, 50px);
  height: clamp(54px, 13.5vw, 75px);
  overflow: visible !important;
}

/* Mobile evidence card - slightly smaller than hand cards */
[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-evidence-card {
  --hg-card-width: clamp(36px, 9vw, 50px);
  --hg-card-height: clamp(54px, 13.5vw, 75px);
  width: clamp(36px, 9vw, 50px) !important;
  height: clamp(54px, 13.5vw, 75px) !important;
  min-width: 36px !important;
  min-height: 54px !important;
  flex-shrink: 0 !important;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-evidence-card .card-header {
  display: none !important;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-evidence-card .card-body {
  padding: 1px 2px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-evidence-card .effect-tag {
  font-size: 5px;
  text-transform: uppercase;
  font-weight: bold;
  color: #8b0000;
  margin-bottom: 1px;
  background: transparent;
  padding: 0;
  width: 100%;
}

[data-theme="primesuspect"] .hg-dynamic-card.hg-mobile-evidence-card .card-description {
  display: none !important;
}

/* Remove yellow background from deck/discard buttons */
[data-theme="primesuspect"] button.hg-mobile-deck-card {
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  width: clamp(35px, 10vw, 55px) !important;
  height: clamp(52px, 15vw, 82px) !important;
  min-width: 35px !important;
  min-height: 52px !important;
  position: relative !important;
  overflow: visible !important;
}

[data-theme="primesuspect"] button.hg-mobile-discard-card {
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  width: clamp(36px, 9vw, 50px) !important;
  height: clamp(54px, 13.5vw, 75px) !important;
  min-width: 36px !important;
  min-height: 54px !important;
  position: relative !important;
  overflow: visible !important;
}

/* Ensure deck card back images are visible */
[data-theme="primesuspect"] button.hg-mobile-deck-card img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  border-radius: 8px;
}

/* Mobile/Tablet background-attachment fix for performance */
@media (max-width: 1024px) {
  [data-theme="primesuspect"] body,
  [data-theme="primesuspect"] .app-root {
    background-attachment: scroll !important;
  }

  [data-theme="clue"] body,
  [data-theme="clue"] .app-root {
    background-attachment: scroll !important;
  }

  /* Mobile/Tablet: Remove film grain texture overlay for better performance and clarity */
  [data-theme="primesuspect"] .app-root::after {
    display: none !important;
  }

  /* Mobile/Tablet: Simplify gradient backgrounds for better readability */
  [data-theme="primesuspect"] .app-root::before {
    background:
      radial-gradient(800px at 50% 20%, rgba(var(--accent-color-rgb), 0.08), transparent 60%),
      radial-gradient(600px at 50% 100%, rgba(0, 0, 0, 0.5), transparent 50%) !important;
  }
}

/* ===========================================
   Viewport-Specific Responsive Adjustments
   =========================================== */

/* Small phones (320px-374px) - iPhone 5/SE 1st gen */
@media (max-width: 374px) {
  .hg-mobile-hand-card {
    --hg-card-width: clamp(36px, 11vw, 48px) !important;
    --hg-card-height: clamp(54px, 16.5vw, 72px) !important;
  }

  .hg-noir-modal {
    padding: 10px !important;
  }

  .hg-noir-avatar {
    width: 32px !important;
    height: 32px !important;
  }

  .hg-guess-card-modal {
    --hg-card-width: 40px !important;
    --hg-card-height: 60px !important;
  }

  .hg-confirmation-card {
    --hg-card-width: 60px !important;
    --hg-card-height: 90px !important;
  }
}

/* Large phones (428px+) - iPhone Pro Max, Galaxy */
@media (min-width: 428px) and (max-width: 767px) {
  .hg-mobile-hand-card {
    --hg-card-width: clamp(48px, 11vw, 65px) !important;
    --hg-card-height: clamp(72px, 16.5vw, 97px) !important;
  }

  .hg-guess-card-modal {
    --hg-card-width: 58px !important;
    --hg-card-height: 87px !important;
  }

  .hg-confirmation-card {
    --hg-card-width: 80px !important;
    --hg-card-height: 120px !important;
  }

  .hg-noir-avatar {
    width: 48px !important;
    height: 48px !important;
  }
}

/* Tablets portrait (768px-1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  .hg-mobile-hand-card {
    --hg-card-width: 70px !important;
    --hg-card-height: 105px !important;
  }

  .hg-confirmation-card {
    --hg-card-width: 100px !important;
    --hg-card-height: 150px !important;
  }

  .hg-guess-card-modal {
    --hg-card-width: 65px !important;
    --hg-card-height: 97px !important;
  }

  .hg-noir-avatar {
    width: 52px !important;
    height: 52px !important;
  }

  .hg-noir-modal {
    padding: 20px !important;
  }
}

/* Scrollbar hide utility for mobile */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Safe area utilities */
.safe-top {
  padding-top: env(safe-area-inset-top);
}

.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-left {
  padding-left: env(safe-area-inset-left);
}

.safe-right {
  padding-right: env(safe-area-inset-right);
}

@layer base {
  html {
    @apply h-full;
    /* Match PrimeSuspect: background comes from .app-root::before */
    background: transparent !important;
    height: var(--viewport-height);
    height: 100dvh;
    font-size: 16px !important;
  }
  
  body {
    @apply font-sans;
    font-family: var(--font-body);
    background: transparent !important;
    height: 100dvh;
    overflow: hidden;
    color: var(--text-primary);
    padding-top: 0; /* Header padding handled by app-layout */
  }
  
  #root {
    @apply min-h-screen;
    background: transparent !important;
  }
  
  * {
    @apply border-slate-600;
  }
  
  /* Override any white backgrounds */
  .bg-white {
    @apply bg-slate-800 !important;
  }
  
  .bg-gray-50 {
    @apply bg-slate-900 !important;
  }
  
  .bg-gray-100 {
    @apply bg-slate-800 !important;
  }
  
  /* Ensure the entire app has dark background */
  div[class*="min-h-screen"] {
    background: transparent !important;
  }
  
  /* Ensure all text is readable */
  h1, h2, h3, h4, h5, h6 {
    @apply text-slate-100;
  }
  
  p {
    @apply text-slate-200;
  }
  
  label {
    @apply text-slate-200;
  }
  
  /* Ensure select elements are styled properly */
  select {
    @apply bg-slate-700 text-slate-100;
  }
  
  /* Ensure textarea elements are styled properly */
  textarea {
    @apply bg-slate-700 text-slate-100;
  }
  
  /* Fix any remaining white text on white background issues */
  .text-gray-600 {
    @apply text-slate-300;
  }
  
  .text-gray-700 {
    @apply text-slate-200;
  }
  
  .text-gray-800 {
    @apply text-slate-100;
  }
  
  .text-gray-900 {
    @apply text-slate-50;
  }
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image:
    linear-gradient(rgba(0, 217, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(233, 69, 96, 0.05) 1px, transparent 1px);
  background-size: 60px 60px;
  mix-blend-mode: screen;
  pointer-events: none;
  z-index: 0;
}

body::after {
  display: none;
}

@layer components {
  /* ============================================
     SKETCH-BOX FOUNDATION - Hand-Drawn Aesthetic
     ============================================ */
  .sketch-box {
    border: 2px solid var(--border-default);
    border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
    background-color: var(--bg-secondary);
    transition: all 0.3s ease;
  }

  .sketch-box:hover {
    border-color: var(--border-hover);
    transform: scale(1.005) rotate(0.3deg);
  }

  .sketch-box-lg {
    border-radius: 260px 20px 230px 20px / 20px 230px 20px 260px;
  }

  .sketch-box-accent {
    border-color: var(--accent-color);
    box-shadow: 0 0 0 1px var(--accent-glow);
  }

  /* ============================================
     BUTTONS - Hand-Drawn Style
     ============================================ */
  .btn {
    @apply px-4 py-2 font-medium transition-all duration-300 focus:outline-none;
    font-family: var(--font-marker);
    border: 2px solid var(--border-default);
    border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
    background: transparent;
    color: var(--text-primary);
    box-shadow: 2px 2px 0px 0px rgba(255, 255, 255, 0.1);
    transform-origin: center;
  }
  
  .btn:hover {
    border-color: var(--border-hover);
    transform: scale(1.02) rotate(-0.5deg);
    box-shadow: 3px 3px 0px 0px rgba(255, 255, 255, 0.15);
  }

  .btn:active {
    transform: scale(0.98) rotate(0.5deg);
    box-shadow: 1px 1px 0px 0px rgba(255, 255, 255, 0.1);
  }

  .btn-primary {
    background: var(--accent-color);
    border-color: var(--accent-color);
    color: var(--paper-void);
    box-shadow: 4px 4px 0px 0px var(--accent-glow);
  }

  .btn-primary:hover {
    background: var(--accent-hover);
    border-color: var(--accent-hover);
    box-shadow: 2px 2px 0px 0px var(--accent-glow);
    transform: translate(2px, 2px) rotate(-0.5deg);
  }

  .btn-primary:focus {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
  }

  .btn-secondary {
    background: var(--paper-darker);
    border: 2px dashed var(--border-default);
    color: var(--text-primary);
  }

  .btn-secondary:hover {
    background: var(--paper-accent);
    border-color: var(--border-hover);
  }

  .btn-success {
    background: var(--chalk-green);
    border-color: var(--chalk-green);
    color: var(--paper-void);
    box-shadow: 3px 3px 0px 0px rgba(123, 255, 141, 0.3);
  }

  .btn-danger {
    background: var(--chalk-red);
    border-color: var(--chalk-red);
    color: var(--paper-void);
    box-shadow: 3px 3px 0px 0px rgba(255, 107, 107, 0.3);
  }

  .btn-warning {
    background: var(--chalk-yellow);
    border-color: var(--chalk-yellow);
    color: var(--paper-void);
    box-shadow: 3px 3px 0px 0px rgba(255, 230, 109, 0.3);
  }

  .btn-sm {
    @apply px-3 py-1.5 text-sm;
    border-radius: var(--border-wobbly-xs);
  }

  .btn-lg {
    @apply px-8 py-4 text-lg;
    font-weight: normal;
    border-radius: var(--border-wobbly-md);
  }
  
  /* ============================================
     CARDS - Hand-Drawn Style
     ============================================ */
  .card {
    @apply p-6 transition-all duration-300;
    background: var(--bg-secondary);
    border: 2px solid var(--border-default);
    border-radius: var(--border-wobbly-sm);
    box-shadow: 2px 2px 0px 0px rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(8px);
  }

  .card:hover {
    border-color: var(--border-hover);
    box-shadow: 4px 4px 0px 0px rgba(255, 255, 255, 0.15);
    transform: scale(1.005) rotate(0.3deg);
  }

  .card-gradient {
    @apply p-6 transition-all duration-300;
    background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
    border: 2px solid var(--border-default);
    border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
    box-shadow: 2px 2px 0px 0px rgba(255, 255, 255, 0.1);
  }
  
  /* ============================================
     INPUT FIELDS - Hand-Drawn Style
     ============================================ */
  .input {
    @apply w-full px-4 py-3 transition-all duration-200;
    font-family: var(--font-hand);
    background: var(--bg-tertiary);
    border: 2px solid var(--border-default);
    border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
    color: var(--text-primary);
    box-shadow: inset 2px 2px 0px 0px rgba(0, 0, 0, 0.2);
  }

  .input:focus {
    outline: none;
    border-color: var(--accent-color);
    box-shadow: inset 2px 2px 0px 0px rgba(0, 0, 0, 0.2), 0 0 0 3px var(--accent-glow);
  }

  .input::placeholder {
    color: var(--text-accent);
    font-style: italic;
  }

  /* ============================================
     AVATARS - Hand-Drawn Style
     ============================================ */
  .avatar-sketch {
    border-radius: 50% 45% 48% 52% / 52% 48% 45% 50%;
    border: 2px solid var(--border-default);
    transition: all 0.3s ease;
  }

  .avatar-sketch:hover {
    border-color: var(--border-hover);
    transform: rotate(5deg) scale(1.05);
  }

  .avatar-sketch-active {
    border: 3px solid var(--accent-color);
    box-shadow: 0 0 0 2px var(--accent-glow);
  }

  /* ============================================
     SHADOW UTILITIES - Sketch Style
     ============================================ */
  .shadow-sketch {
    box-shadow: 2px 2px 0px 0px rgba(255, 255, 255, 0.1);
  }

  .shadow-sketch-lg {
    box-shadow: 4px 4px 0px 0px rgba(255, 255, 255, 0.15);
  }

  .shadow-sketch-color {
    box-shadow: 3px 3px 0px 0px currentColor;
  }

  .shadow-sketch-accent {
    box-shadow: 3px 3px 0px 0px var(--accent-color);
  }

  /* ============================================
     CHALK DUST TEXTURE EFFECT
     ============================================ */
  .chalk-dust {
    position: relative;
  }

  .chalk-dust::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    pointer-events: none;
    animation: chalkDust 4s ease-in-out infinite;
    opacity: 0.3;
  }

  /* ============================================
     ANIMATION UTILITIES
     ============================================ */
  .animate-scribble {
    animation: scribble 0.4s ease-in-out;
  }

  .animate-scribble-hover:hover {
    animation: scribble 0.4s ease-in-out infinite;
  }

  .animate-wobble {
    animation: wobble 2s ease-in-out infinite;
  }

  .fade-in {
    animation: fadeIn 0.6s ease-out;
  }
  
  .slide-up {
    animation: slideUp 0.5s ease-out;
  }
  
  .slide-down {
    animation: slideDown 0.4s ease-out;
  }
  
  .bounce-in {
    animation: bounceIn 0.6s ease-out;
  }
  
  .pulse-glow {
    animation: pulseGlow 2s ease-in-out infinite;
  }
  
  .shake {
    animation: shake 0.5s ease-in-out;
  }
  
  .timer-pulse {
    animation: timerPulse 1s ease-in-out infinite;
  }
  
  .gradient-text {
    background: linear-gradient(to right, var(--accent-color), var(--text-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .gradient-border {
    background: linear-gradient(white, white) padding-box, 
                linear-gradient(45deg, #3b82f6, #8b5cf6) border-box;
    border: 2px solid transparent;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounceIn {
  0% {
    opacity: 0;
    transform: scale(0.8) translateY(20px);
  }
  50% {
    transform: scale(1.05) translateY(-5px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes pulseGlow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(244, 114, 182, 0.4);
  }
  50% {
    box-shadow: 0 0 15px rgba(244, 114, 182, 0.8);
  }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

/* Hand-Drawn Animations */
@keyframes scribble {
  0% {
    transform: rotate(0deg) scale(1);
  }
  25% {
    transform: rotate(1deg) scale(1.01);
  }
  50% {
    transform: rotate(-1deg) scale(0.99);
  }
  75% {
    transform: rotate(0.5deg) scale(1.005);
  }
  100% {
    transform: rotate(0deg) scale(1);
  }
}

@keyframes wobble {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(0.5deg);
  }
  75% {
    transform: rotate(-0.5deg);
  }
}

@keyframes chalkDust {
  0%, 100% {
    opacity: 0.05;
  }
  50% {
    opacity: 0.08;
  }
}

@keyframes timerPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.9;
  }
}

/* ============================================
   NEW GAME-SPECIFIC KEYFRAME ANIMATIONS
   ============================================ */

/* Film grain animation for SUSD noir background */
@keyframes filmGrain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-1%, -1%); }
  20% { transform: translate(-2%, 0); }
  30% { transform: translate(1%, -1%); }
  40% { transform: translate(-1%, 1%); }
  50% { transform: translate(-2%, -2%); }
  60% { transform: translate(2%, 1%); }
  70% { transform: translate(1%, -2%); }
  80% { transform: translate(-2%, 2%); }
  90% { transform: translate(2%, -1%); }
}

/* Confetti falling animation for BingoBuddies */
@keyframes confettiFall {
  0% {
    transform: translateY(-100%) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

/* Terminal scanline scroll for DDF */
@keyframes scanlineScroll {
  0% { background-position: 0 0; }
  100% { background-position: 0 100%; }
}

/* Brain wave pulse for PrimeSuspect */
@keyframes brainwavePulse {
  0%, 100% {
    opacity: 0.3;
    transform: scaleY(0.95);
  }
  50% {
    opacity: 0.6;
    transform: scaleY(1.05);
  }
}

/* Ink stamp pulse for SUSD active badges */
@keyframes stampPulse {
  0%, 100% {
    box-shadow: 0 0 8px var(--accent-glow);
  }
  50% {
    box-shadow: 0 0 16px var(--accent-glow);
  }
}

/* Blueprint reveal wipe for ClueScale */
@keyframes blueprintReveal {
  0% {
    clip-path: inset(0 0 100% 0);
  }
  100% {
    clip-path: inset(0 0 0 0);
  }
}

/* Photo flash effect for BingoBuddies filmstrip */
@keyframes photoFlash {
  0%, 100% {
    opacity: 0;
  }
  50% {
    opacity: 0.8;
  }
}

/* Floating particles background */
.floating-particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
}

.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: linear-gradient(45deg, #8b5cf6, #06b6d4, #10b981);
  border-radius: 50%;
  animation: float 6s ease-in-out infinite;
  opacity: 0.8;
  box-shadow: 0 0 10px rgba(139, 92, 246, 0.6);
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
    opacity: 0.6;
  }
  50% {
    transform: translateY(-20px) rotate(180deg);
    opacity: 1;
  }
}

/* Media Controls Styles */
.media-controls {
  @apply relative;
}

.media-controls .btn {
  @apply transition-all duration-200 hover:scale-105;
}

/* Video Chat Styles */
.video-chat {
  @apply relative;
}

.video-chat .participant-video {
  @apply relative overflow-hidden rounded-xl transition-all duration-300;
}

.video-chat .participant-video:hover {
  @apply scale-105 shadow-xl;
}

/* Pulse glow effect for speaking indicator */
.pulse-glow {
  animation: pulse-glow 2s infinite;
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(244, 114, 182, 0.4);
  }
  50% {
    box-shadow:
      0 0 20px rgba(244, 114, 182, 0.6),
      0 0 30px rgba(244, 114, 182, 0.4),
      0 0 15px rgba(244, 114, 182, 0.2);
  }
}

/* Background blur canvas styling */
canvas {
  @apply rounded-xl;
}

/* Media settings panel animation */
.media-controls .settings-panel {
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Video grid responsive layouts */
.video-grid {
  @apply transition-all duration-300;
}

.video-grid.expanded {
  @apply min-h-96;
}

.video-grid.collapsed {
  @apply max-h-64 overflow-hidden;
}

/* Audio visualizer bars */
.audio-bars {
  display: flex;
  align-items: flex-end;
  height: 20px;
  gap: 2px;
}

.audio-bar {
  width: 3px;
  background: linear-gradient(to top, #10b981, #34d399);
  border-radius: 1px;
  animation: audioWave 0.5s ease-in-out infinite alternate;
}

.audio-bar:nth-child(2) {
  animation-delay: 0.1s;
}

.audio-bar:nth-child(3) {
  animation-delay: 0.2s;
}

.audio-bar:nth-child(4) {
  animation-delay: 0.3s;
}

.audio-bar:nth-child(5) {
  animation-delay: 0.4s;
}

@keyframes audioWave {
  from {
    height: 4px;
  }
  to {
    height: 16px;
  }
}

/* Music controls styling */
.music-controls {
  @apply flex items-center space-x-2;
}

.volume-slider {
  @apply w-24 accent-purple-500;
}

/* Background music indicator */
.music-indicator {
  @apply fixed bottom-4 right-4 bg-slate-800/90 backdrop-blur-sm border border-slate-600/50 rounded-full p-3 shadow-xl;
  z-index: 1000;
}

.music-indicator.playing {
  animation: musicPulse 2s infinite;
}

@keyframes musicPulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 10px rgba(244, 114, 182, 0.3);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(244, 114, 182, 0.5);
  }
}

/* Camera effects */
.camera-feed {
  @apply relative overflow-hidden;
}

.camera-feed.blurred {
  filter: blur(8px);
}

.camera-feed.focus-mode::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border: 3px solid rgba(244, 114, 182, 0.6);
  border-radius: 12px;
  pointer-events: none;
  animation: focusBorder 2s infinite;
}

@keyframes focusBorder {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
    box-shadow: 0 0 20px rgba(244, 114, 182, 0.4);
  }
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
  .media-controls {
    @apply flex-col space-y-4;
  }
  
  .video-chat {
    @apply w-full;
  }
  
  .video-grid {
    @apply grid-cols-1 !important;
  }
  
  .participant-video {
    @apply h-48 !important;
  }

  /* Webcam Display Mobile and Desktop Styles */
  .webcam-display {
    @apply relative;
  }
  
  .webcam-mobile-hidden {
    @apply hidden;
  }
  
  .webcam-mobile-minimized {
    @apply h-12 overflow-hidden;
  }
  
  .webcam-mobile-minimized .webcam-content {
    @apply hidden;
  }
  
  .webcam-mobile-toggle {
    @apply fixed bottom-4 right-4 z-50 bg-slate-800/90 backdrop-blur-sm rounded-full p-3 shadow-xl border border-slate-600/50;
  }
  
  /* Desktop webcam minimize styles */
  .webcam-desktop-minimized {
    @apply h-12 overflow-hidden;
  }
  
  .webcam-desktop-minimized .webcam-content {
    @apply hidden;
  }
  
  .webcam-mobile-controls {
    @apply flex items-center justify-between p-2 bg-slate-800/90 backdrop-blur-sm rounded-lg border border-slate-600/50;
  }
  
  /* Mobile video grid - more compact */
  .webcam-mobile-grid {
    @apply grid grid-cols-2 gap-2 p-2 max-h-64 overflow-y-auto;
  }
  
  .webcam-mobile-grid.single {
    @apply grid-cols-1;
  }
  
  .webcam-mobile-grid .aspect-video {
    @apply aspect-square; /* Make videos square on mobile for more compact display */
  }
  
  /* Hide camera off indicators on mobile */
  .webcam-mobile-hide-inactive .webcam-feed-inactive {
    @apply hidden;
  }
  
  /* Compact video controls on mobile */
  .webcam-mobile-compact .absolute.top-3.right-3 {
    @apply top-1 right-1;
    gap: 0.25rem;
  }
  
  .webcam-mobile-compact .absolute.top-3.right-3 button {
    @apply p-1.5;
  }
  
  .webcam-mobile-compact .absolute.bottom-0 {
    @apply p-2;
  }
  
  .webcam-mobile-compact .absolute.bottom-0 span {
    @apply text-xs;
  }
  
  /* Hide heart indicators on mobile for more space */
  .webcam-mobile-compact .flex.gap-1\.5 {
    @apply hidden;
  }

  /* Question Selector Mobile Styles */
  [data-testid="question-selector"] {
    @apply p-4;
  }
  
  [data-testid="question-selector"] h2 {
    @apply text-base mb-3;
  }
  
  [data-testid="question-selector"] .space-y-4 > div {
    @apply mb-4;
  }
  
  [data-testid="question-selector"] select {
    @apply py-3 px-4 text-base min-h-[48px];
  }
  
  [data-testid="question-selector"] label {
    @apply text-sm mb-2 block;
  }
  
  [data-testid="question-selector"] .btn {
    @apply py-3 px-4 text-base min-h-[48px];
  }
  
  [data-testid="question-selector"] .bg-blue-50,
  [data-testid="question-selector"] .bg-green-50,
  [data-testid="question-selector"] .bg-orange-50,
  [data-testid="question-selector"] .bg-yellow-50 {
    @apply p-3 rounded-lg;
  }

  /* Category Selector Mobile Styles */
  [data-testid="category-selector"] {
    @apply p-4;
  }
  
  [data-testid="category-selector"] .flex.items-center.justify-between {
    @apply flex-col items-start space-y-2;
  }
  
  [data-testid="category-selector"] h3 {
    @apply text-base;
  }
  
  [data-testid="category-selector"] .text-sm.text-slate-400 {
    @apply text-xs order-1;
  }
  
  /* Category grid - single column on mobile */
  [data-testid="category-selector"] .grid {
    @apply grid-cols-1 gap-3 !important;
  }
  
  [data-testid="category-item"] {
    @apply p-4 min-h-[64px];
  }
  
  [data-testid="category-item"] p {
    @apply text-sm;
  }
  
  /* Quick actions mobile layout */
  [data-testid="category-selector"] .flex.items-center.space-x-2 {
    @apply flex-wrap gap-2 space-x-0;
  }
  
  [data-testid="category-selector"] .btn-sm {
    @apply px-3 py-2 text-sm min-h-[40px];
  }
  
  /* Mobile info boxes */
  [data-testid="category-selector"] [class*="bg-blue-900"],
  [data-testid="category-selector"] [class*="bg-amber-900"] {
    @apply p-3 rounded-lg;
  }
  
  [data-testid="category-selector"] [class*="bg-blue-900"] p,
  [data-testid="category-selector"] [class*="bg-amber-900"] p {
    @apply text-sm leading-relaxed;
  }
  
  /* Apply/Reset buttons mobile layout */
  [data-testid="category-selector"] .flex.items-center.justify-between.pt-4 {
    @apply flex-col-reverse space-y-3 space-y-reverse;
  }
  
  [data-testid="category-selector"] .flex.items-center.justify-between.pt-4 .btn {
    @apply w-full py-3;
  }
}

/* Accessibility improvements */
.media-controls button:focus,
.video-chat button:focus {
  @apply ring-2 ring-purple-500 ring-offset-2 ring-offset-slate-900 outline-none;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .media-controls,
  .video-chat {
    @apply border-2 border-white;
  }
  
  .participant-video {
    @apply border-2 border-white;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .pulse-glow,
  .music-indicator.playing,
  .audio-bar,
  .camera-feed.focus-mode::before {
    animation: none;
  }
}

/* Webcam Display Styles */
.webcam-display {
  position: relative;
  background: rgba(30, 41, 59, 0.8);
  border: 2px solid rgba(100, 116, 139, 0.5);
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.webcam-auto-expand {
  width: 100%;
  height: auto;
  min-height: 200px;
}

.webcam-expanded {
  min-height: 400px !important;
}

/* Remove any resize handles and scrollbars for webcam */
.webcam-display::-webkit-resizer {
  display: none;
}

.webcam-display {
  overflow: visible !important;
  resize: none !important;
}

/* Media Controls - Hide since we don't use audio */
.media-controls {
  display: none;
}

/* Webcam Popup Window Styles */
.webcam-popup-grid {
  display: grid;
  gap: 1rem;
  padding: 1rem;
  height: 100vh;
  overflow-y: auto;
  background: linear-gradient(135deg, 
    var(--bg-primary) 0%, 
    var(--bg-secondary) 25%, 
    var(--bg-tertiary) 50%, 
    var(--bg-quaternary) 75%, 
    var(--bg-primary) 100%);
}

.webcam-popup-grid.cols-1 {
  grid-template-columns: 1fr;
}

.webcam-popup-grid.cols-2 {
  grid-template-columns: repeat(2, 1fr);
}

.webcam-popup-grid.cols-3 {
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: minmax(250px, 1fr);
}

/* Ensure video containers scale properly in popup */
.webcam-popup-grid .aspect-video {
  width: 100%;
  height: auto;
}

/* Better scrollbar for popup */
.webcam-popup-grid::-webkit-scrollbar {
  width: 8px;
}

.webcam-popup-grid::-webkit-scrollbar-track {
  background: rgb(31, 41, 55);
}

.webcam-popup-grid::-webkit-scrollbar-thumb {
  background: rgb(75, 85, 99);
  border-radius: 4px;
}

.webcam-popup-grid::-webkit-scrollbar-thumb:hover {
  background: rgb(107, 114, 128);
}

/* üÜï Mobile Touch Target Improvements - Accessibility & UX */
@media (max-width: 768px) {
  /* Ensure all interactive elements have minimum 48px touch target */
  button,
  a[role="button"],
  input[type="button"],
  input[type="submit"],
  .btn,
  .clickable {
    min-height: 48px !important;
    min-width: 48px !important;
    padding: 12px 24px !important;
    font-size: 16px !important; /* Prevents iOS auto-zoom on focus */
  }

  /* All input fields - prevent iOS zoom and ensure touch-friendly */
  input:not([type="checkbox"]):not([type="radio"]),
  textarea,
  select {
    font-size: 16px !important; /* Critical: Prevents iOS zoom */
    padding: 14px 16px !important;
    min-height: 48px !important;
    touch-action: manipulation; /* Disable double-tap zoom */
  }

  /* Checkbox and radio inputs need larger touch targets */
  input[type="checkbox"],
  input[type="radio"] {
    width: 24px !important;
    height: 24px !important;
    min-width: 24px !important;
    min-height: 24px !important;
  }

  /* Labels for checkboxes should be touch-friendly */
  label {
    padding: 8px 0;
    cursor: pointer;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* Increase spacing between interactive elements */
  .button-group {
    gap: 16px !important;
  }

  /* Player list items need larger touch targets */
  .player-item,
  [role="listitem"],
  .list-item {
    padding: 16px !important;
    margin-bottom: 12px !important;
    min-height: 64px !important;
  }

  /* Card components should have adequate padding for mobile */
  .card,
  .card-gradient {
    padding: 20px !important;
  }

  /* Modal/Dialog buttons should be full width on mobile */
  .modal-footer button,
  .dialog-footer button,
  .modal button:not(.close-button) {
    width: 100% !important;
    margin-bottom: 12px !important;
  }

  /* Form submit buttons should be prominent */
  form button[type="submit"],
  form .btn-primary {
    width: 100% !important;
    min-height: 56px !important;
    font-size: 18px !important;
    font-weight: 600 !important;
  }

  /* Remove tap highlight color (use our own feedback) */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Add subtle active state for better feedback */
  button:active,
  .btn:active,
  a:active {
    transform: scale(0.97) !important;
    opacity: 0.9;
  }

  /* Improve link touch targets */
  a {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
  }

  /* Ensure dropdown menus are touch-friendly */
  select {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23ffffff'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 24px;
    padding-right: 48px !important;
  }

  /* Settings and menu icons should be larger on mobile */
  .icon-button,
  button svg,
  .btn svg {
    width: 24px !important;
    height: 24px !important;
  }

  /* Timer display should be more visible on mobile */
  .timer-display,
  [class*="timer"] {
    font-size: 32px !important;
    padding: 16px !important;
  }

  /* Score displays */
  .score-display,
  [class*="score"] {
    font-size: 24px !important;
    padding: 12px !important;
  }

  /* Voting buttons should be extra large */
  [data-testid*="vote"] button,
  .vote-button {
    min-height: 64px !important;
    font-size: 18px !important;
  }

  /* Question text should be larger and more readable */
  .question-text,
  [class*="question"] p {
    font-size: 18px !important;
    line-height: 1.6 !important;
  }

  /* Answer input fields */
  .answer-input,
  textarea[placeholder*="answer"],
  textarea[placeholder*="Answer"] {
    min-height: 120px !important;
    font-size: 18px !important;
    line-height: 1.5 !important;
  }

  /* Loading states should be visible */
  .loading,
  .spinner {
    min-width: 48px !important;
    min-height: 48px !important;
  }

  /* Toast/notification messages */
  .toast,
  [role="alert"],
  .notification {
    padding: 16px 20px !important;
    font-size: 16px !important;
    min-height: 64px !important;
  }

  /* Connection status indicator */
  .connection-status {
    min-height: 48px !important;
    padding: 12px 20px !important;
    font-size: 16px !important;
  }

  /* Reduce animations on mobile for better performance */
  .animate-pulse,
  .pulse-glow,
  .animate-spin {
    animation-duration: 1.5s !important;
  }
}

/* üÜï Mobile Landscape Optimizations */
@media (max-width: 926px) and (orientation: landscape) {
  /* Reduce vertical padding in landscape */
  .card,
  .card-gradient {
    padding: 12px 20px !important;
  }

  /* Compact headers in landscape */
  h1 { font-size: 24px !important; }
  h2 { font-size: 20px !important; }
  h3 { font-size: 18px !important; }

  /* Use horizontal layout for buttons where possible */
  .button-group {
    flex-direction: row !important;
    flex-wrap: wrap !important;
  }
}

/* üÜï Large Touch Devices (Tablets) */
@media (min-width: 768px) and (max-width: 1024px) {
  button,
  .btn {
    min-height: 44px !important;
    min-width: 44px !important;
    font-size: 16px !important;
  }

  input,
  textarea,
  select {
    font-size: 16px !important;
    min-height: 44px !important;
  }
}

/* üÜï High DPI / Retina Displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Ensure text remains crisp */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Sharper borders */
  button,
  input,
  select,
  .card {
    border-width: 0.5px;
  }
}

/* ========================
   üé® NEW LAYOUT STYLES
   GameBuddies Template Layout
   ======================== */

/* Glassmorphism variables */
:root {
  --glass-bg: rgba(15, 23, 42, 0.85);
  --glass-border: rgba(139, 92, 246, 0.3);
  --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

/* Main app layout */
.app-layout {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  width: 100%;
  background: var(--bg-primary);
  padding-top: 56px;
}

/* Webcam toggle button - positioned in bottom center, above any chat */
.webcam-toggle-btn {
  position: fixed;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 999;
  padding: 0.75rem 1.5rem;
  font-size: 0.875rem;
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.9), rgba(124, 58, 237, 0.9));
  color: white;
  border: 1px solid var(--glass-border);
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(139, 92, 246, 0.5);
  transition: all 0.3s ease;
  font-weight: 600;
  letter-spacing: 0.5px;
}

.webcam-toggle-btn:hover {
  transform: translateX(-50%) translateY(-3px);
  box-shadow: 0 8px 30px rgba(139, 92, 246, 0.7);
}

.webcam-toggle-btn:active {
  transform: translateX(-50%) translateY(-1px);
}

/* Webcam top bar */
.webcam-top-bar {
  padding: 0.75rem;
  background: var(--glass-bg);
  border-bottom: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
  z-index: 40;
}

/* Reduce webcam video size when videos are present */
.webcam-top-bar video {
  max-height: 220px;
  border-radius: 0.75rem;
}

.webcam-top-bar .aspect-video {
  max-height: 220px;
  width: auto;
}

/* When video grid is present, limit the container height */
.webcam-top-bar:has(.grid) {
  max-height: 300px;
  overflow-y: auto;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.webcam-top-bar::-webkit-scrollbar {
  display: none; /* Chrome/Safari/Opera */
}

/* Add margin to video grid to prevent cutoff at bottom */
.webcam-top-bar .grid {
  margin-bottom: 0.75rem;
}

/* Shift video feeds up slightly within their containers */
.webcam-top-bar .aspect-video {
  position: relative;
  top: -8px;
}

/* Main container - holds game content and sidebar */
.main-container {
  display: flex;
  flex: 1;
  overflow: hidden;
  position: relative;
  box-sizing: border-box;
}

/* Game content area */
.game-content {
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  background: transparent;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.game-content::-webkit-scrollbar {
  display: none; /* Chrome/Safari/Opera */
}

/* Right sidebar */
.right-sidebar {
  width: var(--sidebar-width, 24rem);
  border-left: 2px solid var(--accent-color);
}

/* PlayerList in sidebar */
.player-list {
  flex: 0 0 auto;
  max-height: 50%;
  overflow-y: auto;
  border-bottom: 1px solid var(--glass-border);
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.player-list::-webkit-scrollbar {
  display: none; /* Chrome/Safari/Opera */
}

.player-list.compact {
  max-height: 40%;
}

.player-list-header {
  padding: 1rem;
  border-bottom: 1px solid rgba(139, 92, 246, 0.2);
  background: rgba(0, 0, 0, 0.2);
  position: sticky;
  top: 0;
  z-index: 10;
}

.player-list-content {
  padding: 0.5rem;
}

.player-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid rgba(139, 92, 246, 0.2);
  border-radius: 0.5rem;
  transition: all 0.2s;
}

.player-item:hover {
  background: rgba(30, 41, 59, 0.7);
  border-color: rgba(139, 92, 246, 0.4);
}

.player-item.gamemaster {
  background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(245, 158, 11, 0.1) 100%);
  border-color: rgba(251, 191, 36, 0.3);
}

.player-item.active {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(124, 58, 237, 0.2) 100%);
  border-color: rgba(139, 92, 246, 0.5);
  box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
}

.player-item.next {
  background: linear-gradient(135deg, rgba(6, 182, 212, 0.2) 0%, rgba(8, 145, 178, 0.2) 100%);
  border-color: rgba(6, 182, 212, 0.5);
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
}

.player-item.eliminated {
  opacity: 0.5;
  background: rgba(100, 116, 139, 0.3);
  border-color: rgba(100, 116, 139, 0.3);
}

.player-item.disconnected-player {
  opacity: 0.6;
  border-color: rgba(251, 146, 60, 0.4);
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.status-dot.connected {
  background: #10b981;
  box-shadow: 0 0 8px rgba(16, 185, 129, 0.6);
}

.status-dot.disconnected {
  background: #ef4444;
  box-shadow: 0 0 8px rgba(239, 68, 68, 0.6);
}

.player-name {
  font-size: 0.875rem;
  font-weight: 500;
  color: #e2e8f0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.player-badge {
  font-size: 0.625rem;
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.player-badge.host {
  background: var(--accent-color);
  color: white;
}

.player-badge.you {
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  color: #fff;
}

.player-badge.active {
  background: linear-gradient(135deg, #8b5cf6, #7c3aed);
  color: #fff;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.player-badge.eliminated {
  background: rgba(239, 68, 68, 0.3);
  color: #fca5a5;
  border: 1px solid rgba(239, 68, 68, 0.5);
}

.player-badge.disconnected {
  background: rgba(251, 146, 60, 0.3);
  color: #fdba74;
  border: 1px solid rgba(251, 146, 60, 0.5);
}

.player-badge.next {
  background: linear-gradient(135deg, #06b6d4, #0891b2);
  color: #fff;
  animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.player-badge.premium-lifetime {
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: #000;
}

.player-badge.premium-monthly {
  background: linear-gradient(135deg, #22D3EE, #4ADE80);
  color: #fff;
}

.player-lives {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.125rem;
}

.lives-count {
  font-size: 1.25rem;
  font-weight: 700;
  color: #f87171;
  text-shadow: 0 0 10px rgba(248, 113, 113, 0.5);
}

.lives-label {
  font-size: 0.625rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.kick-button {
  padding: 0.5rem;
  background: rgba(239, 68, 68, 0.2);
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 0.375rem;
  color: #fca5a5;
  cursor: pointer;
  transition: all 0.2s;
}

.kick-button:hover {
  background: rgba(239, 68, 68, 0.3);
  border-color: rgba(239, 68, 68, 0.5);
  color: #fee2e2;
  transform: scale(1.05);
}

/* Chat in sidebar */
.sidebar-chat {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  min-height: 0;
}

/* Hide scrollbars for chat (already hidden for player-list above) */
.sidebar-chat {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.sidebar-chat::-webkit-scrollbar {
  display: none; /* Chrome/Safari/Opera */
}

/* Hide scrollbars for chat messages container */
.sidebar-chat .flex-1.overflow-y-auto {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.sidebar-chat .flex-1.overflow-y-auto::-webkit-scrollbar {
  display: none;
}

/* Mobile responsive */
@media (max-width: 1024px) {
  .main-container {
    flex-direction: column;
  }

  .right-sidebar {
    width: 100%;
    max-height: 60vh;
    border-left: none;
    border-top: 1px solid var(--glass-border);
  }

  .game-content {
    padding: 1rem;
  }

  .player-list {
    max-height: 30vh;
  }

  .webcam-top-bar video {
    max-height: 150px;
  }
}

/* Tablet breakpoint */
@media (max-width: 768px) {
  .webcam-top-bar {
    padding: 0.5rem;
  }

  .webcam-top-bar video {
    max-height: 120px;
  }

  .game-content {
    padding: 0.75rem;
    padding-bottom: 90px; /* Space for bottom action bar on mobile */
  }

  .player-item {
    padding: 0.5rem;
  }

  .player-name {
    font-size: 0.75rem;
  }

  .lives-count {
    font-size: 1rem;
  }

  /* Hide webcam top bar on mobile - use toggle to show overlay instead */
  .webcam-top-bar {
    display: none !important;
  }

  /* Webcam toggle button - more prominent on mobile */
  .webcam-toggle-btn {
    bottom: 80px; /* Above mobile bottom bar */
    padding: 0.625rem 1.25rem;
    font-size: 0.8125rem;
  }
}

/* ========================
   MOBILE LAYOUT STYLES
   Bottom Action Bar & Drawers
   ======================== */

@media (max-width: 768px) {
  /* Mobile bottom action bar */
  .mobile-bottom-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 70px;
    background: var(--glass-bg);
    border-top: 1px solid var(--glass-border);
    display: flex;
    justify-content: space-around;
    align-items: center;
    z-index: 800;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
  }

  .mobile-action-btn {
    flex: 1;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    color: var(--text-secondary);
    background: transparent;
    border: none;
    font-size: 0.6875rem;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    padding: 0.5rem;
  }

  .mobile-action-btn svg {
    width: 24px;
    height: 24px;
  }

  .mobile-action-btn.active {
    color: rgba(139, 92, 246, 1);
    background: rgba(139, 92, 246, 0.15);
  }

  .mobile-action-btn:active {
    transform: scale(0.95);
  }

  /* Badge for notifications */
  .mobile-action-btn .badge {
    position: absolute;
    top: 8px;
    right: 50%;
    transform: translateX(12px);
    background: #ef4444;
    color: white;
    font-size: 0.625rem;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 10px;
    min-width: 18px;
    text-align: center;
  }

  /* Drawer overlay backdrop */
  .drawer-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 850;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  .drawer-overlay.open {
    opacity: 1;
    pointer-events: all;
  }

  /* Player list drawer (slides from left) */
  .player-list-drawer {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    width: 85vw;
    max-width: 350px;
    background: var(--glass-bg);
    border-right: 1px solid var(--glass-border);
    box-shadow: 4px 0 20px rgba(0, 0, 0, 0.5);
    z-index: 900;
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    overflow-y: auto;
  }

  .player-list-drawer.open {
    transform: translateX(0);
  }

  /* Chat drawer (slides from right) */
  .chat-drawer {
    position: fixed;
    right: 0;
    top: 0;
    height: 100vh;
    width: 85vw;
    max-width: 350px;
    background: var(--glass-bg);
    border-left: 1px solid var(--glass-border);
    box-shadow: -4px 0 20px rgba(0, 0, 0, 0.5);
    z-index: 900;
    transform: translateX(100%);
    transition: transform 0.3s ease;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .chat-drawer.open {
    transform: translateX(0);
  }

  /* Webcam overlay (modal style on mobile) */
  .webcam-mobile-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.95);
    z-index: 1000;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .webcam-mobile-overlay .webcam-close-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(239, 68, 68, 0.9);
    color: white;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1001;
  }

  /* Hide desktop sidebar on mobile */
  .right-sidebar {
    display: none;
  }

  /* Adjust main container for mobile */
  .main-container {
    flex-direction: column;
    padding-bottom: 0;
  }
} 

/* ========================================
   SCROLLBAR (from BingoBuddies)
   ======================================== */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--secondary-light) 0%, var(--primary-light) 100%);
}

/* Firefox scrollbar support */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--accent-color) rgba(255, 255, 255, 0.1);
}

/* Game-specific scrollbar colors */
[data-theme="susd"] * {
  scrollbar-color: var(--chalk-red) rgba(255, 107, 107, 0.1);
}

[data-theme="ddf"] * {
  scrollbar-color: var(--chalk-green) rgba(123, 255, 141, 0.1);
}

[data-theme="clue"] * {
  scrollbar-color: var(--chalk-blue) rgba(122, 252, 255, 0.1);
}

[data-theme="bingo"] * {
  scrollbar-color: var(--chalk-pink) rgba(255, 126, 182, 0.1);
}

[data-theme="think"] * {
  scrollbar-color: var(--chalk-purple) rgba(205, 147, 255, 0.1);
}

/* ========================================
   GAMEBUDDIES THEME OVERRIDES (Tailwind mapping)
   Unify accent color usage across games
   ======================================== */
[data-theme="gamebuddies"] .text-purple-200,
[data-theme="gamebuddies"] .text-purple-300 {
  color: var(--primary-light) !important;
}

[data-theme="gamebuddies"] .text-purple-400,
[data-theme="gamebuddies"] .text-purple-500,
[data-theme="gamebuddies"] .text-purple-600 {
  color: var(--primary) !important;
}

[data-theme="gamebuddies"] .bg-purple-500,
[data-theme="gamebuddies"] .bg-purple-600 {
  background-color: var(--primary) !important;
}

[data-theme="gamebuddies"] .bg-purple-500\/20 {
  background-color: rgba(var(--primary-rgb), 0.2) !important;
}

[data-theme="gamebuddies"] .bg-purple-900\/30,
[data-theme="gamebuddies"] .bg-purple-900\/40,
[data-theme="gamebuddies"] .bg-purple-900\/50 {
  background-color: rgba(var(--primary-rgb), 0.14) !important;
}

[data-theme="gamebuddies"] .border-purple-500,
[data-theme="gamebuddies"] .border-purple-500\/50 {
  border-color: rgba(var(--primary-rgb), 0.6) !important;
}

[data-theme="gamebuddies"] .from-purple-500 {
  --tw-gradient-from: var(--primary) !important;
}

[data-theme="gamebuddies"] .to-purple-500 {
  --tw-gradient-to: var(--primary) !important;
}

[data-theme="gamebuddies"] .ring-purple-500 {
  --tw-ring-color: rgba(var(--primary-rgb), 0.7) !important;
}


/* ============================================
   GLOBAL LAYOUT
   ============================================ */
/* From: App.css */

/* ========================================
   Heart's Gambit Layout Baseline (shared)
   ======================================== */

.app-root {
  height: 100dvh;
  width: 100%;
  position: relative;
  background: transparent;
  box-sizing: border-box;
  padding-top: calc(4.125rem + env(safe-area-inset-top, 0px)); /* 66px header */
}

/* Home/lobby pages need natural scrolling (body is not the scroll container). */
.app-root:not(.in-room) {
  height: auto;
  min-height: 100dvh;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

.app-root::before {
  content: '';
  position: fixed;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(var(--primary-rgb), 0.3) 0%, rgba(var(--primary-rgb), 0.04) 26%, rgba(var(--primary-rgb), 0) 45%),
    radial-gradient(1300px at 18% 15%, rgba(233, 69, 96, 0.18), transparent 55%),
    radial-gradient(1100px at 78% 12%, rgba(0, 217, 255, 0.18), transparent 55%),
    radial-gradient(1500px at 55% 105%, rgba(0, 217, 255, 0.14), transparent 62%),
    linear-gradient(135deg, #1a1731 0%, #0f1026 34%, #0a0f20 68%, #08172d 100%);
  z-index: -1;
  pointer-events: none;
}

@media (max-width: 767px) {
  .app-root {
    padding-top: calc(3.25rem + env(safe-area-inset-top, 0px)); /* 52px mobile header */
  }
}

.app-layout {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  overflow: hidden;
}

.right-sidebar {
  width: var(--sidebar-width, 24rem);
}

@media (min-width: 1024px) {
  /* Base height for sidebar on desktop - fills parent, constrained by app-layout height */
  .right-sidebar {
    height: 100%;
  }
}

/* ========================================
BUTTONS (Heart's Gambit baseline)   ======================================== */
button {
  font-family: var(--font-heading);
  font-size: 0.95rem;
  font-weight: 600;
  padding: 0.95rem 1.6rem;
  border: 1px solid transparent;
  border-radius: 18px;
  cursor: pointer;
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition), color var(--transition);
  position: relative;
  overflow: hidden;
  text-transform: uppercase;
  letter-spacing: 0.15em;
}

button::before {
  content: '';
  position: absolute;
  inset: -40% -5%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.35) 0%, transparent 65%);
  opacity: 0;
  transition: opacity var(--transition);
}

button:hover::before {
  opacity: 0.35;
}

/* Primary Button */
button:not(.secondary):not(.danger) {
  background: var(--accent-color);
  color: white;
  border: none;
  box-shadow: none;
}

button.secondary {
  background: rgba(255, 255, 255, 0.06);
  color: var(--text-primary);
  box-shadow: none;
}

.join-cta {
  background: var(--accent-color);
  color: white;
  border: none;
  box-shadow: none;
}

button:not(.secondary):not(.danger):hover {
  transform: translateY(-2px) scale(1.01);
  box-shadow: none;
}

button:not(.secondary):not(.danger):active {
  transform: translateY(0);
}

/* Secondary Button */
button.secondary {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text-primary);
  border: 1px solid var(--accent-color);
  box-shadow: none;
}

button.secondary:hover {
  background: rgba(255, 255, 255, 0.12);
  border-color: var(--accent-hover);
  color: var(--text-primary);
}

/* Success Button */
button.success {
  background: var(--success-color, #4ADE80);
  color: #050713;
  border: none;
  box-shadow: none;
}

/* Danger Button */
button.danger {
  background: var(--danger-color, #EF4444);
  color: white;
  border: none;
  box-shadow: none;
}

button:disabled {
  opacity: 0.45;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

/* ========================================
INPUTS (Heart's Gambit baseline)   ======================================== */
input[type="text"],
input[type="number"],
select,
textarea {
  width: 100%;
  padding: 1rem 1.25rem;
  font-family: var(--font-body);
  font-size: 1rem;
  color: var(--text-primary);
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(var(--accent-color-rgb), 0.2);
  border-radius: 14px;
  transition: all var(--transition);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
}

input:focus,
select:focus,
textarea:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.25), 0 10px 25px rgba(5, 10, 25, 0.35);
}

.form-group {
  margin-bottom: 1.5rem;
}

.form-group label {
  display: block;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}


/* ============================================
   RESPONSIVE FOUNDATION
   ============================================ */
/* From: styles/responsive.css */

/* ========================================
   RESPONSIVE DESIGN - Mobile First Approach
   ======================================== */

/* ========================================
   Mobile Portrait - Base Styles
   Small phones: 320px - 480px (20rem - 30rem)
   ======================================== */
@media (max-width: 30rem) {
  /* Typography Scaling */
  html {
    font-size: 14px;
  }

  /* App Layout */
  .app-root {
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }

  .app-layout {
    flex-direction: column;
    height: 100vh;
    height: 100dvh;
  }

  /* Webcam Bar - Stack vertically on mobile */
  .webcam-top-bar {
    position: relative;
    width: 100%;
    max-height: 7.5rem;
    padding: 0.5rem;
  }

  .webcam-container {
    flex-direction: row;
    overflow-x: auto;
    overflow-y: hidden;
    gap: 0.5rem;
    padding: 0.25rem;
  }

  .webcam-item {
    min-width: 5rem;
    width: 5rem;
    height: 3.75rem;
  }

  .webcam-toggle-btn {
    position: fixed;
    bottom: 1.25rem;
    right: 1.25rem;
    z-index: var(--z-mobile-nav);
    padding: 0.5rem 0.75rem;
    font-size: 0.75rem;
  }

  /* Main Container */
  .main-container {
    padding: 1rem;
    overflow-y: auto;
    flex: 1;
  }

  .container {
    max-width: 100%;
    padding: 1rem;
  }

  /* Right Sidebar - Hide on mobile, show as modal/drawer */
  .right-sidebar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(13, 15, 26, 0.95);  /* unified with filmstrip/header */

    transform: translateY(calc(100% - 3.75rem));
    transition: transform 0.3s ease;
    z-index: var(--z-mobile-drawer);
    max-height: 70vh;
    border-radius: 1.25rem 1.25rem 0 0;
    padding: 1rem;
  }

  .right-sidebar.expanded {
    transform: translateY(0);
  }

  /* Lobby Components */
  .lobby-header {
    flex-direction: column;
    gap: 1rem;
    text-align: center;
  }

  .room-code-display {
    font-size: 1.5rem;
    padding: 0.75rem 1.5rem;
  }

  .lobby-settings {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  /* Buttons */
  .btn-primary,
  .btn-secondary {
    padding: 0.75rem 1.5rem;
    font-size: 0.875rem;
    width: 100%;
  }

  /* Forms */
  .form-group {
    margin-bottom: 1rem;
  }

  input[type="text"],
  input[type="number"],
  select {
    width: 100%;
    padding: 0.75rem;
    font-size: 1rem;
  }

  /* Player List */
  .player-list {
    max-height: 18.75rem;
  }

  .player-item {
    padding: 0.75rem;
    font-size: 0.875rem;
  }

  /* Chat Window */
  .chat-window {
    height: 18.75rem;
  }

  .chat-messages {
    max-height: 12.5rem;
  }

  .chat-input-container {
    padding: 0.5rem;
  }

  /* Game Component */
  .game-content {
    padding: 1rem;
  }

  /* Cards */
  .card {
    padding: 1rem;
    margin-bottom: 1rem;
  }

  /* Modal adjustments */
  .modal-content {
    width: 95%;
    margin: 1rem;
    max-height: 90vh;
    overflow-y: auto;
  }

  /* Touch targets - minimum 44px (2.75rem) */
  button,
  a,
  .clickable {
    min-height: 2.75rem;
    min-width: 2.75rem;
  }

  /* Hide desktop-only elements */
  .desktop-only {
    display: none !important;
  }
}

/* ========================================
   Mobile Landscape
   480px - 768px (30rem - 48rem)
   ======================================== */
@media (min-width: 30.0625rem) and (max-width: 48rem) and (orientation: landscape) {
  /* Reduce vertical spacing in landscape */
  .app-layout {
    flex-direction: row;
  }

  .webcam-top-bar {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: 7.5rem;
    max-height: none;
    flex-direction: column;
    padding: 0.5rem;
  }

  .webcam-container {
    flex-direction: column;
    overflow-x: hidden;
    overflow-y: auto;
  }

  .main-container {
    margin-left: 7.5rem;
    padding: 0.5rem 1rem;
  }

  .right-sidebar {
    position: fixed;
    right: 0;
    top: 0;
    bottom: 0;
    left: auto;
    width: 17.5rem;
    transform: translateX(calc(100% - 2.5rem));
    border-radius: 1.25rem 0 0 1.25rem;
  }

  .right-sidebar.expanded {
    transform: translateX(0);
  }

  /* Reduce header sizes */
  h1 { font-size: 1.5rem; }
  h2 { font-size: 1.25rem; }
  h3 { font-size: 1.1rem; }
}

/* ========================================
   Tablet Portrait
   768px - 1024px (48rem - 64rem)
   ======================================== */
@media (min-width: 48rem) and (max-width: 63.9375rem) {
  /* App Layout */
  .app-layout {
    flex-direction: column;
  }

  .webcam-top-bar {
    height: 6.25rem;
    padding: 0.75rem;
  }

  .webcam-item {
    width: 7.5rem;
    height: 5.625rem;
  }

  .main-container {
    flex-direction: row;
    gap: 1rem;
    padding: 1rem;
  }

  .game-content {
    flex: 1;
  }

  .right-sidebar {
    position: relative;
    width: 18.75rem;
    transform: none;
    background: rgba(13, 15, 26, 0.95);  /* unified with filmstrip/header */
    border-radius: 0.75rem;
    padding: 1rem;
  }

  /* Lobby adjustments */
  .lobby-settings {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Buttons can be inline */
  .btn-primary,
  .btn-secondary {
    width: auto;
    min-width: 7.5rem;
  }

  /* Chat window larger */
  .chat-window {
    height: 25rem;
  }

  .chat-messages {
    max-height: 18.75rem;
  }
}

/* ========================================
   Tablet Landscape & Small Desktop
   1024px - 1366px (64rem - 85.375rem)
   ======================================== */
@media (min-width: 64rem) and (max-width: 85.3125rem) {
  :root {
    --sidebar-width: 21.875rem;
  }

  .app-layout {
    flex-direction: column;
  }

  .webcam-top-bar {
    height: 7.5rem;
  }

  .webcam-item {
    width: 8.75rem;
    height: 6.5625rem;
  }

  .main-container {
    flex-direction: row;
    gap: 1.5rem;
    padding: 1.5rem;
  }

  .right-sidebar {
    width: var(--sidebar-width);
  }

  .chat-window {
    height: 31.25rem;
  }
}

/* ========================================
   Desktop
   1366px - 1920px (85.375rem - 120rem)
   ======================================== */
@media (min-width: 85.375rem) {
  :root {
    --sidebar-width: 23.75rem;
  }

  .app-layout {
    flex-direction: column;
  }

  .webcam-top-bar {
    height: 8.75rem;
  }

  .webcam-item {
    width: 10rem;
    height: 7.5rem;
  }

  .main-container {
    max-width: 87.5rem;
    margin: 0 auto;
  }

  .right-sidebar {
    width: var(--sidebar-width);
  }
}

/* ========================================
   Large Desktop
   1920px+ (120rem+)
   ======================================== */
@media (min-width: 120rem) {
  :root {
    --sidebar-width: 26.25rem;
  }

  html {
    font-size: 18px;
  }

  .main-container {
    max-width: 112.5rem;
  }

  .webcam-item {
    width: 11.25rem;
    height: 8.4375rem;
  }

  .right-sidebar {
    width: var(--sidebar-width);
  }
}

/* ========================================
   Orientation-specific adjustments
   ======================================== */

/* Portrait orientation prompt */
@media (max-width: 48rem) and (orientation: landscape) {
  .orientation-prompt {
    display: flex;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--bg-dark);
    z-index: var(--z-orientation-prompt);
    align-items: center;
    justify-content: center;
    padding: 2rem;
    text-align: center;
  }

  .orientation-prompt::before {
    content: 'üì±';
    font-size: 4rem;
    display: block;
    margin-bottom: 1rem;
    animation: rotate 2s linear infinite;
  }

  @keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
}

/* ========================================
   Accessibility - Reduced Motion
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ========================================
   Print Styles
   ======================================== */
@media print {
  body {
    background: white;
    color: black;
  }

  .webcam-top-bar,
  .webcam-toggle-btn,
  .chat-window,
  .right-sidebar {
    display: none !important;
  }

  .main-container {
    width: 100%;
    max-width: none;
  }
}

/* ========================================
   Touch Device Optimizations
   ======================================== */
@media (hover: none) and (pointer: coarse) {
  /* Remove hover effects on touch devices */
  .btn-primary:hover,
  .btn-secondary:hover,
  .card:hover {
    transform: none;
    box-shadow: none;
  }

  /* Larger touch targets */
  button,
  a,
  .clickable {
    min-height: 3rem;
    padding: 0.75rem;
  }

  /* Disable right-click context menu */
  * {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  input,
  textarea {
    -webkit-user-select: text;
    user-select: text;
  }
}

/* ========================================
   Safe Area Insets (for devices with notches)
   ======================================== */
@supports (padding: max(0px)) {
  .app-root {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }

  .webcam-toggle-btn {
    bottom: max(1.25rem, env(safe-area-inset-bottom));
    right: max(1.25rem, env(safe-area-inset-right));
  }
}

/* ============================================
   MOBILE STYLES
   ============================================ */
/* From: styles/mobile.css */

/* ========================================
   MOBILE-SPECIFIC STYLES & OPTIMIZATIONS
   ======================================== */

/* ========================================
   Mobile Utilities
   ======================================== */
.mobile-only {
  display: none;
}

@media (max-width: 48rem) {
  .mobile-only {
    display: block;
  }
}

/* ========================================
   Mobile Navigation
   ======================================== */
.mobile-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--bg-card);

  border-top: 1px solid var(--panel-border);
  z-index: var(--z-mobile-nav);
  display: none;
}

@media (max-width: 768px) {
  .mobile-nav {
    display: flex;
    justify-content: space-around;
    padding: 0.5rem;
    padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
  }

  .mobile-nav-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
    color: var(--text-muted);
    transition: color var(--transition-fast);
    text-decoration: none;
    font-size: 0.75rem;
    gap: 0.25rem;
  }

  .mobile-nav-item.active {
    color: var(--primary);
  }

  .mobile-nav-icon {
    font-size: 1.25rem;
  }
}

/* ========================================
   Mobile Drawer/Panel
   ======================================== */
.mobile-drawer {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: var(--z-mobile-drawer);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--transition);
}

.mobile-drawer.open {
  opacity: 1;
  pointer-events: all;
}

.mobile-drawer-content {
  position: absolute;
  background: var(--bg-card);

  overflow-y: auto;
  transition: transform var(--transition);
}

/* Bottom drawer */
.mobile-drawer-content.bottom {
  bottom: 0;
  left: 0;
  right: 0;
  max-height: 80vh;
  border-radius: 1.25rem 1.25rem 0 0;
  transform: translateY(100%);
  padding: 1rem;
  padding-bottom: max(1rem, env(safe-area-inset-bottom));
}

.mobile-drawer.open .mobile-drawer-content.bottom {
  transform: translateY(0);
}

/* Side drawer */
.mobile-drawer-content.right {
  top: 0;
  right: 0;
  bottom: 0;
  width: 85%;
  max-width: 21.875rem;
  transform: translateX(100%);
  padding: 1rem;
}

.mobile-drawer.open .mobile-drawer-content.right {
  transform: translateX(0);
}

/* Drawer handle */
.drawer-handle {
  width: 2.5rem;
  height: 0.25rem;
  background: var(--text-muted);
  border-radius: 0.125rem;
  margin: 0.5rem auto 1rem;
  opacity: 0.5;
}

/* ========================================
   Mobile-Optimized Forms
   ======================================== */
@media (max-width: 48rem) {
  /* Larger input fields for mobile */
  input,
  textarea,
  select {
    font-size: 16px; /* Prevents zoom on iOS - must stay 16px to prevent iOS zoom */
    padding: 0.75rem;
    border-radius: 0.5rem;
    border: 1px solid var(--panel-border);
    background: var(--panel-bg);
    color: var(--text-primary);
    width: 100%;
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(168, 85, 247, 0.2);
  }

  /* Stacked form layout */
  .form-row {
    flex-direction: column;
    gap: 1rem;
  }

  .form-group {
    width: 100%;
  }

  /* Mobile-friendly buttons */
  .btn-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
  }

  .btn-group button {
    width: 100%;
  }
}

/* ========================================
   Mobile Webcam Grid
   ======================================== */
@media (max-width: 48rem) {
  .webcam-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(5rem, 1fr));
    gap: 0.5rem;
    padding: 0.5rem;
    max-height: 9.375rem;
    overflow-y: auto;
  }

  .webcam-grid-item {
    aspect-ratio: 4/3;
    background: var(--bg-card);
    border-radius: 0.5rem;
    overflow: hidden;
    position: relative;
  }

  .webcam-grid-item video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .webcam-grid-item .player-name {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
    color: white;
    font-size: 0.65rem;
    padding: 0.25rem;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

/* ========================================
   Mobile Chat Optimization
   ======================================== */
@media (max-width: 48rem) {
  .mobile-chat {
    position: fixed;
    bottom: 3.75rem; /* Above mobile nav */
    right: 1.25rem;
    z-index: var(--z-chat-drawer-backdrop);
  }

  .mobile-chat-toggle {
    width: 3.5rem;
    height: 3.5rem;
    border-radius: 50%;
    background: var(--primary);
    color: white;
    border: none;
    box-shadow: 0 0.25rem 0.75rem rgba(168, 85, 247, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    cursor: pointer;
    transition: transform var(--transition-fast);
  }

  .mobile-chat-toggle:active {
    transform: scale(0.95);
  }

  .mobile-chat-window {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    top: 30%;
    background: var(--bg-card);

    border-radius: 1.25rem 1.25rem 0 0;
    display: flex;
    flex-direction: column;
    transform: translateY(100%);
    transition: transform var(--transition);
    z-index: var(--z-mobile-fab-cluster);
  }

  .mobile-chat-window.open {
    transform: translateY(0);
  }

  .mobile-chat-header {
    padding: 1rem;
    border-bottom: 1px solid var(--panel-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .mobile-chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
  }

  .mobile-chat-input {
    padding: 0.75rem;
    border-top: 1px solid var(--panel-border);
    display: flex;
    gap: 0.5rem;
    padding-bottom: max(0.75rem, env(safe-area-inset-bottom));
  }

  .mobile-chat-input input {
    flex: 1;
    padding: 0.75rem;
    border-radius: 1.5rem;
    border: 1px solid var(--panel-border);
    background: var(--panel-bg);
    color: var(--text-primary);
    font-size: 16px; /* Must stay 16px to prevent iOS zoom */
  }

  .mobile-chat-input button {
    padding: 0.75rem 1.25rem;
    border-radius: 1.5rem;
    background: var(--primary);
    color: white;
    border: none;
    font-weight: 600;
  }
}

/* ========================================
   Mobile Game Controls
   ======================================== */
@media (max-width: 48rem) {
  .mobile-game-controls {
    position: fixed;
    bottom: 4.375rem; /* Above mobile nav */
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 1rem;
    z-index: var(--z-settings-fab);
  }

  .mobile-control-btn {
    width: 4rem;
    height: 4rem;
    border-radius: 50%;
    background: var(--panel-bg);

    border: 2px solid var(--panel-border);
    color: var(--text-primary);
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
  }

  .mobile-control-btn:active {
    transform: scale(0.9);
    background: var(--primary);
    border-color: var(--primary);
  }
}

/* ========================================
   Mobile Loading States
   ======================================== */
.mobile-loading {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--bg-dark);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: var(--z-settings-modal);
}

.mobile-loading-spinner {
  width: 3.75rem;
  height: 3.75rem;
  border: 3px solid var(--panel-border);
  border-top-color: var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Uses consolidated spin animation from index.css */

.mobile-loading-text {
  margin-top: 1rem;
  color: var(--text-muted);
  font-size: 0.875rem;
}

/* ========================================
   Mobile Toasts/Notifications
   ======================================== */
@media (max-width: 48rem) {
  .mobile-toast {
    position: fixed;
    top: 1.25rem;
    left: 1.25rem;
    right: 1.25rem;
    background: var(--bg-card);

    border: 1px solid var(--panel-border);
    border-radius: 0.75rem;
    padding: 1rem;
    box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.3);
    z-index: var(--z-round-start-overlay);
    transform: translateY(-150%);
    transition: transform var(--transition);
  }

  .mobile-toast.show {
    transform: translateY(0);
  }

  .mobile-toast.success {
    border-color: var(--success);
    background: rgba(16, 185, 129, 0.1);
  }

  .mobile-toast.error {
    border-color: var(--danger);
    background: rgba(239, 68, 68, 0.1);
  }

  .mobile-toast.warning {
    border-color: var(--warning);
    background: rgba(245, 158, 11, 0.1);
  }
}

/* ========================================
   Mobile Performance Optimizations
   ======================================== */
@media (max-width: 48rem) {
  /* Disable expensive animations on mobile */
  .no-mobile-animation {
    animation: none !important;
    transition: none !important;
  }

  /* Optimize scrolling performance */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
    will-change: scroll-position;
  }

  /* Reduce blur effects on mobile for performance */
  .mobile-no-blur {
    background: var(--bg-card) !important;
  }
}

/* ========================================
   Mobile Dark Mode Toggle
   ======================================== */
.mobile-theme-toggle {
  position: fixed;
  top: 1.25rem;
  right: 1.25rem;
  width: 3rem;
  height: 3rem;
  border-radius: 50%;
  background: var(--panel-bg);

  border: 1px solid var(--panel-border);
  color: var(--text-primary);
  font-size: 1.25rem;
  display: none;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: var(--z-theme-toggle);
  transition: transform var(--transition-fast);
}

@media (max-width: 48rem) {
  .mobile-theme-toggle {
    display: flex;
  }

  .mobile-theme-toggle:active {
    transform: scale(0.9);
  }
}

/* ========================================
   Swipe Gestures Support
   ======================================== */
.swipeable {
  touch-action: pan-y;
}

.swipeable-x {
  touch-action: pan-x;
}

.swipeable-none {
  touch-action: none;
}

/* ========================================
   iOS Specific Fixes
   ======================================== */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari fixes */
  input,
  textarea,
  select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  /* Fix for iOS Safari bounce scrolling */
  .ios-scroll-fix {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Fix for iOS input zoom */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  textarea {
    font-size: 16px !important;
  }
}

/* ========================================
   Android Specific Fixes
   ======================================== */
@media screen and (-webkit-min-device-pixel-ratio: 0) and (hover: none) {
  /* Android Chrome fixes */
  input,
  textarea {
    -webkit-user-select: text;
    user-select: text;
  }
}

/* ============================================
   Header Component
   ============================================ */
/* From: components/Header.css */

/* Header Component Styles - GameBuddies.io Branding */

.header {
  width: 100%;
  height: 66px;
  box-sizing: border-box;
  padding: 0.75rem 1.5rem;
  background: rgba(13, 15, 26, 0.15);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border-bottom: 2px solid rgba(var(--accent-color-rgb), 0.3);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  position: fixed;
  top: 0;
  left: 0;
  z-index: var(--z-mobile-nav);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.logo {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  text-decoration: none;
  width: fit-content;
}

.logo-icon {
  width: 40px;
  height: 40px;
  object-fit: contain;
  filter: drop-shadow(0 0 8px var(--accent-glow));
  transition: filter 0.3s ease;
}

.logo:hover .logo-icon {
  filter: drop-shadow(0 0 12px var(--accent-glow));
}

.logo-text-container {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.logo-text {
  font-family: 'Orbitron', sans-serif;
  font-size: 1.125rem;
  font-weight: 700;
  color: white;
  letter-spacing: 0.03em;
  line-height: 1.2;
}

.logo-text .accent {
  color: var(--accent-color);
  text-shadow: 0 0 20px var(--accent-glow);
}

.gb-branding {
  font-family: 'Inter', sans-serif;
  font-size: 0.6rem;
  font-weight: 600;
  letter-spacing: 0.05em;
  white-space: nowrap;
}

.gb-by {
  color: #6b7280;
}

.gb-game {
  color: #ffffff;
  font-weight: 700;
}

.gb-buddies {
  color: var(--primary);
  font-weight: 700;
}

.gb-io {
  color: var(--accent-color);
  font-weight: 700;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .header {
    padding: 0.5rem 1rem;
  }

  .logo-icon {
    width: 32px;
    height: 32px;
  }

  .logo-text {
    font-size: 1rem;
  }
}


/* ============================================
   GameHeader Component
   ============================================ */
/* From: components/GameHeader.css */

/* GameHeader Component Styles - GameBuddies.io Branding */

.game-header {
  width: 100%;
  height: 66px;
  box-sizing: border-box;
  background: rgba(13, 15, 26, 0.2);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  border-bottom: 2px solid rgba(var(--accent-color-rgb), 0.4);
  box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
  position: fixed;
  top: 0;
  left: 0;
  z-index: var(--z-mobile-nav);
  overflow: visible;
}

.game-header-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1.5rem;
}

.game-header-left {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.game-header-logo {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  text-decoration: none;
}

.game-header-logo-icon {
  width: 40px;
  height: 40px;
  object-fit: contain;
  filter: drop-shadow(0 0 8px var(--accent-glow));
  transition: filter 0.3s ease;
}

.game-header-logo:hover .game-header-logo-icon {
  filter: drop-shadow(0 0 12px var(--accent-glow));
}

.game-header-logo-text-container {
  display: flex;
  flex-direction: column;
  gap: 0.0625rem;
}

.game-header-logo-text {
  font-family: 'Orbitron', sans-serif;
  font-size: 1.125rem;
  font-weight: 700;
  color: white;
  letter-spacing: 0.02em;
  line-height: 1.2;
}

.game-header-brain {
  color: var(--primary);
  text-shadow: 0 0 20px rgba(var(--primary-rgb), 0.4);
}

.game-header-accent {
  color: var(--accent-color);
  text-shadow: 0 0 20px var(--accent-glow);
}

.game-header-gb-branding {
  font-family: 'Inter', sans-serif;
  font-size: 0.6rem;
  font-weight: 600;
  letter-spacing: 0.03em;
  white-space: nowrap;
}

.game-header-gb-by { color: #6b7280; }
.game-header-gb-game { color: #ffffff; font-weight: 700; }
.game-header-gb-buddies { color: var(--primary); font-weight: 700; }
.game-header-gb-io { color: var(--accent-color); font-weight: 700; }

.game-header-divider {
  width: 1px;
  height: 2rem;
  background: rgba(255, 255, 255, 0.2);
  display: none;
}

@media (min-width: 768px) {
  .game-header-divider {
    display: block;
  }
}

.game-header-room-info {
  display: none;
  align-items: center;
  gap: 0.75rem;
}

@media (min-width: 768px) {
  .game-header-room-info {
    display: flex;
  }
}

.game-header-room-code {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.game-header-room-label {
  font-size: 0.875rem;
  color: #9ca3af;
}

.game-header-room-value {
  font-family: monospace;
  font-weight: 700;
  color: var(--accent-color);
}

.game-header-copy-btn {
  padding: 0.375rem;
  background: transparent;
  border: none;
  border-radius: 0.5rem;
  color: #9ca3af;
  cursor: pointer;
  transition: all 0.2s ease;
}

.game-header-copy-btn:hover {
  background: color-mix(in srgb, var(--accent-color) 20%, transparent);
  color: var(--accent-color);
  transform: scale(1.1);
}

.game-header-copy-btn.streamer {
  color: #f06292;
}

.game-header-copy-btn.streamer:hover {
  background: rgba(233, 69, 96, 0.3);
  color: white;
}

.game-header-streamer-badge {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0.5rem;
  background: rgba(233, 69, 96, 0.2);
  border: 1px solid rgba(233, 69, 96, 0.5);
  border-radius: 0.25rem;
  color: #f06292;
  font-size: 0.75rem;
  font-weight: 600;
}

.game-header-streamer-badge.mobile {
  padding: 0.125rem 0.5rem;
  font-size: 0.75rem;
}

.game-header-phase-badge {
  padding: 0.25rem 0.625rem;
  background: color-mix(in srgb, var(--accent-color) 20%, transparent);
  border: 1px solid color-mix(in srgb, var(--accent-color) 30%, transparent);
  border-radius: 9999px;
  color: var(--accent-color);
  font-size: 0.75rem;
  font-weight: 500;
}

.game-header-phase-badge.mobile {
  padding: 0.125rem 0.5rem;
  font-size: 0.75rem;
}

.game-header-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.game-header-player-count {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.625rem;
  background: rgba(51, 65, 85, 0.5);
  border: 1px solid rgba(71, 85, 105, 0.4);
  border-radius: 0.5rem;
  color: white;
  font-size: 0.875rem;
  font-weight: 500;
}

.game-header-player-count svg {
  color: #9ca3af;
}

.game-header-player-info {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.75rem;
  background: rgba(51, 65, 85, 0.5);
  border: 1px solid rgba(71, 85, 105, 0.4);
  border-radius: 0.5rem;
  color: white;
  font-size: 0.875rem;
  font-weight: 500;
}

.game-header-player-info.host {
  background: rgba(var(--accent-color-rgb), 0.2);
  border-color: rgba(var(--accent-color-rgb), 0.3);
  color: var(--accent-color);
}

.game-header-host-badge {
  font-size: 0.65rem;
  font-weight: 600;
  padding: 0.125rem 0.375rem;
  background: rgba(var(--accent-color-rgb), 0.2);
  border-radius: 9999px;
  color: var(--accent-color);
}

.game-header-settings-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  background: rgba(51, 65, 85, 0.5);
  border: 1px solid rgba(71, 85, 105, 0.4);
  border-radius: 0.5rem;
  color: #94a3b8;
  cursor: pointer;
  transition: all 0.2s ease;
}

.game-header-settings-btn:hover {
  background: rgba(0, 217, 255, 0.2);
  border-color: rgba(0, 217, 255, 0.4);
  color: #00d9ff;
}

.game-header-leave-btn {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.75rem;
  background: rgba(51, 65, 85, 0.5);
  border: 1px solid rgba(71, 85, 105, 0.4);
  border-radius: 0.5rem;
  color: #94a3b8;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: none;
  letter-spacing: normal;
}

.game-header-leave-btn:hover {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.4);
  color: #f87171;
}

/* Mobile row - visible only on small screens */
.game-header-mobile-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding: 0.5rem 1rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

@media (min-width: 768px) {
  .game-header-mobile-row {
    display: none;
  }
}

/* Responsive adjustments */
@media (max-width: 767px) {
  .game-header-container {
    padding: 0.5rem 1rem;
  }

  .game-header-logo-icon {
    width: 32px;
    height: 32px;
  }

  .game-header-logo-text {
    font-size: 0.875rem;
  }

  .game-header-player-info {
    display: none;
  }

  .game-header-leave-btn span {
    display: none;
  }
}


/* ============================================
   ChatWindow Component
   ============================================ */
/* From: components/ChatWindow.css */

/* ========================================
   CHAT WINDOW - Cyberpunk Theme
   ======================================== */

/* Chat Window - Minimized State */
.chat-minimized {
  position: fixed;
  bottom: 1.25rem;
  left: 1.25rem;
  width: 3.75rem;
  height: 3.75rem;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 0.25rem 1.25rem rgba(168, 85, 247, 0.5);
  transition: all var(--transition);
  z-index: var(--z-mobile-nav);
  color: white;
  border: 1px solid var(--panel-border);
}

.chat-minimized:hover {
  transform: translateY(-4px) scale(1.05);
  box-shadow: 0 8px 30px rgba(168, 85, 247, 0.7), var(--glow-primary);
}

.unread-badge {
  position: absolute;
  top: -0.3125rem;
  right: -0.3125rem;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  border-radius: 50%;
  width: 1.5rem;
  height: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
  border: 2px solid var(--bg-dark);
  box-shadow: 0 0 0.9375rem rgba(239, 68, 68, 0.6);
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* ========================================
   CONTAINER QUERY SETUP
   ======================================== */

/* Chat Window - Sidebar Layout */
.chat-window {
  position: relative;
  /* Allow pseudo-elements to be visible */

  /* Enable container queries */
  container-type: inline-size;
  container-name: chat-window;
}

.chat-window::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--accent-color);
  box-shadow: 0 0 10px rgba(var(--accent-color-rgb), 0.5);
  z-index: var(--z-webcam);
}

/* Bottom border removed - filmstrip has glowing border instead */

/* Chat Header */
.chat-header {
  padding: 1rem;
  background: var(--bg-card);
  border-bottom: 2px solid var(--accent-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chat-header h3 {
  margin: 0;
  font-size: 1.125rem;
  color: var(--accent-color);
  font-family: var(--font-heading);
  text-transform: uppercase;
  letter-spacing: 1px;
  font-weight: bold;
}

.minimize-button {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  font-size: 1.5rem;
  padding: 0;
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 0.5rem;
  transition: all var(--transition);
}

.minimize-button:hover {
  background: var(--panel-bg);
  color: var(--primary-light);
  transform: none;
  box-shadow: 0 0 15px rgba(168, 85, 247, 0.3);
}

/* Chat Messages */
.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  background: transparent;
  font-family: 'Space Grotesk', 'Inter', sans-serif !important;
}

.chat-messages::-webkit-scrollbar {
  width: 0.5rem;
}

.chat-messages::-webkit-scrollbar-track {
  background: var(--bg-darker);
  border-radius: 0.25rem;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: var(--panel-bg);
  border-radius: 0.25rem;

}

.chat-messages::-webkit-scrollbar-thumb:hover {
  background: var(--bg-card-hover);
}

/* Chat Message */
.chat-message {
  background: var(--panel-bg);

  padding: 0.75rem;
  border-radius: 0.75rem;
  border: 1px solid var(--panel-border);
  animation: slideIn 0.3s ease-out;
  transition: all var(--transition);
  font-family: 'Space Grotesk', 'Inter', sans-serif !important;
}

.chat-message:hover {
  background: var(--bg-card-hover);
  border-color: rgba(168, 85, 247, 0.3);
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.chat-message.system-message {
  background: rgba(168, 85, 247, 0.1);
  border-color: rgba(168, 85, 247, 0.3);
  text-align: center;
  padding: 0.5rem 0.75rem;
}

.chat-message.system-message .message-content {
  color: var(--primary-light);
  font-size: 0.875rem;
  font-style: italic;
}

.message-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 4px;
}

.message-sender {
  font-weight: 600;
  color: var(--primary-light);
  font-size: 0.875rem;
  text-shadow: 0 0 10px rgba(168, 85, 247, 0.3);
  font-family: 'Space Grotesk', 'Inter', sans-serif !important;
  text-transform: uppercase !important;
  letter-spacing: 0.15em !important;
}

.message-time {
  font-size: 0.75rem;
  color: var(--text-muted);
  font-family: 'Space Grotesk', 'Inter', sans-serif !important;
}

.message-content {
  color: var(--text-secondary);
  font-size: 0.9375rem;
  word-wrap: break-word;
  white-space: pre-wrap;
  line-height: 1.5;
  font-family: 'Space Grotesk', 'Inter', sans-serif !important;
}

/* Chat Input */
.chat-input-container {
  padding: 1rem;
  background: var(--bg-card);

  border-top: 1px solid var(--panel-border);
  position: relative;
}

.emoji-picker-container {
  position: absolute;
  bottom: 100%;
  left: 1rem;
  margin-bottom: 0.5rem;
  z-index: var(--z-webcam);
}

.chat-input-wrapper {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.emoji-button {
  background: var(--panel-bg);

  border: 1px solid var(--panel-border);
  padding: 0.5rem 0.75rem;
  font-size: 1.25rem;
  min-width: 2.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition);
  border-radius: 0.75rem;
}

.emoji-button:hover {
  background: var(--bg-card-hover);
  border-color: var(--primary);
  transform: scale(1.05);
  box-shadow: 0 0 15px rgba(168, 85, 247, 0.3);
}

.chat-input {
  flex: 1;
  padding: 0.625rem 0.75rem;
  background: var(--panel-bg);

  border: 1px solid var(--panel-border);
  border-radius: 0.75rem;
  color: var(--text-primary);
  font-size: 0.9375rem;
  font-family: var(--font-body);
  transition: all var(--transition);
}

.chat-input::placeholder {
  color: var(--text-muted);
}

.chat-input:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 3px rgba(var(--accent-color-rgb), 0.2);
  background: var(--bg-card-hover);
}

.send-button {
  padding: 0.625rem 1rem;
  font-size: 0.9375rem;
  min-width: auto;
  background: var(--accent-color);
  border: none;
  color: white;
  font-weight: 600;
  border-radius: 0.75rem;
  box-shadow: none;
  transition: all var(--transition);
  position: relative;
  overflow: hidden;
}

.send-button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.send-button:hover::before {
  width: 300px;
  height: 300px;
}

.send-button:hover {
  transform: translateY(-2px);
  box-shadow: none;
  background: var(--accent-hover);
}

.send-button:active {
  transform: translateY(0);
}

/* ========================================
   CONTAINER QUERIES - Component-Level Responsiveness
   ======================================== */

/* Compact container (< 300px) - Mobile drawer context */
@container chat-window (max-width: 18.75rem) {
  .chat-header {
    padding: 0.75rem;
  }

  .chat-header h3 {
    font-size: 1rem;
    letter-spacing: 0.5px;
  }

  .chat-messages {
    padding: 0.75rem;
    gap: 0.5rem;
  }

  .chat-message {
    padding: 0.5rem;
    border-radius: 0.5rem;
  }

  .message-sender {
    font-size: 0.8125rem;
  }

  .message-content {
    font-size: 0.875rem;
  }

  .chat-input-container {
    padding: 0.75rem;
  }

  .chat-input {
    padding: 0.5rem 0.625rem;
    font-size: 0.875rem;
  }

  .send-button {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
  }

  .emoji-button {
    min-width: 2.5rem;
    padding: 0.375rem 0.5rem;
    font-size: 1.125rem;
  }
}

/* Standard container (300-450px) */
@container chat-window (min-width: 18.75rem) {
  .chat-header {
    padding: 0.875rem;
  }

  .chat-messages {
    padding: 0.875rem;
    gap: 0.625rem;
  }

  .chat-message {
    padding: 0.625rem;
  }
}

/* Wide container (450px+) - Full sidebar context */
@container chat-window (min-width: 28rem) {
  .chat-header {
    padding: 1rem;
  }

  .chat-header h3 {
    font-size: 1.125rem;
  }

  .chat-messages {
    padding: 1rem;
    gap: 0.75rem;
  }

  .chat-message {
    padding: 0.75rem;
  }

  .chat-input-container {
    padding: 1rem;
  }
}

/* ========================================
   VIEWPORT FALLBACKS (for older browsers)
   ======================================== */

/* Mobile Responsive */
@media (max-width: 48rem) {
  .chat-window {
    min-height: 18.75rem;
  }

  .chat-minimized {
    bottom: 1rem;
    left: 1rem;
  }

  .emoji-picker-container {
    left: 50%;
    transform: translateX(-50%);
  }
}


/* ============================================
   PlayerList Component
   ============================================ */
/* From: components/PlayerList.css */

/* ========================================
   PLAYER LIST - Cyberpunk Theme
   ======================================== */

/* ========================================
   CONTAINER QUERY SETUP
   ======================================== */

/* PlayerList - Sidebar Layout */
.player-list-fixed {
  width: 100%;
  max-height: 25rem;
  background: var(--panel-bg);

  border-radius: 0.75rem;
  border: 1px solid var(--panel-border);
  box-shadow: var(--panel-shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  position: relative;

  /* Enable container queries */
  container-type: inline-size;
  container-name: player-list;
}

.player-list-fixed::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--accent-color);
  opacity: 1;
}

.player-list-header {
  padding: 1rem;
  background: var(--bg-card);

  border-bottom: 1px solid var(--panel-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
}

.player-list-header h3 {
  margin: 0;
  font-size: 1rem;
  color: var(--text-primary);
  font-family: var(--font-heading);
  text-transform: uppercase;
  letter-spacing: 1px;
  background: var(--gradient-button);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.skip-turn-button {
  padding: 0.375rem 0.75rem;
  font-size: 0.875rem;
  background: var(--gradient-button);
  border: none;
  color: white;
  font-weight: 600;
  min-width: auto;
  border-radius: 0.5rem;
  box-shadow: 0 0.25rem 0.75rem rgba(245, 158, 11, 0.4);
  transition: all var(--transition);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.skip-turn-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(245, 158, 11, 0.6);
}

.skip-turn-button:active {
  transform: translateY(0);
}

.player-list-items {
  flex: 1;
  overflow-y: auto;
  padding: 0.75rem;
  display: flex;
  flex-direction: column;
  gap: 0.375rem;
  background: transparent;
}

.player-list-items::-webkit-scrollbar {
  width: 0.5rem;
}

.player-list-items::-webkit-scrollbar-track {
  background: var(--bg-darker);
  border-radius: 0.25rem;
}

.player-list-items::-webkit-scrollbar-thumb {
  background: var(--panel-bg);
  border-radius: 0.25rem;

}

.player-list-items::-webkit-scrollbar-thumb:hover {
  background: var(--bg-card-hover);
}

.player-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.625rem;
  background: var(--panel-bg);

  border-radius: 0.5rem;
  border: 1px solid var(--panel-border);
  transition: all var(--transition);
  font-family: 'Space Grotesk', 'Inter', sans-serif !important;
}

.player-item:hover {
  background: var(--bg-card-hover);
  transform: translateX(4px);
  border-color: rgba(168, 85, 247, 0.3);
}

.player-item.is-me {
  background: rgba(168, 85, 247, 0.15);
  border-color: rgba(168, 85, 247, 0.4);
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.2);
}

.player-item.is-me:hover {
  background: rgba(168, 85, 247, 0.2);
}

.player-item.is-active {
  border-color: var(--accent-color);
  border-width: 2px;
  box-shadow: 0 0 25px var(--accent-glow), 0 0 15px var(--accent-glow);
  animation: glow-pulse 2s ease-in-out infinite;
}

@keyframes glow-pulse {
  0%, 100% {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.4);
  }
  50% {
    box-shadow: 0 0 30px rgba(168, 85, 247, 0.7);
  }
}

.player-info {
  display: flex;
  align-items: center;
  gap: 0.625rem;
  flex: 1;
  min-width: 0;
}

.status-dot {
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 50%;
  flex-shrink: 0;
  box-shadow: 0 0 0.625rem currentColor;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.status-dot.connected {
  background: #10b981;
  color: #10b981;
}

.status-dot.disconnected {
  background: #ef4444;
  color: #ef4444;
}

.player-name {
  color: var(--text-primary);
  font-weight: 600;
  font-size: 0.875rem;
  display: flex;
  align-items: center;
  gap: 0.375rem;
  flex-wrap: wrap;
  font-family: 'Space Grotesk', 'Inter', sans-serif !important;
  text-transform: uppercase !important;
  letter-spacing: 0.15em !important;
}

.player-score {
  font-size: 0.75rem;
  color: var(--text-muted);
}

/* Player avatar images */
.player-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  overflow: hidden;
  flex-shrink: 0;
}

.player-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

/* Player content wrapper - contains name row and score */
.player-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
  min-width: 0;
}

/* Name row - horizontal alignment of name and badges */
.player-name-row {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
  width: 100%;
}

/* Badge container - groups all badges with spacing */
.player-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  align-items: center;
}

.badge-host,
.badge-you,
.badge-active,
.badge-premium {
  font-size: 0.625rem;
  font-weight: 700;
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  text-transform: uppercase !important;
  letter-spacing: 0.15em !important;
  border: 1px solid currentColor;
  font-family: 'Space Grotesk', 'Inter', sans-serif !important;
}

.badge-host {
  background: rgba(var(--accent-color-rgb), 0.15);
  color: var(--accent-color);
  border-color: rgba(var(--accent-color-rgb), 0.4);
  box-shadow: 0 0 10px rgba(var(--accent-color-rgb), 0.3);
}

.badge-you {
  background: color-mix(in srgb, var(--accent-color) 15%, transparent);
  color: var(--accent-color);
  border-color: color-mix(in srgb, var(--accent-color) 40%, transparent);
  box-shadow: 0 0 10px var(--accent-glow);
}

.badge-active {
  background: color-mix(in srgb, var(--accent-color) 15%, transparent);
  color: var(--accent-color);
  border-color: color-mix(in srgb, var(--accent-color) 40%, transparent);
  box-shadow: 0 0 10px var(--accent-glow);
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.badge-premium.lifetime {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 165, 0, 0.3));
  color: #FFD700;
  border-color: rgba(255, 215, 0, 0.4);
  box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
}

.badge-premium.monthly {
  background: linear-gradient(135deg, rgba(0, 217, 255, 0.3), rgba(0, 255, 136, 0.3));
  color: #00d9ff;
  border-color: rgba(0, 217, 255, 0.4);
  box-shadow: 0 0 10px rgba(0, 217, 255, 0.3);
}

/* ============================================
   SUSD NOIR: Player List as Manila Case Files
   ============================================ */

/* Manila folder container */
[data-theme="susd"] .player-list-fixed {
  background: linear-gradient(135deg, var(--noir-manila) 0%, #c9ae86 100%);

  /* Folder edges */
  border-top: 4px solid var(--noir-manila-tab);
  border-left: 2px solid #a88858;
  border-right: 2px solid #a88858;
  border-bottom: 2px solid #9d7d4d;

  /* Paper texture */
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,.03) 2px,
      rgba(0,0,0,.03) 4px
    );

  /* Folder stack depth */
  box-shadow:
    0 1px 0 var(--noir-manila-tab),
    0 2px 0 #a88858,
    0 3px 0 #9d7d4d,
    0 8px 16px rgba(0, 0, 0, 0.3);
}

/* Folder tab header */
[data-theme="susd"] .player-list-header {
  background: var(--noir-manila-tab);
  border-bottom: 2px solid #9d7d4d;
  margin: -1rem -1rem 0 -1rem;
  padding: 0.75rem 1rem;

  /* Tab protruding effect */
  clip-path: polygon(
    0 0, 15% 0, 18% 100%, 82% 100%, 85% 0, 100% 0, 100% 100%, 0 100%
  );
}

[data-theme="susd"] .player-list-header h3 {
  font-family: var(--font-typewriter) !important;
  color: #000000 !important;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-size: 0.75rem;
  font-weight: 700;
  -webkit-text-fill-color: #000000;
  background: none;
}

/* Player items as dossier entries */
[data-theme="susd"] .player-item {
  background: linear-gradient(135deg, #f4ead5 0%, #e8dfc8 100%);

  border: 1px dashed var(--noir-manila-border);
  border-left: 3px solid var(--noir-manila-tab);

  /* Paper grain */
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 1px,
      rgba(0,0,0,.02) 1px,
      rgba(0,0,0,.02) 2px
    );

  /* Subtle hand-placed rotation */
  transform: rotate(-0.3deg);

  box-shadow:
    2px 2px 0 rgba(139, 115, 85, 0.2),
    0 2px 8px rgba(0, 0, 0, 0.1);
}

[data-theme="susd"] .player-item:hover {
  transform: translateX(4px);
  box-shadow:
    3px 3px 0 rgba(139, 115, 85, 0.3),
    0 4px 12px rgba(0, 0, 0, 0.15);
  border-color: #6d5940;
}

/* Active player - pulled forward */
[data-theme="susd"] .player-item.is-active {
  border-color: var(--chalk-red);
  border-width: 2px;
  border-left-width: 4px;
  transform: rotate(0deg) scale(1.02);
  box-shadow:
    4px 4px 0 rgba(255, 107, 107, 0.3),
    0 6px 20px rgba(255, 107, 107, 0.4);
  z-index: 2;
}

/* Current user - highlighted */
[data-theme="susd"] .player-item.is-me {
  background: linear-gradient(135deg, #fff9e6 0%, #f4ead5 100%);
  border-color: #6d5940;
  border-left-color: var(--chalk-red);
  border-left-width: 4px;
  box-shadow:
    3px 3px 0 rgba(255, 107, 107, 0.2),
    0 4px 16px rgba(255, 107, 107, 0.2);
}

/* Typewriter text */
[data-theme="susd"] .player-name {
  font-family: var(--font-typewriter) !important;
  color: var(--noir-ink) !important;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-size: 0.8rem;
  font-weight: 600;
}

[data-theme="susd"] .player-score {
  font-family: var(--font-typewriter) !important;
  color: #6d5940 !important;
  font-size: 0.7rem;
}

/* Badges as ink stamps */
[data-theme="susd"] .badge-host,
[data-theme="susd"] .badge-you,
[data-theme="susd"] .badge-active,
[data-theme="susd"] .badge-premium {
  font-family: var(--font-typewriter) !important;
  font-weight: 700;
  padding: 0.25rem 0.5rem;
  border-radius: 2px;

  /* Double border ink stamp */
  border: 2px solid currentColor;
  box-shadow:
    inset 0 0 0 1px currentColor,
    0 0 0 2px rgba(0, 0, 0, 0.1);

  transform: rotate(-2deg);
  letter-spacing: 0.1em;
}

[data-theme="susd"] .badge-host {
  background: rgba(0, 0, 0, 0.85);
  color: #fbbf24 !important;
  border-color: #fbbf24;
  text-shadow: 0 0 8px rgba(251, 191, 36, 0.5);
}

[data-theme="susd"] .badge-you {
  background: var(--chalk-red);
  color: #ffffff !important;
  border-color: var(--noir-stamp);
  transform: rotate(3deg);
  box-shadow:
    inset 0 0 0 1px var(--noir-stamp),
    0 0 0 2px rgba(139, 0, 0, 0.2);
}

[data-theme="susd"] .badge-active {
  background: var(--chalk-red);
  color: #ffffff !important;
  border-color: var(--noir-stamp);
  transform: rotate(-3deg);
  animation: stampPulse 2s ease-in-out infinite;
}

[data-theme="susd"] .badge-premium.lifetime,
[data-theme="susd"] .badge-premium.monthly {
  background: rgba(0, 0, 0, 0.9);
  border-width: 2px;
  transform: rotate(2deg);
}

/* Scrollbar - folder edge */
[data-theme="susd"] .player-list-items::-webkit-scrollbar-thumb {
  background: var(--noir-manila-tab);
  border-radius: 2px;
}

[data-theme="susd"] .player-list-items::-webkit-scrollbar-track {
  background: var(--noir-manila);
}

/* ============================================
   DDF TERMINAL: Player List as Command Windows
   ============================================ */

/* Terminal container with scanlines */
[data-theme="ddf"] .player-list-fixed {
  background: var(--terminal-bg);
  border: 1px solid var(--terminal-green);
  box-shadow:
    0 0 20px rgba(123, 255, 141, 0.2),
    inset 0 0 60px rgba(123, 255, 141, 0.05);
}

/* Scanline overlay */
[data-theme="ddf"] .player-list-fixed::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    var(--terminal-scanline) 2px,
    var(--terminal-scanline) 4px
  );
  animation: scanlineScroll 1.5s infinite linear;
  pointer-events: none;
  z-index: 1;
}

/* Terminal header */
[data-theme="ddf"] .player-list-header {
  background: rgba(123, 255, 141, 0.1);
  border-bottom: 1px solid var(--terminal-green);
  position: relative;
  z-index: 2;
}

[data-theme="ddf"] .player-list-header h3 {
  font-family: 'Courier New', monospace !important;
  color: var(--terminal-green) !important;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  font-size: 0.75rem;
  font-weight: 700;
  -webkit-text-fill-color: var(--terminal-green);
  background: none;
  text-shadow: 0 0 8px rgba(123, 255, 141, 0.6);
}

/* Player items as command entries */
[data-theme="ddf"] .player-item {
  background: rgba(123, 255, 141, 0.03);
  border: 1px solid rgba(123, 255, 141, 0.2);
  border-left: 2px solid var(--terminal-green);
  position: relative;
  z-index: 2;
}

/* Command prompt ">" before each player */
[data-theme="ddf"] .player-item::before {
  content: '>';
  position: absolute;
  left: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  font-family: 'Courier New', monospace;
  color: var(--terminal-green);
  font-size: 1rem;
  font-weight: bold;
  text-shadow: 0 0 8px rgba(123, 255, 141, 0.6);
}

[data-theme="ddf"] .player-item:hover {
  background: rgba(123, 255, 141, 0.08);
  border-color: var(--terminal-green);
  box-shadow: 0 0 15px rgba(123, 255, 141, 0.3);
}

/* Active player - bright highlight */
[data-theme="ddf"] .player-item.is-active {
  background: rgba(123, 255, 141, 0.15);
  border-color: var(--terminal-green-bright);
  border-left-width: 3px;
  box-shadow: 0 0 20px rgba(123, 255, 141, 0.5);
  animation: terminalPulse 1.5s ease-in-out infinite;
}

@keyframes terminalPulse {
  0%, 100% {
    box-shadow: 0 0 20px rgba(123, 255, 141, 0.5);
  }
  50% {
    box-shadow: 0 0 30px rgba(123, 255, 141, 0.7);
  }
}

/* Monospace text */
[data-theme="ddf"] .player-name {
  font-family: 'Courier New', monospace !important;
  color: var(--terminal-green) !important;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-size: 0.85rem;
  font-weight: 600;
  text-shadow: 0 0 8px rgba(123, 255, 141, 0.4);
  padding-left: 1.5rem; /* Space for ">" prompt */
}

[data-theme="ddf"] .player-score {
  font-family: 'Courier New', monospace !important;
  color: var(--terminal-green-bright) !important;
  font-size: 0.75rem;
  text-shadow: 0 0 6px rgba(123, 255, 141, 0.3);
  padding-left: 1.5rem;
}

/* Terminal badges */
[data-theme="ddf"] .badge-host,
[data-theme="ddf"] .badge-you,
[data-theme="ddf"] .badge-active,
[data-theme="ddf"] .badge-premium {
  font-family: 'Courier New', monospace !important;
  font-weight: 700;
  padding: 0.25rem 0.5rem;
  border-radius: 0;
  background: rgba(123, 255, 141, 0.2);
  color: var(--terminal-green) !important;
  border: 1px solid var(--terminal-green);
  box-shadow: 0 0 10px rgba(123, 255, 141, 0.3);
  text-shadow: 0 0 8px rgba(123, 255, 141, 0.6);
  letter-spacing: 0.1em;
}

[data-theme="ddf"] .badge-active {
  animation: terminalBlink 1s infinite;
}

@keyframes terminalBlink {
  0%, 49% {
    opacity: 1;
  }
  50%, 100% {
    opacity: 0.5;
  }
}

/* Terminal scrollbar */
[data-theme="ddf"] .player-list-items::-webkit-scrollbar-thumb {
  background: var(--terminal-green);
  border-radius: 0;
}

[data-theme="ddf"] .player-list-items::-webkit-scrollbar-track {
  background: rgba(123, 255, 141, 0.1);
}

/* ========================================
   CLUESCALE BLUEPRINT PLAYER LIST
   ======================================== */

/* Blueprint grid background overlay */
/* Magical particle overlay */
[data-theme="clue"] .player-list-fixed::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10' cy='10' r='1' fill='%23d97706' opacity='0.3'/%3E%3Ccircle cx='50' cy='30' r='1.5' fill='%239333ea' opacity='0.4'/%3E%3Ccircle cx='70' cy='60' r='1' fill='%23f59e0b' opacity='0.3'/%3E%3C/svg%3E");
  background-size: 80px 80px;
  animation: magicFloat 8s ease-in-out infinite;
}

@keyframes magicFloat {
  0%, 100% { transform: translateY(0); opacity: 0.3; }
  50% { transform: translateY(-10px); opacity: 0.6; }
}

/* Enchanted scroll container */
[data-theme="clue"] .player-list-fixed {
  background: linear-gradient(135deg,
    rgba(26, 15, 46, 0.85) 0%,
    rgba(45, 27, 78, 0.85) 100%);
  border-top: 3px solid var(--mystical-gold);
  box-shadow:
    inset 0 0 0 1px rgba(147, 51, 234, 0.3),
    0 -6px 30px rgba(147, 51, 234, 0.3),
    0 0 60px rgba(245, 158, 11, 0.15);
  position: relative;
  overflow: hidden;
}

/* Enchanted scroll header */
[data-theme="clue"] .player-list-header {
  background: linear-gradient(135deg,
    rgba(147, 51, 234, 0.25) 0%,
    rgba(217, 119, 6, 0.15) 100%);
  border-bottom: 2px solid var(--mystical-gold);
  padding: 14px 18px;
  position: relative;
  font-family: 'Cinzel', serif;
  text-transform: uppercase;
  letter-spacing: 0.15em;
}

/* Mystical runes decoration */
[data-theme="clue"] .player-list-header::before {
  content: '‚ú¶';
  position: absolute;
  left: 18px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--mystical-gold);
  font-size: 16px;
  animation: runeGlow 3s ease-in-out infinite;
}

[data-theme="clue"] .player-list-header::after {
  content: '‚ú¶';
  position: absolute;
  right: 18px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--mystical-purple);
  font-size: 16px;
  animation: runeGlow 3s ease-in-out infinite reverse;
}

@keyframes runeGlow {
  0%, 100% { opacity: 0.5; text-shadow: 0 0 4px currentColor; }
  50% { opacity: 1; text-shadow: 0 0 12px currentColor; }
}

/* Mystical header title */
[data-theme="clue"] .player-list-header h3 {
  color: var(--mystical-gold);
  text-shadow: 0 0 12px rgba(245, 158, 11, 0.6);
  font-size: 0.75rem;
  font-weight: 700;
}

/* Mystical items container */
[data-theme="clue"] .player-list-items {
  position: relative;
  z-index: 1;
}

/* Magical scroll player items */
[data-theme="clue"] .player-item {
  background: linear-gradient(135deg,
    rgba(147, 51, 234, 0.2) 0%,
    rgba(217, 119, 6, 0.15) 100%);
  border: 2px solid var(--mystical-purple);
  border-radius: 12px;
  padding: 12px 16px 12px 50px;
  margin-bottom: 12px;
  box-shadow:
    0 0 0 1px var(--enchanted-glow),
    0 4px 20px rgba(147, 51, 234, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  position: relative;
  transition: all 0.3s ease;
}

/* Enchanted border effect */
[data-theme="clue"] .player-item::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 12px;
  padding: 2px;
  background: linear-gradient(135deg, var(--mystical-purple), var(--mystical-gold));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
}

[data-theme="clue"] .player-item:hover::before {
  opacity: 1;
}

/* Mystical avatar orb */
[data-theme="clue"] .player-avatar {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  width: 32px;
  height: 32px;
  border: 2px solid var(--mystical-gold);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%,
    rgba(245, 158, 11, 0.4),
    rgba(147, 51, 234, 0.6));
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Cinzel', serif;
  font-size: 14px;
  font-weight: 700;
  color: var(--mystical-gold);
  box-shadow:
    0 0 16px rgba(245, 158, 11, 0.6),
    0 0 32px rgba(147, 51, 234, 0.3),
    inset 0 -3px 10px rgba(0, 0, 0, 0.3);
  animation: orbPulse 3s ease-in-out infinite;
}

@keyframes orbPulse {
  0%, 100% { box-shadow: 0 0 12px rgba(245, 158, 11, 0.4); }
  50% { box-shadow: 0 0 24px rgba(245, 158, 11, 0.8), 0 0 40px rgba(147, 51, 234, 0.5); }
}

/* Mystical player name */
[data-theme="clue"] .player-name {
  color: var(--mystical-gold);
  font-family: 'Cinzel', serif;
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: 0.05em;
  text-shadow: 0 0 8px rgba(245, 158, 11, 0.5);
}

/* Magical badge */
[data-theme="clue"] .player-role-badge {
  background: var(--enchanted-glow);
  border: 2px solid var(--mystical-gold);
  color: var(--mystical-gold);
  font-family: 'Cinzel', serif;
  font-size: 0.7rem;
  padding: 4px 12px;
  border-radius: 16px;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  box-shadow:
    0 0 16px rgba(245, 158, 11, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  font-weight: 700;
}

/* Mystical scrollbar */
[data-theme="clue"] .player-list-items::-webkit-scrollbar {
  width: 8px;
}

[data-theme="clue"] .player-list-items::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--mystical-purple), var(--mystical-gold));
  border-radius: 10px;
  box-shadow: 0 0 8px rgba(147, 51, 234, 0.5);
}

[data-theme="clue"] .player-list-items::-webkit-scrollbar-track {
  background: rgba(147, 51, 234, 0.1);
  border-left: 1px solid rgba(147, 51, 234, 0.2);
}

/* ========================================
   HEART'S GAMBIT BRAIN SCAN PLAYER LIST
   ======================================== */

/* EEG wave pattern overlay */
[data-theme="think"] .player-list-fixed::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg width='100' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 20 Q10 10, 20 20 T40 20 Q50 30, 60 20 T80 20 Q90 10, 100 20' stroke='%23cd93ff' stroke-width='1' fill='none' opacity='0.3'/%3E%3C/svg%3E");
  background-size: 200px 80px;
  background-repeat: repeat;
  opacity: 0.4;
  animation: brainwavePulse 3s ease-in-out infinite;
}

/* Neural network gradient background */
[data-theme="think"] .player-list-fixed {
  background: linear-gradient(180deg,
    rgba(139, 123, 201, 0.15) 0%,
    rgba(165, 148, 212, 0.1) 50%,
    rgba(139, 123, 201, 0.15) 100%);
  border-top: 3px solid var(--neural-purple);
  box-shadow:
    inset 0 0 0 1px rgba(205, 147, 255, 0.2),
    0 -4px 24px rgba(205, 147, 255, 0.3),
    0 0 60px rgba(205, 147, 255, 0.1);
  position: relative;
  overflow: hidden;
}

/* Brain monitor header */
[data-theme="think"] .player-list-header {
  background: linear-gradient(135deg,
    rgba(205, 147, 255, 0.2) 0%,
    rgba(189, 131, 239, 0.15) 100%);
  border-bottom: 2px solid var(--neural-purple);
  padding: 14px 18px;
  position: relative;
  font-family: 'Segoe UI', system-ui, sans-serif;
  letter-spacing: 0.08em;
  box-shadow: 0 2px 12px rgba(205, 147, 255, 0.2);
}

/* Neural activity indicator dots */
[data-theme="think"] .player-list-header::before {
  content: '‚óè ‚óè ‚óè';
  position: absolute;
  top: 50%;
  right: 18px;
  transform: translateY(-50%);
  color: var(--neural-wave);
  font-size: 8px;
  letter-spacing: 4px;
  animation: stampPulse 2s ease-in-out infinite;
}

/* Monitor scan line effect */
[data-theme="think"] .player-list-header::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg,
    transparent 0%,
    var(--neural-purple) 50%,
    transparent 100%);
  opacity: 0.6;
}

/* Header title - medical monitor style */
[data-theme="think"] .player-list-header h3 {
  color: var(--neural-purple);
  text-transform: uppercase;
  font-size: 0.8rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  text-shadow:
    0 0 10px rgba(205, 147, 255, 0.6),
    0 0 20px rgba(205, 147, 255, 0.3);
}

/* Items container */
[data-theme="think"] .player-list-items {
  position: relative;
  z-index: 1;
}

/* Brain scan monitor frames */
[data-theme="think"] .player-item {
  background: linear-gradient(135deg,
    rgba(139, 123, 201, 0.25) 0%,
    rgba(165, 148, 212, 0.15) 100%);
  border: 2px solid var(--neural-wave);
  border-radius: 8px;
  position: relative;
  padding: 12px 16px 12px 48px;
  margin-bottom: 12px;
  box-shadow:
    0 0 0 1px var(--neural-activity),
    0 4px 16px rgba(205, 147, 255, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
  overflow: hidden;
}

/* Brain wave overlay on item */
[data-theme="think"] .player-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg width='80' height='30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 15 Q8 8, 16 15 T32 15 Q40 22, 48 15 T64 15 Q72 8, 80 15' stroke='%23bd83ef' stroke-width='1.5' fill='none' opacity='0.2'/%3E%3C/svg%3E");
  background-size: 160px 60px;
  background-repeat: repeat-x;
  background-position: center;
  opacity: 0.3;
  pointer-events: none;
}

/* Neural activity pulse on hover */
[data-theme="think"] .player-item:hover {
  border-color: var(--neural-purple);
  box-shadow:
    0 0 0 2px var(--neural-purple),
    0 0 24px rgba(205, 147, 255, 0.5),
    0 6px 20px rgba(205, 147, 255, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
  transform: translateX(6px) scale(1.02);
}

/* Brain scan avatar - neural node */
[data-theme="think"] .player-avatar {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  width: 32px;
  height: 32px;
  border: 2px solid var(--neural-purple);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%,
    rgba(205, 147, 255, 0.4),
    rgba(139, 123, 201, 0.6));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 700;
  color: var(--neural-purple);
  font-family: 'Segoe UI', system-ui, sans-serif;
  box-shadow:
    0 0 12px rgba(205, 147, 255, 0.6),
    0 0 24px rgba(205, 147, 255, 0.3),
    inset 0 -2px 8px rgba(0, 0, 0, 0.3);
  animation: stampPulse 2.5s ease-in-out infinite;
}

/* Player name - medical readout style */
[data-theme="think"] .player-name {
  color: var(--neural-purple);
  font-family: 'Segoe UI', system-ui, sans-serif;
  font-size: 0.95rem;
  font-weight: 600;
  letter-spacing: 0.03em;
  text-shadow:
    0 0 8px rgba(205, 147, 255, 0.5),
    0 0 16px rgba(205, 147, 255, 0.2);
}

/* Neural activity badge */
[data-theme="think"] .player-role-badge {
  background: var(--neural-activity);
  border: 1.5px solid var(--neural-purple);
  color: var(--neural-purple);
  font-family: 'Segoe UI', system-ui, sans-serif;
  font-size: 0.7rem;
  padding: 4px 10px;
  border-radius: 12px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  box-shadow:
    0 0 12px rgba(205, 147, 255, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  font-weight: 700;
  animation: stampPulse 3s ease-in-out infinite;
}

/* Neural network scrollbar */
[data-theme="think"] .player-list-items::-webkit-scrollbar {
  width: 10px;
}

[data-theme="think"] .player-list-items::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--neural-purple), var(--neural-wave));
  border-radius: 5px;
  border: 2px solid rgba(0, 0, 0, 0.2);
  box-shadow: 0 0 8px rgba(205, 147, 255, 0.4);
}

[data-theme="think"] .player-list-items::-webkit-scrollbar-track {
  background: var(--neural-activity);
  border-radius: 5px;
}

/* ========================================
   BINGOBUDDIES PARTY PLAYER LIST
   ======================================== */

/* Confetti particles overlay */
[data-theme="bingo"] .player-list-fixed::after {
  content: '';
  position: absolute;
  width: 8px;
  height: 8px;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 10;
  box-shadow:
    15% 10% 0 3px var(--party-confetti-1),
    85% 15% 0 4px var(--party-confetti-2),
    25% 25% 0 2px var(--party-confetti-3),
    70% 30% 0 3px var(--party-confetti-1),
    40% 40% 0 4px var(--party-confetti-2),
    90% 50% 0 2px var(--party-confetti-3),
    10% 60% 0 3px var(--party-confetti-1),
    60% 65% 0 4px var(--party-confetti-2),
    35% 75% 0 2px var(--party-confetti-3),
    80% 85% 0 3px var(--party-confetti-1);
  animation: confettiFall 5s linear infinite;
  opacity: 0.7;
}

/* Party curtain gradient background */
[data-theme="bingo"] .player-list-fixed {
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.2) 0%,
    rgba(205, 147, 255, 0.15) 50%,
    rgba(255, 126, 182, 0.2) 100%);
  border-top: 4px solid var(--party-confetti-1);
  box-shadow:
    inset 0 0 0 2px rgba(255, 126, 182, 0.3),
    0 -6px 30px rgba(255, 126, 182, 0.4),
    0 0 80px rgba(205, 147, 255, 0.2);
  position: relative;
  overflow: hidden;
}

/* Party banner header */
[data-theme="bingo"] .player-list-header {
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.3) 0%,
    rgba(205, 147, 255, 0.25) 100%);
  border-bottom: 3px solid var(--party-confetti-1);
  padding: 16px 20px;
  position: relative;
  font-family: 'Comic Sans MS', 'Trebuchet MS', sans-serif;
  letter-spacing: 0.05em;
  box-shadow: 0 3px 15px rgba(255, 126, 182, 0.3);
}

/* Party streamer ribbons */
[data-theme="bingo"] .player-list-header::before {
  content: '';
  position: absolute;
  top: -4px;
  left: 0;
  right: 0;
  height: 8px;
  background: repeating-linear-gradient(
    90deg,
    var(--party-confetti-1) 0px,
    var(--party-confetti-1) 20px,
    var(--party-confetti-2) 20px,
    var(--party-confetti-2) 40px,
    var(--party-confetti-3) 40px,
    var(--party-confetti-3) 60px
  );
  border-radius: 4px 4px 0 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Celebration emoji indicator */
[data-theme="bingo"] .player-list-header::after {
  content: 'üéâ';
  position: absolute;
  top: 50%;
  right: 20px;
  transform: translateY(-50%);
  font-size: 20px;
  animation: stampPulse 1.5s ease-in-out infinite;
}

/* Header title - party style */
[data-theme="bingo"] .player-list-header h3 {
  color: var(--party-confetti-1);
  text-transform: uppercase;
  font-size: 0.85rem;
  font-weight: 900;
  letter-spacing: 0.15em;
  text-shadow:
    2px 2px 0 var(--party-confetti-2),
    0 0 12px rgba(255, 126, 182, 0.6),
    0 0 24px rgba(205, 147, 255, 0.4);
}

/* Items container */
[data-theme="bingo"] .player-list-items {
  position: relative;
  z-index: 1;
}

/* Party guest cards */
[data-theme="bingo"] .player-item {
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.25) 0%,
    rgba(205, 147, 255, 0.2) 100%);
  border: 3px solid var(--party-confetti-1);
  border-radius: 12px;
  position: relative;
  padding: 14px 18px 14px 52px;
  margin-bottom: 14px;
  box-shadow:
    0 0 0 2px rgba(255, 255, 255, 0.3),
    0 6px 20px rgba(255, 126, 182, 0.35),
    inset 0 2px 0 rgba(255, 255, 255, 0.2),
    inset 0 -2px 8px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  overflow: visible;
}

/* Confetti burst on item */
[data-theme="bingo"] .player-item::before {
  content: '‚ú®';
  position: absolute;
  top: -8px;
  right: -8px;
  font-size: 20px;
  opacity: 0;
  transform: scale(0.5) rotate(0deg);
  transition: all 0.3s ease;
}

/* Party balloon decoration */
[data-theme="bingo"] .player-item::after {
  content: 'üéà';
  position: absolute;
  bottom: -6px;
  left: 10px;
  font-size: 16px;
  opacity: 0.6;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

/* Celebration flash on hover */
[data-theme="bingo"] .player-item:hover {
  border-color: var(--party-confetti-2);
  box-shadow:
    0 0 0 3px var(--party-flash),
    0 0 30px rgba(255, 126, 182, 0.6),
    0 8px 25px rgba(205, 147, 255, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.4);
  transform: translateY(-4px) scale(1.03);
}

[data-theme="bingo"] .player-item:hover::before {
  opacity: 1;
  transform: scale(1.2) rotate(180deg);
}

/* Party guest avatar - celebration circle */
[data-theme="bingo"] .player-avatar {
  position: absolute;
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
  width: 32px;
  height: 32px;
  border: 3px solid var(--party-confetti-1);
  border-radius: 50%;
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.6),
    rgba(205, 147, 255, 0.6));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 900;
  color: #ffffff;
  font-family: 'Comic Sans MS', 'Trebuchet MS', sans-serif;
  box-shadow:
    0 0 16px rgba(255, 126, 182, 0.7),
    0 0 32px rgba(205, 147, 255, 0.4),
    inset 0 -3px 10px rgba(0, 0, 0, 0.2);
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
  animation: stampPulse 2s ease-in-out infinite;
}

/* Player name - party style */
[data-theme="bingo"] .player-name {
  color: var(--party-confetti-1);
  font-family: 'Comic Sans MS', 'Trebuchet MS', sans-serif;
  font-size: 1rem;
  font-weight: 800;
  letter-spacing: 0.02em;
  text-shadow:
    1px 1px 0 var(--party-confetti-2),
    0 0 10px rgba(255, 126, 182, 0.6),
    0 0 20px rgba(205, 147, 255, 0.3);
}

/* Party badge - celebration tag */
[data-theme="bingo"] .player-role-badge {
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.4),
    rgba(205, 147, 255, 0.4));
  border: 2px solid var(--party-confetti-2);
  color: #ffffff;
  font-family: 'Comic Sans MS', 'Trebuchet MS', sans-serif;
  font-size: 0.7rem;
  padding: 5px 12px;
  border-radius: 16px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  box-shadow:
    0 0 14px rgba(255, 126, 182, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.3),
    inset 0 -2px 4px rgba(0, 0, 0, 0.2);
  font-weight: 900;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
  animation: photoFlash 4s ease-in-out infinite;
}

/* Party scrollbar - colorful */
[data-theme="bingo"] .player-list-items::-webkit-scrollbar {
  width: 12px;
}

[data-theme="bingo"] .player-list-items::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg,
    var(--party-confetti-1),
    var(--party-confetti-2),
    var(--party-confetti-3));
  border-radius: 6px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 0 10px rgba(255, 126, 182, 0.5);
}

[data-theme="bingo"] .player-list-items::-webkit-scrollbar-track {
  background: rgba(255, 126, 182, 0.1);
  border-radius: 6px;
  border: 2px solid rgba(255, 126, 182, 0.2);
}

.kick-button {
  padding: 0.25rem 0.625rem;
  font-size: 0.75rem;
  background: linear-gradient(135deg, #ef4444, #dc2626);
  border: none;
  color: white;
  font-weight: 600;
  min-width: auto;
  flex-shrink: 0;
  border-radius: 0.5rem;
  box-shadow: 0 0.25rem 0.75rem rgba(239, 68, 68, 0.4);
  transition: all var(--transition);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.kick-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(239, 68, 68, 0.6);
}

.kick-button:active {
  transform: translateY(0);
}

/* ========================================
   CONTAINER QUERIES - Component-Level Responsiveness
   ======================================== */

/* Compact container (< 280px) - Drawer/narrow context */
@container player-list (max-width: 17.5rem) {
  .player-list-header {
    padding: 0.625rem;
    gap: 0.5rem;
  }

  .player-list-header h3 {
    font-size: 0.8125rem;
  }

  .player-item {
    padding: 0.5rem;
  }

  .player-name {
    font-size: 0.8125rem;
  }

  .badge-host,
  .badge-you,
  .badge-active,
  .badge-premium {
    font-size: 0.5625rem;
    padding: 0.0625rem 0.25rem;
  }

  .skip-turn-button {
    padding: 0.1875rem 0.375rem;
    font-size: 0.6875rem;
  }
}

/* Standard container (280-400px) */
@container player-list (min-width: 17.5rem) {
  .player-list-header {
    padding: 0.75rem;
  }

  .player-list-header h3 {
    font-size: 0.875rem;
  }

  .skip-turn-button {
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
  }
}

/* Wide container (400px+) - Sidebar context */
@container player-list (min-width: 25rem) {
  .player-list-header {
    padding: 1rem;
  }

  .player-list-header h3 {
    font-size: 1rem;
  }

  .player-item {
    padding: 0.75rem;
  }

  .skip-turn-button {
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
  }
}

/* ========================================
   VIEWPORT FALLBACKS (for older browsers)
   ======================================== */

/* Mobile Responsive */
@media (max-width: 48rem) {
  .player-list-fixed {
    max-height: 18.75rem;
  }

  .player-list-header {
    padding: 0.75rem;
  }

  .player-list-header h3 {
    font-size: 0.875rem;
  }

  .skip-turn-button {
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
  }
}


/* ============================================
   TutorialCarousel Component
   ============================================ */
/* From: components/TutorialCarousel.css */

/* Tutorial Overlay */
.tutorial-overlay {
  position: fixed;
  inset: 0;
  z-index: var(--z-round-start-overlay);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  background: rgba(0, 0, 0, 0.8);
  animation: tutorialFadeIn 0.2s ease-out;
}

/* Modal Container */
.tutorial-modal {
  position: relative;
  width: 100%;
  max-width: 420px;
  padding: 2.5rem 2rem 1.5rem;
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 25px 15px rgba(0, 0, 0, 0.6);
  animation: tutorialScaleIn 0.25s ease-out;
}

/* Close Button */
.tutorial-close {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.7);
  cursor: pointer;
  transition: all 0.2s ease;
}

.tutorial-close:hover {
  background: rgba(255, 255, 255, 0.2);
  color: #fff;
}

/* Content */
.tutorial-content {
  text-align: center;
  height: 420px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
}

/* Tutorial Image - Fixed size container */
.tutorial-image {
  width: 100%;
  height: 220px;
  object-fit: contain;
  margin-bottom: 1rem;
  border-radius: 12px;
}

.tutorial-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
  line-height: 1;
  animation: tutorialBounce 0.4s ease-out;
}

.tutorial-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: #fff;
  margin: 0 0 0.75rem 0;
  min-height: 2rem;
}

.tutorial-description {
  font-size: 1rem;
  color: rgba(255, 255, 255, 0.75);
  line-height: 1.6;
  margin: 0;
  max-width: 340px;
  min-height: 80px;
}

/* Navigation */
.tutorial-navigation {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.tutorial-nav-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 44px;
  height: 44px;
  padding: 0 1rem;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 10px;
  color: #fff;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tutorial-nav-btn:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-1px);
}

.tutorial-nav-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

/* Dots */
.tutorial-dots {
  display: flex;
  gap: 8px;
}

.tutorial-dot {
  width: 8px;
  height: 8px;
  padding: 0;
  background: rgba(255, 255, 255, 0.3);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
}

.tutorial-dot:hover {
  background: rgba(255, 255, 255, 0.5);
}

.tutorial-dot.active {
  width: 12px;
  height: 12px;
  background: #a855f7;
  box-shadow: 0 0 8px rgba(168, 85, 247, 0.6);
  animation: dotPulse 2s ease-in-out infinite;
}

@keyframes dotPulse {
  0%, 100% {
    box-shadow: 0 0 8px rgba(168, 85, 247, 0.6);
  }
  50% {
    box-shadow: 0 0 16px rgba(168, 85, 247, 0.9);
  }
}



/* Trigger Button */
.tutorial-trigger-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tutorial-trigger-btn:hover {
  background: rgba(255, 255, 255, 0.15);
  color: #fff;
}

/* ============================================
   SIDEBAR VARIANT - Matches .split-card styling
   ============================================ */

.tutorial-sidebar {
  background: rgba(12, 14, 28, 0.45);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid rgba(var(--accent-color-rgb), 0.2);
  border-radius: 18px;
  padding: 1.5rem 1.5rem 1.75rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  width: 280px;
  flex-shrink: 0;
  user-select: none;
}

.tutorial-sidebar-header {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--accent-color);
  margin-bottom: 1rem;
}

/* Progress bar */
.tutorial-progress {
  height: 3px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  margin-bottom: 1.25rem;
  overflow: hidden;
}

.tutorial-progress-bar {
  height: 100%;
  width: 100%;
  background: var(--gradient-button);
  border-radius: 2px;
  transform-origin: left;
  animation: progressFill linear forwards;
}

/* GPU-accelerated animation using transform instead of width */
@keyframes progressFill {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}

/* Sidebar content - fixed height so dots don't move */
.tutorial-sidebar-content {
  text-align: center;
  height: 420px;
  display: flex;
  flex-direction: column;
}

.tutorial-sidebar-image {
  width: 100%;
  height: 200px;
  object-fit: contain;
  margin-bottom: 1rem;
  border-radius: 10px;
  flex-shrink: 0;
}

.tutorial-sidebar-icon {
  font-size: 3.5rem;
  line-height: 1;
  margin-bottom: 1rem;
  flex-shrink: 0;
}

.tutorial-sidebar-title {
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
  margin: 0 0 0.5rem 0;
  flex-shrink: 0;
  min-height: 1.5rem;
}

.tutorial-sidebar-description {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.5;
  margin: 0;
  flex: 1;
  min-height: 100px;
}

/* Sidebar dots - Scaling Neon Dot design */
.tutorial-sidebar-dots {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  margin-top: auto;
  padding-top: 1rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* Dot wrapper - !important to override global button gradient */
.tutorial-sidebar-dots button.tutorial-dot-wrapper {
  position: relative;
  padding: 8px;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  overflow: visible;
}

/* Disable global button ::before pseudo-element gradient */
.tutorial-sidebar-dots button.tutorial-dot-wrapper::before {
  display: none;
}

/* Inactive dot - small and subtle */
.tutorial-sidebar-dots button.tutorial-dot-wrapper .tutorial-dot {
  width: 8px;
  height: 8px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.tutorial-sidebar-dots button.tutorial-dot-wrapper:hover .tutorial-dot {
  background: rgba(255, 255, 255, 0.4);
}

/* Active dot - solid cyan, no glow */
.tutorial-sidebar-dots button.tutorial-dot-wrapper.active .tutorial-dot {
  width: 14px;
  height: 14px;
  background: #00d9ff;
  animation: dotPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Spring pop animation with overshoot */
@keyframes dotPop {
  0% {
    transform: scale(0.6);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Circular progress ring - magenta with glow */
.tutorial-dot-progress {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 40px;
  height: 40px;
  transform: translate(-50%, -50%) rotate(-90deg);
  filter: drop-shadow(0 0 6px rgba(233, 69, 96, 0.9));
}

.tutorial-dot-progress-ring {
  fill: none;
  stroke: #e94560;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-dasharray: 106.81;
  stroke-dashoffset: 106.81;
  animation: circularProgress 5s linear forwards;
}

@keyframes circularProgress {
  from {
    stroke-dashoffset: 106.81;
  }
  to {
    stroke-dashoffset: 0;
  }
}

/* Hide sidebar on smaller screens */
@media (max-width: 1400px) {
  .tutorial-sidebar {
    display: none;
  }
}

/* Animations */
@keyframes tutorialFadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes tutorialScaleIn {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes tutorialBounce {
  0% { transform: scale(0.8); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

/* Responsive */
@media (max-width: 480px) {
  .tutorial-modal {
    padding: 2rem 1.5rem 1.25rem;
    margin: 10px;
    max-width: calc(100% - 20px);
  }

  .tutorial-icon {
    font-size: 3rem;
  }

  .tutorial-title {
    font-size: 1.25rem;
  }

  .tutorial-description {
    font-size: 0.9rem;
  }

  .tutorial-content {
    min-height: 150px;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .tutorial-overlay,
  .tutorial-modal,
  .tutorial-icon {
    animation: none;
  }

  .tutorial-nav-btn:hover:not(:disabled) {
    transform: none;
  }
}


/* ============================================
   VideoControlCluster Component
   ============================================ */
/* From: components/VideoControlCluster.css */

/* Video Control Cluster - Header Video Controls */

.video-control-cluster {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.video-join-btn {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.75rem;
  background: rgba(0, 217, 255, 0.2);
  border: 1px solid rgba(0, 217, 255, 0.4);
  border-radius: 0.5rem;
  color: #00d9ff;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.video-join-btn:hover {
  background: rgba(0, 217, 255, 0.3);
  border-color: rgba(0, 217, 255, 0.6);
  transform: scale(1.02);
}

.video-join-text {
  display: none;
}

@media (min-width: 768px) {
  .video-join-text {
    display: inline;
  }
}

.video-preparing-badge {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.625rem;
  background: rgba(251, 191, 36, 0.2);
  border: 1px solid rgba(251, 191, 36, 0.4);
  border-radius: 0.5rem;
  color: #fbbf24;
  font-size: 0.75rem;
  font-weight: 500;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.video-badge-btn {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.375rem 0.5rem;
  background: rgba(16, 185, 129, 0.2);
  border: 1px solid rgba(16, 185, 129, 0.4);
  border-radius: 0.5rem;
  color: #10b981;
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.video-badge-btn:hover {
  background: rgba(16, 185, 129, 0.3);
  border-color: rgba(16, 185, 129, 0.6);
}

.video-badge-btn.expanded {
  background: rgba(16, 185, 129, 0.3);
  border-color: rgba(16, 185, 129, 0.6);
}

.video-badge-count {
  font-family: monospace;
  min-width: 1.25rem;
  text-align: center;
}

.video-control-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  padding: 0;
  background: rgba(51, 65, 85, 0.5);
  border: 1px solid rgba(71, 85, 105, 0.4);
  border-radius: 0.5rem;
  color: #94a3b8;
  cursor: pointer;
  transition: all 0.2s ease;
}

.video-control-btn:hover {
  background: rgba(51, 65, 85, 0.8);
  border-color: rgba(71, 85, 105, 0.6);
  color: white;
}

.video-control-btn.muted {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.4);
  color: #f87171;
}

.video-control-btn.muted:hover {
  background: rgba(239, 68, 68, 0.3);
  border-color: rgba(239, 68, 68, 0.6);
  color: #fca5a5;
}

.video-control-btn.off {
  background: rgba(107, 114, 128, 0.3);
  border-color: rgba(107, 114, 128, 0.4);
  color: #6b7280;
}

.video-control-btn.off:hover {
  background: rgba(107, 114, 128, 0.5);
  color: #9ca3af;
}

@media (max-width: 640px) {
  .video-control-cluster {
    gap: 0.375rem;
  }

  .video-control-btn {
    width: 1.75rem;
    height: 1.75rem;
  }

  .video-badge-btn {
    padding: 0.25rem 0.375rem;
    font-size: 0.75rem;
  }

  .video-join-btn {
    padding: 0.25rem 0.5rem;
  }
}

@media (max-width: 480px) {
  .video-control-btn:last-child {
    display: none;
  }
}

.video-join-btn svg,
.video-badge-btn svg,
.video-control-btn svg,
.video-preparing-badge svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  stroke-width: 2;
  fill: none;
}


/* ============================================
   VideoFilmstrip Component
   ============================================ */
/* From: components/VideoFilmstrip.css */

/* Video Filmstrip - Bottom horizontal video strip */

.filmstrip-container {
  position: relative;
  width: 100%;
  flex-shrink: 0 !important;
  z-index: var(--z-filmstrip);
  background: rgba(13, 15, 26, 0.95);
  border-top: 1px solid rgba(0, 217, 255, 0.3);
  transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  animation: filmstripSlideIn 0.3s ease-out;
}

@keyframes filmstripSlideIn {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.filmstrip-container.collapsed {
  height: 40px;
}

.filmstrip-container.expanded {
  height: 110px;
}

.filmstrip-mini-bar {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 40px;
  padding: 0 1rem;
  gap: 0.75rem;
}

.filmstrip-expand-btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem 0.75rem;
  background: rgba(0, 217, 255, 0.15);
  border: 1px solid rgba(0, 217, 255, 0.3);
  border-radius: 0.5rem;
  color: #00d9ff;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.filmstrip-expand-btn:hover {
  background: rgba(0, 217, 255, 0.25);
  border-color: rgba(0, 217, 255, 0.5);
}

.filmstrip-expand-btn svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  stroke-width: 2;
  fill: none;
}

.filmstrip-content {
  display: flex;
  align-items: center;
  height: 100%;
  padding: 0.5rem 1rem;
  gap: 0.5rem;
}

.filmstrip-scroll {
  display: flex;
  gap: 0.75rem;
  overflow-x: auto;
  overflow-y: hidden;
  flex: 1;
  padding: 0.25rem;
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 217, 255, 0.3) transparent;
}

.filmstrip-scroll::-webkit-scrollbar {
  height: 6px;
}

.filmstrip-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.filmstrip-scroll::-webkit-scrollbar-thumb {
  background: rgba(0, 217, 255, 0.3);
  border-radius: 3px;
}

.filmstrip-thumbnail {
  position: relative;
  width: 145px;
  height: 110px;
  flex-shrink: 0;
  border-radius: 0.5rem;
  overflow: hidden;
  border: 2px solid var(--border-color, #475569);
  background: #1e293b;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  animation: thumbnailFadeIn 0.4s ease-out backwards;
}

.filmstrip-thumbnail:nth-child(1) { animation-delay: 0.05s; }
.filmstrip-thumbnail:nth-child(2) { animation-delay: 0.1s; }
.filmstrip-thumbnail:nth-child(3) { animation-delay: 0.15s; }
.filmstrip-thumbnail:nth-child(4) { animation-delay: 0.2s; }

@keyframes thumbnailFadeIn {
  from {
    opacity: 0;
    transform: scale(0.8) translateY(10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.filmstrip-thumbnail:hover {
  transform: scale(1.05);
  z-index: var(--z-webcam);
}

.filmstrip-thumbnail.self {
  border-color: #00d9ff;
  box-shadow: 0 0 10px rgba(0, 217, 255, 0.3);
}

.filmstrip-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.filmstrip-avatar {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #334155 0%, #1e293b 100%);
  font-size: 1.5rem;
  font-weight: 700;
  color: #94a3b8;
}

.filmstrip-status {
  position: absolute;
  top: 4px;
  right: 4px;
  display: flex;
  gap: 2px;
}

.filmstrip-status span {
  font-size: 0.625rem;
  background: rgba(0, 0, 0, 0.6);
  padding: 1px 3px;
  border-radius: 3px;
}

.status-muted {
  color: #f87171;
}

.status-cam-off {
  color: #fbbf24;
}

/* Lives display for DDF */
.filmstrip-lives {
  position: absolute;
  top: 4px;
  left: 4px;
  font-size: 0.625rem;
  background: rgba(0, 0, 0, 0.6);
  padding: 1px 3px;
  border-radius: 3px;
}

.filmstrip-name {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 2px 4px;
  background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
  font-size: 0.625rem;
  font-weight: 500;
  color: white;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.filmstrip-preview {
  position: absolute;
  bottom: calc(100% + 10px);
  left: 50%;
  transform: translateX(-50%);
  width: 160px;
  height: 160px;
  background: rgba(13, 15, 26, 0.95);
  border: 2px solid rgba(0, 217, 255, 0.4);
  border-radius: 0.75rem;
  overflow: hidden;
  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.5);
  z-index: var(--z-filmstrip);
  animation: previewFadeIn 0.2s ease;
}

@keyframes previewFadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

.preview-video {
  width: 100%;
  height: calc(100% - 28px);
  object-fit: cover;
}

.preview-avatar {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: calc(100% - 28px);
  background: linear-gradient(135deg, #334155 0%, #1e293b 100%);
  font-size: 3rem;
  font-weight: 700;
  color: #94a3b8;
}

.preview-name {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 6px;
  background: rgba(0, 0, 0, 0.8);
  font-size: 0.75rem;
  font-weight: 600;
  color: white;
  text-align: center;
}

.filmstrip-resize-handle {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 8px;
  cursor: row-resize;
  background: transparent;
  z-index: var(--z-webcam);
}

.filmstrip-resize-handle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 40px;
  height: 4px;
  background: rgba(0, 217, 255, 0.3);
  border-radius: 2px;
  transition: background 0.2s;
}

.filmstrip-resize-handle:hover::before,
.filmstrip-container.resizing .filmstrip-resize-handle::before {
  background: rgba(0, 217, 255, 0.6);
}

.filmstrip-container.resizing {
  user-select: none;
  transition: none !important;
}

.filmstrip-container.resizing * {
  pointer-events: none;
}

.filmstrip-container.resizing .filmstrip-resize-handle {
  pointer-events: auto;
}

/* Mobile/tablet: Switch to fixed positioning */
@media (max-width: 63.9375rem) {
  .filmstrip-container {
    position: fixed;
    left: 0;
    right: 0;
    bottom: calc(var(--bottom-tab-bar-height, 0px) + env(safe-area-inset-bottom, 0px));
  }
}

@media (max-width: 768px) {
  .filmstrip-container.expanded {
    height: 100px;
  }

  .filmstrip-thumbnail {
    width: 70px;
    height: 70px;
  }

  .filmstrip-preview {
    width: 120px;
    height: 120px;
  }

  .preview-avatar {
    font-size: 2rem;
  }
}

@media (max-width: 640px) {
  .filmstrip-container {
    display: none;
  }
}

/* ========================================
   GAME-SPECIFIC FILMSTRIP THEMING
   ======================================== */

/* ========================================
   SUSD POLAROID EVIDENCE BOARD FILMSTRIP
   ======================================== */

/* Cork board background */
[data-theme="susd"] .filmstrip-container {
  background: linear-gradient(135deg,
    var(--noir-cork) 0%,
    var(--noir-cork-dark) 100%);
  background-image:
    linear-gradient(135deg,
      var(--noir-cork) 0%,
      var(--noir-cork-dark) 100%),
    repeating-linear-gradient(45deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.05) 2px,
      rgba(0, 0, 0, 0.05) 4px),
    repeating-linear-gradient(-45deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.05) 2px,
      rgba(0, 0, 0, 0.05) 4px);
  border-top: 3px solid rgba(107, 89, 64, 0.8);
  box-shadow:
    inset 0 0 0 1px rgba(107, 89, 64, 0.4),
    0 -4px 12px rgba(0, 0, 0, 0.4);
}

/* Mini bar - case file label */
[data-theme="susd"] .filmstrip-expand-btn {
  background: rgba(212, 184, 150, 0.25);
  border: 2px solid var(--noir-manila-border);
  color: var(--noir-manila);
  font-family: 'Special Elite', 'Courier New', monospace;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

[data-theme="susd"] .filmstrip-expand-btn:hover {
  background: rgba(212, 184, 150, 0.35);
  border-color: var(--noir-manila);
}

/* Polaroid photo frames */
[data-theme="susd"] .filmstrip-thumbnail {
  width: 100px;
  height: 120px;
  background: var(--noir-polaroid);
  border: none;
  border-radius: 2px;
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(0, 0, 0, 0.2),
    inset 0 0 0 8px #ffffff,
    inset 0 -32px 0 8px #ffffff;
  padding: 8px 8px 40px 8px;
  transform-origin: center;
  transition: all 0.3s ease;
}

/* Polaroid frame alternating rotations */
[data-theme="susd"] .filmstrip-thumbnail:nth-child(odd) {
  transform: rotate(-2deg);
}

[data-theme="susd"] .filmstrip-thumbnail:nth-child(even) {
  transform: rotate(1.5deg);
}

[data-theme="susd"] .filmstrip-thumbnail:nth-child(3n) {
  transform: rotate(-1deg);
}

/* Collapsed state - Reduce padding for better video visibility */
.filmstrip-container.collapsed [data-theme="susd"] .filmstrip-thumbnail {
  padding: 4px 4px 20px 4px;
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.3),
    inset 0 0 0 4px #ffffff,
    inset 0 -20px 0 4px #ffffff;
}

.filmstrip-container.collapsed [data-theme="susd"] .filmstrip-name {
  font-size: 7px;
  padding: 2px;
  bottom: 4px;
}

.filmstrip-container.collapsed [data-theme="susd"] .filmstrip-video,
.filmstrip-container.collapsed [data-theme="susd"] .filmstrip-avatar {
  height: calc(100% - 16px);
}

/* Red push pin */
[data-theme="susd"] .filmstrip-thumbnail::before {
  content: '';
  position: absolute;
  top: -6px;
  left: 50%;
  transform: translateX(-50%);
  width: 14px;
  height: 14px;
  background: radial-gradient(circle at 35% 35%,
    #ff6b6b 0%,
    #cc5555 60%,
    #aa3333 100%);
  border-radius: 50%;
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.4),
    inset -1px -1px 2px rgba(0, 0, 0, 0.3),
    inset 1px 1px 1px rgba(255, 255, 255, 0.3);
  z-index: 10;
}

/* Push pin shadow on cork */
[data-theme="susd"] .filmstrip-thumbnail::after {
  content: '';
  position: absolute;
  top: -3px;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 8px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 50%;
  filter: blur(2px);
  z-index: 9;
}

/* Self Polaroid - gold pin + red frame */
[data-theme="susd"] .filmstrip-thumbnail.self {
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(0, 0, 0, 0.2),
    inset 0 0 0 8px #ffffff,
    inset 0 0 0 10px var(--noir-stamp),
    inset 0 -32px 0 8px #ffffff;
}

/* Gold pin for self */
[data-theme="susd"] .filmstrip-thumbnail.self::before {
  background: radial-gradient(circle at 35% 35%,
    #ffd700 0%,
    #ffb700 60%,
    #cc9500 100%);
}

/* Hover - lift Polaroid slightly */
[data-theme="susd"] .filmstrip-thumbnail:hover {
  transform: rotate(0deg) scale(1.08) translateY(-6px);
  z-index: 20;
  box-shadow:
    0 8px 20px rgba(0, 0, 0, 0.4),
    0 12px 32px rgba(0, 0, 0, 0.3),
    inset 0 0 0 8px #ffffff,
    inset 0 -32px 0 8px #ffffff;
}

[data-theme="susd"] .filmstrip-thumbnail.self:hover {
  box-shadow:
    0 8px 20px rgba(0, 0, 0, 0.4),
    0 12px 32px rgba(0, 0, 0, 0.3),
    inset 0 0 0 8px #ffffff,
    inset 0 0 0 10px var(--noir-stamp),
    inset 0 -32px 0 8px #ffffff;
}

/* Video/avatar inside Polaroid */
[data-theme="susd"] .filmstrip-video,
[data-theme="susd"] .filmstrip-avatar {
  width: 100%;
  height: calc(100% - 32px);
  border-radius: 0;
  object-fit: cover;
}

/* Name on Polaroid bottom */
[data-theme="susd"] .filmstrip-name {
  position: absolute;
  bottom: 8px;
  left: 8px;
  right: 8px;
  padding: 4px;
  background: transparent;
  font-family: 'Special Elite', 'Courier New', monospace;
  font-size: 9px;
  font-weight: 600;
  color: var(--noir-ink);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Case file scrollbar */
[data-theme="susd"] .filmstrip-scroll::-webkit-scrollbar-thumb {
  background: var(--noir-manila);
  border-radius: 0;
  border: 2px solid var(--noir-manila-border);
}

[data-theme="susd"] .filmstrip-scroll::-webkit-scrollbar-track {
  background: rgba(139, 115, 85, 0.2);
}

/* ========================================
   HEARTSGAMBIT NOIR FILMSTRIP
   ======================================== */

[data-theme="primesuspect"] .filmstrip-container {
  background: rgba(42, 36, 32, 0.95) !important;
  border-top: 2px solid var(--tobacco-brown) !important;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.4) !important;
}

[data-theme="primesuspect"] .filmstrip-thumbnail {
  background: #c9b8a0 !important;
  border: 2px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3) !important;
}

[data-theme="primesuspect"] .filmstrip-thumbnail:hover {
  border-color: var(--royal-gold) !important;
  transform: translateY(-2px) !important;
}

[data-theme="primesuspect"] .filmstrip-thumbnail.self {
  border-color: var(--royal-gold) !important;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3), 0 0 10px rgba(210, 178, 90, 0.3) !important;
}

[data-theme="primesuspect"] .filmstrip-expand-btn {
  background: var(--tobacco-brown) !important;
  border: 1px solid #2a2420 !important;
  color: var(--aged-newspaper) !important;
  border-radius: 0 !important;
}

[data-theme="primesuspect"] .filmstrip-expand-btn:hover {
  background: var(--rust) !important;
}

[data-theme="primesuspect"] .filmstrip-name {
  background: linear-gradient(transparent, rgba(42, 36, 32, 0.9)) !important;
  font-family: 'Courier Prime', monospace !important;
  color: var(--aged-newspaper) !important;
}

[data-theme="primesuspect"] .filmstrip-status {
  background: rgba(42, 36, 32, 0.8) !important;
  border: 1px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
}

[data-theme="primesuspect"] .filmstrip-avatar {
  background: var(--tobacco-brown) !important;
  color: var(--aged-newspaper) !important;
}

[data-theme="primesuspect"] .filmstrip-scroll::-webkit-scrollbar-thumb {
  background: var(--tobacco-brown) !important;
  border-radius: 0 !important;
}

[data-theme="primesuspect"] .filmstrip-scroll::-webkit-scrollbar-track {
  background: rgba(42, 36, 32, 0.5) !important;
}

/* ========================================
   DDF SECURITY CAMERA FILMSTRIP
   ======================================== */

/* Surveillance control panel background */
[data-theme="ddf"] .filmstrip-container {
  background: linear-gradient(180deg,
    rgba(0, 0, 0, 0.98) 0%,
    rgba(10, 15, 10, 0.98) 100%);
  border-top: 2px solid var(--terminal-green);
  box-shadow:
    inset 0 0 0 1px rgba(123, 255, 141, 0.2),
    0 -4px 20px rgba(123, 255, 141, 0.15),
    inset 0 1px 0 rgba(123, 255, 141, 0.1);
}

/* Scanline overlay on entire filmstrip */
[data-theme="ddf"] .filmstrip-container::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 5;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    var(--terminal-scanline) 2px,
    var(--terminal-scanline) 4px
  );
  animation: scanlineScroll 2s infinite linear;
}

/* Terminal control bar */
[data-theme="ddf"] .filmstrip-expand-btn {
  background: rgba(123, 255, 141, 0.15);
  border: 1px solid var(--terminal-green);
  color: var(--terminal-green);
  font-family: 'Courier New', monospace;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  box-shadow: 0 0 10px rgba(123, 255, 141, 0.2);
}

[data-theme="ddf"] .filmstrip-expand-btn:hover {
  background: rgba(123, 255, 141, 0.25);
  box-shadow: 0 0 16px rgba(123, 255, 141, 0.4);
}

/* Security monitor frames */
[data-theme="ddf"] .filmstrip-thumbnail {
  width: 120px;
  height: 90px;
  background: #000000;
  border: 2px solid var(--terminal-green);
  border-radius: 0;
  box-shadow:
    0 0 0 1px rgba(0, 0, 0, 0.8),
    0 0 12px rgba(123, 255, 141, 0.3),
    inset 0 0 0 1px rgba(123, 255, 141, 0.2);
  position: relative;
  overflow: visible;
}

/* Security camera indicator LED */
[data-theme="ddf"] .filmstrip-thumbnail::before {
  content: '‚óè';
  position: absolute;
  top: 4px;
  left: 4px;
  font-size: 8px;
  color: #ff0000;
  text-shadow: 0 0 6px #ff0000, 0 0 12px #ff0000;
  z-index: 10;
  animation: stampPulse 1.5s ease-in-out infinite;
}

/* Timestamp overlay */
[data-theme="ddf"] .filmstrip-thumbnail::after {
  content: 'REC';
  position: absolute;
  top: 4px;
  right: 4px;
  font-family: 'Courier New', monospace;
  font-size: 10px;
  font-weight: 700;
  color: var(--terminal-green-bright);
  background: rgba(0, 0, 0, 0.8);
  padding: 2px 4px;
  border: 1px solid var(--terminal-green);
  letter-spacing: 0.1em;
  z-index: 10;
  text-shadow: 0 0 6px rgba(123, 255, 141, 0.6);
}

/* Self monitor - brighter green border */
[data-theme="ddf"] .filmstrip-thumbnail.self {
  border-color: var(--terminal-green-bright);
  box-shadow:
    0 0 0 1px rgba(0, 0, 0, 0.8),
    0 0 20px rgba(123, 255, 141, 0.6),
    0 0 30px rgba(123, 255, 141, 0.4),
    inset 0 0 0 1px rgba(123, 255, 141, 0.3);
}

/* Hover - monitor glow intensifies */
[data-theme="ddf"] .filmstrip-thumbnail:hover {
  transform: scale(1.08);
  border-color: var(--terminal-green-bright);
  box-shadow:
    0 0 0 1px rgba(0, 0, 0, 0.8),
    0 0 20px rgba(123, 255, 141, 0.6),
    0 0 32px rgba(123, 255, 141, 0.4),
    inset 0 0 0 1px rgba(123, 255, 141, 0.4);
}

/* Video with scanline effect */
[data-theme="ddf"] .filmstrip-video,
[data-theme="ddf"] .filmstrip-avatar {
  width: 100%;
  height: 100%;
  border-radius: 0;
  object-fit: cover;
  filter: brightness(0.9) contrast(1.1);
  position: relative;
}

/* Monitor ID overlay on name */
[data-theme="ddf"] .filmstrip-name {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 3px 4px;
  background: rgba(0, 0, 0, 0.9);
  font-family: 'Courier New', monospace;
  font-size: 9px;
  font-weight: 700;
  color: var(--terminal-green);
  text-align: left;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  border-top: 1px solid var(--terminal-green);
  text-shadow: 0 0 4px rgba(123, 255, 141, 0.5);
}

/* Add "CAM-" prefix via pseudo-element */
[data-theme="ddf"] .filmstrip-name::before {
  content: 'CAM-';
  color: var(--terminal-green-bright);
}

/* Terminal scrollbar */
[data-theme="ddf"] .filmstrip-scroll::-webkit-scrollbar-thumb {
  background: var(--terminal-green);
  border-radius: 0;
  border: 1px solid var(--terminal-green-bright);
  box-shadow: 0 0 6px rgba(123, 255, 141, 0.4);
}

[data-theme="ddf"] .filmstrip-scroll::-webkit-scrollbar-track {
  background: rgba(123, 255, 141, 0.05);
  border-top: 1px solid rgba(123, 255, 141, 0.2);
}

/* ========================================
   CLUESCALE BLUEPRINT FILMSTRIP
   ======================================== */

/* Blueprint grid background */
/* Mystical portal container */
[data-theme="clue"] .filmstrip-container {
  background: linear-gradient(180deg,
    rgba(26, 15, 46, 0.9) 0%,
    rgba(45, 27, 78, 0.9) 100%);
  border-top: 3px solid var(--mystical-gold);
  box-shadow:
    inset 0 0 0 1px rgba(147, 51, 234, 0.3),
    0 -8px 40px rgba(147, 51, 234, 0.3);
}

/* Mystical control bar */
[data-theme="clue"] .filmstrip-expand-btn {
  background: linear-gradient(135deg,
    rgba(147, 51, 234, 0.2),
    rgba(217, 119, 6, 0.15));
  border: 2px solid var(--mystical-purple);
  color: var(--mystical-gold);
  font-family: 'Cinzel', serif;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  box-shadow: 0 0 16px rgba(147, 51, 234, 0.3);
  text-shadow: 0 0 8px rgba(245, 158, 11, 0.5);
}

[data-theme="clue"] .filmstrip-expand-btn:hover {
  background: linear-gradient(135deg,
    rgba(147, 51, 234, 0.3),
    rgba(217, 119, 6, 0.25));
  border-color: var(--mystical-gold);
  box-shadow: 0 0 24px rgba(245, 158, 11, 0.5);
}

/* Mystical portal frames */
[data-theme="clue"] .filmstrip-thumbnail {
  width: 120px;
  height: 95px;
  background: radial-gradient(circle,
    rgba(147, 51, 234, 0.3) 0%,
    rgba(26, 15, 46, 0.8) 100%);
  border: 3px solid var(--mystical-purple);
  border-radius: 50% / 60%;
  box-shadow:
    0 0 0 2px var(--mystical-gold),
    0 0 20px rgba(147, 51, 234, 0.5),
    0 0 40px rgba(245, 158, 11, 0.3),
    inset 0 0 30px rgba(147, 51, 234, 0.3);
  position: relative;
  overflow: hidden;
  transition: all 0.4s ease;
}

/* Mystical runes on corners */
[data-theme="clue"] .filmstrip-thumbnail::before {
  content: '‚úß';
  position: absolute;
  top: 6px;
  left: 6px;
  color: var(--mystical-gold);
  font-size: 12px;
  text-shadow: 0 0 8px currentColor;
  z-index: 10;
  animation: runeGlow 2.5s ease-in-out infinite;
}

[data-theme="clue"] .filmstrip-thumbnail::after {
  content: '‚úß';
  position: absolute;
  bottom: 6px;
  right: 6px;
  color: var(--mystical-purple);
  font-size: 12px;
  text-shadow: 0 0 8px currentColor;
  z-index: 10;
  animation: runeGlow 2.5s ease-in-out infinite reverse;
}

/* Self portal - enhanced glow */
[data-theme="clue"] .filmstrip-thumbnail.self {
  border-color: var(--mystical-gold);
  box-shadow:
    0 0 0 3px var(--mystical-purple),
    0 0 30px rgba(245, 158, 11, 0.7),
    0 0 50px rgba(147, 51, 234, 0.5),
    inset 0 0 40px rgba(245, 158, 11, 0.2);
  animation: portalPulse 3s ease-in-out infinite;
}

@keyframes portalPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* Hover - portal activation */
[data-theme="clue"] .filmstrip-thumbnail:hover {
  transform: scale(1.1);
  border-color: var(--mystical-gold);
  box-shadow:
    0 0 0 3px var(--mystical-purple),
    0 0 35px rgba(245, 158, 11, 0.8),
    0 0 60px rgba(147, 51, 234, 0.6),
    inset 0 0 50px rgba(245, 158, 11, 0.3);
}

/* Video/avatar with magical filter */
[data-theme="clue"] .filmstrip-video,
[data-theme="clue"] .filmstrip-avatar {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: saturate(1.2) contrast(1.1);
  mix-blend-mode: lighten;
}

/* Mystical name label */
[data-theme="clue"] .filmstrip-name {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 5px 6px;
  background: linear-gradient(180deg,
    transparent 0%,
    rgba(147, 51, 234, 0.85) 30%,
    rgba(26, 15, 46, 0.95) 100%);
  font-family: 'Cinzel', serif;
  font-size: 9px;
  font-weight: 700;
  color: var(--mystical-gold);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  border-top: 1px solid var(--mystical-gold);
  text-shadow:
    0 0 8px rgba(245, 158, 11, 0.8),
    0 0 16px rgba(147, 51, 234, 0.4);
}

/* Mystical scrollbar */
[data-theme="clue"] .filmstrip-scroll::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--mystical-purple), var(--mystical-gold));
  border-radius: 10px;
  box-shadow: 0 0 12px rgba(147, 51, 234, 0.5);
}

[data-theme="clue"] .filmstrip-scroll::-webkit-scrollbar-track {
  background: rgba(122, 252, 255, 0.05);
  border-top: 1px solid rgba(122, 252, 255, 0.15);
  border-left: 1px solid rgba(122, 252, 255, 0.15);
}

/* ========================================
   HEART'S GAMBIT BRAIN SCAN FILMSTRIP
   ======================================== */

/* Medical monitor interface background */
[data-theme="think"] .filmstrip-container {
  background: linear-gradient(180deg,
    rgba(139, 123, 201, 0.25) 0%,
    rgba(165, 148, 212, 0.15) 50%,
    rgba(139, 123, 201, 0.25) 100%);
  border-top: 3px solid var(--neural-purple);
  box-shadow:
    inset 0 0 0 1px rgba(205, 147, 255, 0.3),
    0 -6px 30px rgba(205, 147, 255, 0.25),
    0 0 60px rgba(205, 147, 255, 0.15);
}

/* EEG wave pattern overlay */
[data-theme="think"] .filmstrip-container::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  background-image: url("data:image/svg+xml,%3Csvg width='120' height='50' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 25 Q12 15, 24 25 T48 25 Q60 35, 72 25 T96 25 Q108 15, 120 25' stroke='%23cd93ff' stroke-width='1.5' fill='none' opacity='0.2'/%3E%3C/svg%3E");
  background-size: 240px 100px;
  background-repeat: repeat-x;
  background-position: center;
  opacity: 0.5;
  animation: brainwavePulse 4s ease-in-out infinite;
}

/* Neural monitor control bar */
[data-theme="think"] .filmstrip-expand-btn {
  background: var(--neural-activity);
  border: 2px solid var(--neural-purple);
  color: var(--neural-purple);
  font-family: 'Segoe UI', system-ui, sans-serif;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  box-shadow:
    0 0 16px rgba(205, 147, 255, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

[data-theme="think"] .filmstrip-expand-btn:hover {
  background: rgba(205, 147, 255, 0.4);
  box-shadow:
    0 0 24px rgba(205, 147, 255, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

/* MRI-style monitor frames */
[data-theme="think"] .filmstrip-thumbnail {
  width: 115px;
  height: 90px;
  background: linear-gradient(135deg,
    rgba(139, 123, 201, 0.3) 0%,
    rgba(165, 148, 212, 0.2) 100%);
  border: 2px solid var(--neural-wave);
  border-radius: 6px;
  box-shadow:
    0 0 0 1px var(--neural-activity),
    0 4px 18px rgba(205, 147, 255, 0.3),
    0 0 30px rgba(205, 147, 255, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

/* Brain wave overlay on thumbnail */
[data-theme="think"] .filmstrip-thumbnail::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg width='90' height='35' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 17 Q10 10, 20 17 T40 17 Q50 24, 60 17 T80 17 Q85 10, 90 17' stroke='%23bd83ef' stroke-width='2' fill='none' opacity='0.25'/%3E%3C/svg%3E");
  background-size: 180px 70px;
  background-repeat: repeat-x;
  background-position: center;
  opacity: 0.4;
  pointer-events: none;
  z-index: 5;
  animation: brainwavePulse 3.5s ease-in-out infinite;
}

/* Neural activity indicator dots */
[data-theme="think"] .filmstrip-thumbnail::after {
  content: '‚óè ‚óè ‚óè';
  position: absolute;
  top: 4px;
  right: 6px;
  font-size: 6px;
  color: var(--neural-wave);
  letter-spacing: 2px;
  z-index: 10;
  animation: stampPulse 2.5s ease-in-out infinite;
  text-shadow: 0 0 6px rgba(205, 147, 255, 0.6);
}

/* Self monitor - neural pulse glow */
[data-theme="think"] .filmstrip-thumbnail.self {
  border-color: var(--neural-purple);
  box-shadow:
    0 0 0 2px var(--neural-purple),
    0 0 24px rgba(205, 147, 255, 0.6),
    0 6px 30px rgba(205, 147, 255, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  animation: stampPulse 3s ease-in-out infinite;
}

/* Hover - neural activity spike */
[data-theme="think"] .filmstrip-thumbnail:hover {
  transform: scale(1.08) translateY(-4px);
  border-color: var(--neural-purple);
  box-shadow:
    0 0 0 2px var(--neural-purple),
    0 0 30px rgba(205, 147, 255, 0.7),
    0 8px 35px rgba(205, 147, 255, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
}

/* Video/avatar with neural filter */
[data-theme="think"] .filmstrip-video,
[data-theme="think"] .filmstrip-avatar {
  width: 100%;
  height: 100%;
  border-radius: 4px;
  object-fit: cover;
  filter: brightness(1.05) saturate(0.9);
  mix-blend-mode: screen;
  opacity: 0.92;
}

/* Medical readout label */
[data-theme="think"] .filmstrip-name {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 4px 6px;
  background: linear-gradient(180deg,
    transparent 0%,
    rgba(139, 123, 201, 0.85) 25%,
    rgba(139, 123, 201, 0.95) 100%);
  font-family: 'Segoe UI', system-ui, sans-serif;
  font-size: 9px;
  font-weight: 700;
  color: var(--neural-purple);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  border-top: 1px solid var(--neural-wave);
  text-shadow:
    0 0 8px rgba(205, 147, 255, 0.6),
    0 0 16px rgba(205, 147, 255, 0.3);
  z-index: 10;
}

/* Neural pattern scrollbar */
[data-theme="think"] .filmstrip-scroll::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--neural-purple), var(--neural-wave));
  border-radius: 4px;
  border: 2px solid rgba(0, 0, 0, 0.3);
  box-shadow:
    0 0 10px rgba(205, 147, 255, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

[data-theme="think"] .filmstrip-scroll::-webkit-scrollbar-track {
  background: var(--neural-activity);
  border-radius: 4px;
  border-top: 1px solid rgba(205, 147, 255, 0.2);
}

/* ========================================
   BINGOBUDDIES PARTY PHOTO BOOTH FILMSTRIP
   ======================================== */

/* Party curtain background */
[data-theme="bingo"] .filmstrip-container {
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.3) 0%,
    rgba(205, 147, 255, 0.25) 50%,
    rgba(255, 126, 182, 0.3) 100%);
  border-top: 5px solid var(--party-confetti-1);
  box-shadow:
    inset 0 0 0 2px rgba(255, 126, 182, 0.4),
    0 -8px 40px rgba(255, 126, 182, 0.4),
    0 0 100px rgba(205, 147, 255, 0.25);
}

/* Party streamers on top */
[data-theme="bingo"] .filmstrip-container::before {
  content: '';
  position: absolute;
  top: -5px;
  left: 0;
  right: 0;
  height: 10px;
  background: repeating-linear-gradient(
    90deg,
    var(--party-confetti-1) 0px,
    var(--party-confetti-1) 25px,
    var(--party-confetti-2) 25px,
    var(--party-confetti-2) 50px,
    var(--party-confetti-3) 50px,
    var(--party-confetti-3) 75px
  );
  border-radius: 5px 5px 0 0;
  box-shadow:
    0 3px 10px rgba(0, 0, 0, 0.25),
    inset 0 -2px 4px rgba(0, 0, 0, 0.2);
  z-index: 1;
}

/* Party control bar */
[data-theme="bingo"] .filmstrip-expand-btn {
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.4),
    rgba(205, 147, 255, 0.4));
  border: 3px solid var(--party-confetti-2);
  color: #ffffff;
  font-family: 'Comic Sans MS', 'Trebuchet MS', sans-serif;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  box-shadow:
    0 0 18px rgba(255, 126, 182, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

[data-theme="bingo"] .filmstrip-expand-btn:hover {
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.6),
    rgba(205, 147, 255, 0.6));
  box-shadow:
    0 0 28px rgba(255, 126, 182, 0.7),
    inset 0 2px 0 rgba(255, 255, 255, 0.4);
}

/* Photo booth strip frames */
[data-theme="bingo"] .filmstrip-thumbnail {
  width: 95px;
  height: 95px;
  background: linear-gradient(135deg,
    rgba(255, 126, 182, 0.3),
    rgba(205, 147, 255, 0.25));
  border: 4px solid var(--party-confetti-1);
  border-radius: 14px;
  box-shadow:
    0 0 0 3px #ffffff,
    0 0 0 5px var(--party-confetti-2),
    0 8px 25px rgba(255, 126, 182, 0.45),
    0 0 40px rgba(205, 147, 255, 0.3),
    inset 0 3px 0 rgba(255, 255, 255, 0.3),
    inset 0 -3px 10px rgba(0, 0, 0, 0.15);
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  animation: photoFlash 0.6s ease-out backwards;
}

/* Staggered flash animation */
[data-theme="bingo"] .filmstrip-thumbnail:nth-child(1) { animation-delay: 0.1s; }
[data-theme="bingo"] .filmstrip-thumbnail:nth-child(2) { animation-delay: 0.2s; }
[data-theme="bingo"] .filmstrip-thumbnail:nth-child(3) { animation-delay: 0.3s; }
[data-theme="bingo"] .filmstrip-thumbnail:nth-child(4) { animation-delay: 0.4s; }

/* Party emoji decoration */
[data-theme="bingo"] .filmstrip-thumbnail::before {
  content: 'üéâ';
  position: absolute;
  top: -10px;
  right: -10px;
  font-size: 24px;
  opacity: 0;
  transform: scale(0.5) rotate(0deg);
  transition: all 0.3s ease;
  z-index: 15;
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.3));
}

/* Balloon decoration */
[data-theme="bingo"] .filmstrip-thumbnail::after {
  content: 'üéà';
  position: absolute;
  bottom: -8px;
  left: -8px;
  font-size: 20px;
  opacity: 0.7;
  filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.25));
  z-index: 15;
}

/* Self photo - gold frame */
[data-theme="bingo"] .filmstrip-thumbnail.self {
  border-color: #ffd700;
  box-shadow:
    0 0 0 3px #ffffff,
    0 0 0 6px #ffd700,
    0 10px 30px rgba(255, 215, 0, 0.6),
    0 0 50px rgba(255, 126, 182, 0.4),
    inset 0 3px 0 rgba(255, 255, 255, 0.4),
    inset 0 -3px 10px rgba(0, 0, 0, 0.2);
  animation: stampPulse 2.5s ease-in-out infinite;
}

/* Hover - celebration effect */
[data-theme="bingo"] .filmstrip-thumbnail:hover {
  transform: scale(1.12) rotate(2deg) translateY(-8px);
  border-color: var(--party-confetti-2);
  box-shadow:
    0 0 0 4px #ffffff,
    0 0 0 7px var(--party-flash),
    0 12px 35px rgba(255, 126, 182, 0.65),
    0 0 60px rgba(205, 147, 255, 0.5),
    inset 0 4px 0 rgba(255, 255, 255, 0.5);
}

[data-theme="bingo"] .filmstrip-thumbnail:hover::before {
  opacity: 1;
  transform: scale(1.3) rotate(180deg);
}

[data-theme="bingo"] .filmstrip-thumbnail:hover::after {
  opacity: 1;
  transform: translateY(-4px);
}

/* Video/avatar with party filter */
[data-theme="bingo"] .filmstrip-video,
[data-theme="bingo"] .filmstrip-avatar {
  width: 100%;
  height: 100%;
  border-radius: 10px;
  object-fit: cover;
  filter: brightness(1.08) saturate(1.15) contrast(1.05);
}

/* Photo booth name tag */
[data-theme="bingo"] .filmstrip-name {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 5px 6px;
  background: linear-gradient(180deg,
    transparent 0%,
    rgba(255, 126, 182, 0.8) 30%,
    rgba(255, 126, 182, 0.95) 100%);
  font-family: 'Comic Sans MS', 'Trebuchet MS', sans-serif;
  font-size: 10px;
  font-weight: 900;
  color: #ffffff;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  border-top: 2px solid var(--party-confetti-2);
  text-shadow:
    2px 2px 0 var(--party-confetti-2),
    0 0 10px rgba(0, 0, 0, 0.5);
  z-index: 10;
  border-radius: 0 0 10px 10px;
}

/* Party scrollbar */
[data-theme="bingo"] .filmstrip-scroll::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg,
    var(--party-confetti-1),
    var(--party-confetti-2),
    var(--party-confetti-3));
  border-radius: 8px;
  border: 3px solid rgba(255, 255, 255, 0.4);
  box-shadow:
    0 0 12px rgba(255, 126, 182, 0.6),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

[data-theme="bingo"] .filmstrip-scroll::-webkit-scrollbar-track {
  background: rgba(255, 126, 182, 0.15);
  border-radius: 8px;
  border-top: 2px solid rgba(255, 126, 182, 0.25);
  border: 2px solid rgba(255, 126, 182, 0.3);
}

/* ========================================
   ACCESSIBILITY - REDUCED MOTION SUPPORT
   ======================================== */

/*
 * Disable or reduce all animations for users with motion sensitivity
 * This respects the prefers-reduced-motion OS/browser setting
 */

@media (prefers-reduced-motion: reduce) {
  /* Disable all keyframe animations */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Remove film grain animation */
  [data-theme="susd"] .app-root::before {
    animation: none !important;
  }

  /* Remove confetti animation */
  [data-theme="bingo"] .player-list-fixed::after {
    animation: none !important;
    opacity: 0.3;
  }

  /* Remove scanline scrolling */
  [data-theme="ddf"] .player-list-fixed::before,
  [data-theme="ddf"] .filmstrip-container::before {
    animation: none !important;
  }

  /* Remove brainwave pulse */
  [data-theme="think"] .player-list-fixed::before,
  [data-theme="think"] .filmstrip-container::before,
  [data-theme="think"] .filmstrip-thumbnail::before {
    animation: none !important;
    opacity: 0.2;
  }

  /* Remove stamp/badge pulse animations */
  [data-theme="susd"] .player-role-badge,
  [data-theme="bingo"] .player-avatar,
  [data-theme="bingo"] .player-role-badge,
  [data-theme="think"] .player-avatar,
  [data-theme="think"] .player-role-badge,
  [data-theme="think"] .player-list-header::before,
  [data-theme="think"] .filmstrip-thumbnail::after,
  [data-theme="bingo"] .player-list-header::after {
    animation: none !important;
  }

  /* Remove filmstrip photo flash animation */
  [data-theme="bingo"] .filmstrip-thumbnail {
    animation: none !important;
  }

  /* Remove self monitor pulse */
  [data-theme="think"] .filmstrip-thumbnail.self {
    animation: none !important;
  }

  /* Remove self photo pulse */
  [data-theme="bingo"] .filmstrip-thumbnail.self {
    animation: none !important;
  }

  /* Remove security camera LED blink */
  [data-theme="ddf"] .filmstrip-thumbnail::before {
    animation: none !important;
    opacity: 0.8;
  }

  /* Simplify hover effects - no transform animations */
  .player-item:hover,
  .filmstrip-thumbnail:hover {
    transform: none !important;
  }

  /* Keep Polaroid rotations but make them static */
  [data-theme="susd"] .filmstrip-thumbnail:hover {
    transform: rotate(-2deg) scale(1.02) !important;
  }

  /* Remove all will-change declarations */
  * {
    will-change: auto !important;
  }
}


/* ============================================
   EnhancedPopupContent Component
   ============================================ */
/* From: components/EnhancedPopupContent.css */

/* Enhanced Popup Content Styles - DDF Theme */

.enhanced-popup {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0e1628 75%, #0f0f23 100%);
  color: white;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
}

.popup-header { display: flex; align-items: center; justify-content: space-between; padding: 0.5rem 1rem; background: rgba(13, 15, 26, 0.95); border-bottom: 2px solid #00d9ff; flex-shrink: 0; }
.popup-header-left { display: flex; align-items: center; gap: 1.5rem; }
.popup-logo { display: flex; align-items: center; gap: 0.5rem; }
.popup-mascot { width: 32px; height: 32px; object-fit: contain; }
.popup-logo-text { font-size: 1.25rem; font-weight: 700; }
.logo-ddf { color: #00d9ff; text-shadow: 0 0 20px rgba(0, 217, 255, 0.4); }
.logo-by { color: #94a3b8; font-size: 0.9rem; font-weight: 400; margin-left: 0.5rem; }
.logo-gamebuddies { color: #e94560; font-weight: 700; }
.logo-io { color: #00d9ff; font-weight: 700; }

.popup-room-info { display: flex; align-items: center; gap: 1rem; }
.room-code { padding: 0.25rem 0.625rem; background: rgba(0, 217, 255, 0.15); border: 1px solid rgba(0, 217, 255, 0.3); border-radius: 0.375rem; font-size: 0.875rem; font-family: monospace; color: #00d9ff; }
.connected-count { display: flex; align-items: center; gap: 0.375rem; color: #94a3b8; font-size: 0.875rem; }
.popup-header-right { display: flex; align-items: center; gap: 1rem; }

.layout-selector { display: flex; gap: 0.25rem; padding: 0.25rem; background: rgba(51, 65, 85, 0.5); border-radius: 0.5rem; }
.layout-btn { display: flex; align-items: center; justify-content: center; width: 36px; height: 36px; background: transparent; border: none; border-radius: 0.375rem; color: #94a3b8; cursor: pointer; transition: all 0.2s ease; }
.layout-btn:hover { background: rgba(71, 85, 105, 0.5); color: white; }
.layout-btn.active { background: rgba(0, 217, 255, 0.2); color: #00d9ff; }
.layout-btn svg { width: 16px; height: 16px; stroke: currentColor; stroke-width: 2; fill: none; }

.header-video-controls { display: flex; gap: 0.25rem; padding: 0.25rem; background: rgba(51, 65, 85, 0.5); border-radius: 0.5rem; }
.header-video-btn { display: flex; align-items: center; justify-content: center; width: 36px; height: 36px; background: transparent; border: none; border-radius: 0.375rem; color: #94a3b8; cursor: pointer; transition: all 0.2s ease; }
.header-video-btn:hover { background: rgba(71, 85, 105, 0.5); color: white; }
.header-video-btn.muted, .header-video-btn.off { background: rgba(239, 68, 68, 0.2); color: #f87171; }
.header-video-btn.leave { background: rgba(239, 68, 68, 0.2); color: #fca5a5; }
.header-video-btn.leave:hover { background: rgba(239, 68, 68, 0.3); }
.header-video-btn svg { width: 16px; height: 16px; stroke: currentColor; stroke-width: 2; fill: none; }

.popup-close-btn { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(51, 65, 85, 0.5); border: 1px solid rgba(71, 85, 105, 0.4); border-radius: 0.5rem; color: #94a3b8; cursor: pointer; transition: all 0.2s ease; }
.popup-close-btn:hover { background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4); color: #f87171; }
.popup-close-btn svg { width: 20px; height: 20px; stroke: currentColor; stroke-width: 2; fill: none; }

.popup-content { flex: 1; padding: 0.5rem; overflow: hidden; }

.popup-grid { display: grid; gap: 1rem; height: 100%; }
.popup-grid.cols-1 { grid-template-columns: 1fr; }
.popup-grid.cols-2 { grid-template-columns: repeat(2, 1fr); }
.popup-grid.cols-3 { grid-template-columns: repeat(3, 1fr); }
.popup-grid.cols-4 { grid-template-columns: repeat(4, 1fr); }

.popup-speaker-layout { display: flex; flex-direction: column; height: 100%; gap: 1rem; }
.speaker-main { flex: 1; min-height: 0; }
.speaker-strip { display: flex; gap: 0.75rem; height: 120px; overflow-x: auto; flex-shrink: 0; }
.speaker-strip .popup-video-feed { width: 160px; flex-shrink: 0; }

.popup-spotlight-layout { display: flex; height: 100%; gap: 1rem; }
.spotlight-main { flex: 1; min-width: 0; }
.spotlight-sidebar { width: 180px; display: flex; flex-direction: column; gap: 0.75rem; overflow-y: auto; flex-shrink: 0; }
.spotlight-sidebar .popup-video-feed { height: 120px; flex-shrink: 0; }

.popup-video-feed { position: relative; background: #1e293b; border-radius: 0.75rem; overflow: hidden; border: 3px solid var(--border-color, #475569); transition: all 0.2s ease; cursor: pointer; }
.popup-video-feed:hover { border-color: #00d9ff; }
.popup-video-feed.self { border-color: #00d9ff; box-shadow: 0 0 20px rgba(0, 217, 255, 0.3); }
.popup-video-feed.large { height: 100%; }
.popup-video { width: 100%; height: 100%; object-fit: cover; }
.popup-avatar { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; background: linear-gradient(135deg, #334155 0%, #1e293b 100%); font-size: 4rem; font-weight: 700; color: #64748b; }
.popup-video-feed.large .popup-avatar { font-size: 8rem; }

.popup-status { position: absolute; top: 0.5rem; right: 0.5rem; display: flex; gap: 0.25rem; }
.popup-status span { font-size: 0.875rem; background: rgba(0, 0, 0, 0.7); padding: 0.25rem 0.5rem; border-radius: 0.375rem; }
.status-muted { color: #f87171; }
.status-cam-off { color: #fbbf24; }

.popup-name { position: absolute; bottom: 0; left: 0; right: 0; padding: 0.5rem 0.75rem; background: linear-gradient(transparent, rgba(0, 0, 0, 0.9)); font-size: 0.875rem; font-weight: 600; display: flex; align-items: center; gap: 0.5rem; }
.you-badge { padding: 0.125rem 0.375rem; background: rgba(0, 217, 255, 0.2); border: 1px solid rgba(0, 217, 255, 0.4); border-radius: 0.25rem; font-size: 0.625rem; font-weight: 700; color: #00d9ff; }
.popup-click-hint { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 0.75rem; background: rgba(0, 0, 0, 0.7); border-radius: 50%; opacity: 0; transition: opacity 0.2s ease; color: #00d9ff; }
.popup-video-feed:hover .popup-click-hint { opacity: 1; }

.popup-footer { display: flex; align-items: center; justify-content: center; padding: 0.25rem 1rem; background: rgba(13, 15, 26, 0.95); border-top: 1px solid rgba(255, 255, 255, 0.1); flex-shrink: 0; }
.popup-branding { display: flex; align-items: center; justify-content: center; gap: 0; font-size: 0.875rem; font-weight: 600; width: 100%; }
.popup-branding-mascot { width: 20px; height: 20px; object-fit: contain; margin-right: 0.5rem; }
.brand-ddf { color: #00d9ff; font-weight: 700; }
.popup-branding .by { color: #94a3b8; margin: 0 0.35rem; }
.popup-branding .game { color: #ffffff; font-weight: 700; }
.popup-branding .buddies { color: #e94560; font-weight: 700; }
.popup-branding .io { color: #00d9ff; font-weight: 700; }

/* ========================================
   HEARTSGAMBIT NOIR VIDEO POPUP
   ======================================== */

[data-theme="primesuspect"] .enhanced-popup {
  background: linear-gradient(135deg, #2a2420 0%, #3d3530 50%, #2a2420 100%) !important;
}

[data-theme="primesuspect"] .popup-header {
  background: var(--tobacco-brown) !important;
  border-bottom: 2px solid #2a2420 !important;
}

[data-theme="primesuspect"] .popup-header button {
  background: rgba(0, 0, 0, 0.3) !important;
  border: 1px solid var(--tobacco-brown) !important;
  color: var(--aged-newspaper) !important;
  border-radius: 0 !important;
}

[data-theme="primesuspect"] .popup-header button:hover {
  background: var(--rust) !important;
}

[data-theme="primesuspect"] .popup-video-feed {
  background: #c9b8a0 !important;
  border: 3px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3) !important;
}

[data-theme="primesuspect"] .popup-video-feed:hover {
  border-color: var(--royal-gold) !important;
}

[data-theme="primesuspect"] .popup-video-feed.self {
  border-color: var(--royal-gold) !important;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3), 0 0 15px rgba(210, 178, 90, 0.3) !important;
}

[data-theme="primesuspect"] .popup-name {
  background: linear-gradient(transparent, rgba(42, 36, 32, 0.9)) !important;
  font-family: 'Courier Prime', monospace !important;
  color: var(--aged-newspaper) !important;
}

[data-theme="primesuspect"] .popup-status {
  background: rgba(42, 36, 32, 0.8) !important;
  border: 1px solid var(--tobacco-brown) !important;
  border-radius: 0 !important;
}

[data-theme="primesuspect"] .popup-close-btn {
  background: var(--rust) !important;
  border: 2px solid var(--tobacco-brown) !important;
  color: var(--aged-newspaper) !important;
  border-radius: 0 !important;
}

[data-theme="primesuspect"] .popup-close-btn:hover {
  background: var(--burnt-orange) !important;
}

[data-theme="primesuspect"] .popup-avatar {
  background: var(--tobacco-brown) !important;
  color: var(--aged-newspaper) !important;
}

[data-theme="primesuspect"] .popup-branding .by {
  color: rgba(246, 240, 230, 0.6) !important;
}

[data-theme="primesuspect"] .popup-branding .game {
  color: #ffffff !important;
}

[data-theme="primesuspect"] .popup-branding .buddies {
  color: var(--royal-gold) !important;
}

[data-theme="primesuspect"] .popup-branding .io {
  color: rgba(255, 255, 255, 0.8) !important;
}

/* ============================================
   TimerDisplay Component
   ============================================ */
/* From: components/TimerDisplay.css */

/* Timer flash animation - replaces setInterval */
.timer-flash {
  animation: timerFlash 0.5s ease-in-out infinite;
}

@keyframes timerFlash {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}


/* ============================================
   SimpleLanguageSelector Component
   ============================================ */
/* From: components/SimpleLanguageSelector.css */

.language-selector {
  position: relative;
  z-index: var(--z-round-start-overlay);
}

.language-selector-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(0, 217, 255, 0.1);
  border: 1px solid rgba(0, 217, 255, 0.3);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  pointer-events: auto;
  position: relative;
  z-index: var(--z-filmstrip)1;
}

.language-selector-button:hover {
  background: rgba(0, 217, 255, 0.2);
  border-color: rgba(0, 217, 255, 0.5);
}

.language-selector-button .language-flag {
  font-size: 1.25rem;
  line-height: 1;
}

.language-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  min-width: 180px;
  background: rgba(26, 26, 46, 0.98);
  border: 1px solid rgba(0, 217, 255, 0.3);
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 15px rgba(0, 217, 255, 0.2);
  z-index: var(--z-mobile-toast);
  overflow: visible;
  animation: dropdownFadeIn 0.2s ease;
  pointer-events: auto;
}

@keyframes dropdownFadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.language-dropdown-header {
  padding: 0.75rem 1rem;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #00d9ff;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(0, 217, 255, 0.05);
}

.language-option {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  width: 100%;
  padding: 0.75rem 1rem;
  background: transparent;
  border: none;
  color: #ffffff;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  font-family: inherit;
  pointer-events: auto;
}

.language-option:hover {
  background: rgba(0, 217, 255, 0.1);
}

.language-option.active {
  background: rgba(0, 217, 255, 0.15);
  color: #00d9ff;
}

.language-option .language-flag {
  font-size: 1.2rem;
  line-height: 1;
}

.language-option .language-label {
  flex: 1;
}

.language-option .language-check {
  color: #00d9ff;
  font-weight: 700;
}

/* Mobile adjustments */
@media (max-width: 479px) {
  .language-dropdown {
    right: 0;
    max-width: 250px;
  }
}


/* ============================================
   HomePage Component
   ============================================ */
/* From: pages/HomePage.css */

/* ========================================
   HOME LAYOUT - Sidebar Tutorial
   ======================================== */

/* Wrapper for cards + tutorial sidebar */
.home-cards-wrapper {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  width: 100%;
  position: relative;
}

/* Tutorial sidebar - aligned with cards, far right */
.home-cards-wrapper .tutorial-sidebar {
  position: fixed;
  right: 2rem;
  top: var(--tutorial-top, 50%);
  transform: translateY(0);
}

/* Mobile trigger - only visible on mobile */
.tutorial-mobile-trigger {
  display: none;
  margin-top: 1rem;
}

@media (max-width: 1400px) {
  .home-cards-wrapper .tutorial-sidebar {
    display: none;
  }

  .tutorial-mobile-trigger {
    display: block;
  }
}

.home-hero {
  min-height: auto;
  padding: 1.75rem 1.25rem 2.25rem;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.home-shell {
  width: 100%;
  max-width: 1080px;
  margin: 0 auto;
  padding: 1.5rem 1.25rem 2rem;
  border-radius: 0;
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.home-header {
  text-align: center;
}

.home-mascot-container {
  display: flex;
  justify-content: center;
  margin-bottom: 1rem;
}

.home-mascot-anim {
  width: 116px;
  height: 116px;
  object-fit: contain;
  filter: drop-shadow(0 0 20px var(--accent-glow));
}

/* Large desktop (e.g., 1920x1080): compact home so Create/Join fits without scroll */
@media (min-width: 1280px) and (min-height: 900px) {
  .home-hero {
    padding: 1.25rem 1.25rem 1.5rem;
  }

  .home-shell {
    padding: 1.25rem 1.25rem 1.5rem;
    gap: 1rem;
  }

  .home-mascot-anim {
    width: 104px;
    height: 104px;
  }

  .home-tagline {
    font-size: 0.95rem;
    margin: 0.5rem auto 0.65rem;
    line-height: 1.45;
  }

  .split-actions {
    gap: 1.1rem;
  }

  .split-card {
    padding: 1.1rem 1.1rem 1.25rem;
  }

  .card-head p {
    margin-bottom: 0.6rem;
  }

  .home-form {
    gap: 0.75rem;
  }

  .home-input {
    padding: 0.75rem 1rem;
  }

  .primary-cta {
    height: 48px;
    padding: 0.85rem 1.4rem;
    font-size: 0.95rem;
  }
}

.eyebrow {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.35rem 0.75rem;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.04);
  color: var(--accent-color);
  letter-spacing: 0.25em;
  font-size: 0.82rem;
  text-transform: uppercase;
}

.home-header h1 {
  font-family: 'Orbitron', sans-serif;
  font-size: clamp(2.2rem, 3vw, 2.8rem) !important;
  font-weight: 900;
  letter-spacing: 0.12em !important;
  margin: 0.2rem 0 0.25rem !important;
  text-transform: none !important;
  text-shadow: none !important;
  animation: none !important;
  position: static !important;
  background: var(--gradient-button);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.home-tagline {
  font-size: 1rem !important;
  color: rgba(var(--accent-color-rgb), 0.8);
  margin: 0.65rem auto 0.9rem !important;
  max-width: 640px;
  line-height: 1.4 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.split-actions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  align-items: stretch;
  max-width: 720px;
}

.split-card {
  background: rgba(12, 14, 28, 0.45);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid rgba(var(--accent-color-rgb), 0.2);
  border-radius: 18px;
  padding: 1.35rem 1.35rem 1.65rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  height: 100%;
}

.card-head h3 {
  margin: 0 0 0.25rem !important;
  font-size: 1.2rem !important;
  color: #f8fafc;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.card-head p {
  margin: 0 0 0.8rem !important;
  color: rgba(var(--accent-color-rgb), 0.8);
  font-size: 0.95rem !important;
  line-height: 1.45 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.home-form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  height: 100%;
}

.home-form .form-group {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.home-form .form-group label {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.25em;
  color: rgba(var(--accent-color-rgb), 0.8);
}

.home-input {
  width: 100%;
  padding: 1rem 1.15rem;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.03);
  color: #f8fafc;
  font-weight: 600;
  letter-spacing: 0.03em;
}

.home-input:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 3px var(--accent-glow);
}

.home-hero button.primary-cta {
  width: 100%;
  border: none;
  border-radius: 14px;
  padding: 1.05rem 1.4rem;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  cursor: pointer;
  background: var(--gradient-button);
  color: #050713;
  box-shadow: 0 22px 15px rgba(5, 10, 35, 0.65);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  margin-top: auto;
}

.home-hero button.primary-cta::before {
  content: '';
  position: absolute;
  inset: -40% -5%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.35) 0%, transparent 65%);
  opacity: 0;
  transition: opacity 0.2s ease;
}

.home-hero button.primary-cta:hover::before {
  opacity: 0.35;
}

.home-hero button.primary-cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 28px 15px rgba(5, 10, 35, 0.7);
}

.home-hero button.create-cta {
  background: var(--gradient-button);
}

.home-hero button.join-cta {
  background: var(--gradient-button);
}

.home-tip-banner {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.6rem 1rem;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.05);
  color: rgba(var(--accent-color-rgb), 0.8);
  box-shadow: 0 12px 30px rgba(5, 10, 25, 0.35);
  justify-content: center;
  margin: 0.35rem auto 0;
  min-width: 340px;
}

.home-form-note {
  padding: 0.75rem 1rem;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.04);
  color: rgba(var(--accent-color-rgb), 0.8);
  font-size: 0.9rem;
}

.home-form-note.muted {
  background: rgba(255, 255, 255, 0.02);
  border-color: rgba(255, 255, 255, 0.06);
  color: #94a3b8;
}

.streamer-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.95rem !important;
  color: rgba(var(--accent-color-rgb), 0.8);
  margin: 0.35rem 0 0.5rem 0;
  text-transform: none !important;
  letter-spacing: normal !important;
  line-height: 1.35 !important;
}

.streamer-toggle input {
  width: 18px;
  height: 18px;
}

/* Session/Waiting State Styles (PrimeSuspect-specific) */
.home-status-grid {
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;
  padding: 0;
}

.home-status-grid li {
  border-radius: 16px;
  padding: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
  color: var(--text-secondary);
  box-shadow: 0 10px 25px rgba(5, 10, 30, 0.4);
  text-align: center;
}

.metric-value {
  font-size: 1.9rem;
  font-weight: 700;
  color: var(--secondary);
}

.metric-label {
  display: block;
  margin-top: 0.2rem;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--text-muted);
}

@media (max-width: 900px) {
  .home-shell {
    padding: 1.75rem 1.25rem 2.25rem;
  }

  .split-actions {
    grid-template-columns: 1fr;
    max-width: 100%;
  }
}


/* ============================================
   Bottom Tab Bar
   ============================================ */
/* From: styles/BottomTabBar.css */

/* ========================================
   BOTTOM TAB BAR - Mobile Navigation
   ======================================== */

/* Define bottom tab bar height as CSS variable for consistency */
:root {
  --bottom-tab-bar-height: 4rem;
}

.bottom-tab-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(180deg, var(--bg-card) 0%, rgba(var(--bg-card-rgb), 0.98) 100%);
  border-top: 2px solid var(--panel-border);
  z-index: var(--z-mobile-nav);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.4);
  display: none;
}

/* Show only on mobile/tablet */
@media (max-width: 63.9375rem) {
  .bottom-tab-bar {
    display: block;
  }
}

/* Hide labels on all mobile for more vertical space */
@media (max-width: 47.9375rem) {
  .tab-label {
    display: none !important;
  }

  /* Reduce bar height when no labels */
  :root {
    --bottom-tab-bar-height: 3.25rem;
  }

  .bottom-tab-button {
    gap: 0;
    padding: 0.5rem;
  }

  /* Make icons slightly larger when no labels */
  .tab-icon {
    font-size: 1.4rem;
    width: 1.75rem;
    height: 1.75rem;
  }
}

.bottom-tab-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  height: var(--bottom-tab-bar-height);
}

.bottom-tab-item {
  flex: 1 1 0%;
  min-width: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.bottom-tab-button {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  width: 100%;
  height: 100%;
  background: transparent;
  border: 1px solid var(--panel-border);
  border-right: 1px solid var(--panel-border);
  border-top: 3px solid transparent;
  border-radius: 0;
  color: var(--text-muted);
  cursor: pointer;
  transition: all var(--transition-fast);
  padding: 0.5rem 1rem;
  position: relative;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  -webkit-tap-highlight-color: transparent;
}

.bottom-tab-button:active {
  transform: scale(0.95);
}

.bottom-tab-button:hover {
  color: var(--primary);
  background: rgba(var(--primary-rgb), 0.08);
}

.bottom-tab-button.active {
  color: var(--primary);
  background: transparent;
  border-top: 3px solid var(--primary);
}

.bottom-tab-button.active .tab-icon {
  color: var(--primary);
  text-shadow: none;
  transform: scale(1.05);
}

/* Tab Icon */
.tab-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  color: inherit;
  transition: all var(--transition-fast);
  font-size: 1.25rem;
  width: 1.5rem;
  height: 1.5rem;
  line-height: 1;
  flex-shrink: 0;
}

/* Tab Label */
.tab-label {
  font-size: 0.7rem;
  white-space: nowrap;
  text-align: center;
  flex-shrink: 1;
}

/* Badge for unread messages / video count */
.tab-badge {
  position: absolute;
  top: 0.375rem;
  right: 0.375rem;
  min-width: 1.25rem;
  height: 1.25rem;
  padding: 0 0.25rem;
  border-radius: 0.625rem;
  background: var(--gradient-badge);
  color: white;
  font-size: 0.6rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid var(--bg-dark);
  /* Cyan glow for video count */
  box-shadow: 0 0.125rem 0.5rem rgba(0, 217, 255, 0.5);
  /* One-time appear animation instead of infinite pulse */
  animation: badgeAppear 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) once;
}

@keyframes badgeAppear {
  from {
    transform: scale(0);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Responsive tweaks for small phones */
@media (max-width: 30rem) {
  :root {
    --bottom-tab-bar-height: 3.75rem;
  }

  .bottom-tab-bar {
    padding: 0;
  }

  .bottom-tab-button {
    font-size: 0.65rem;
    gap: 0.1875rem;
    padding: 0.25rem 0.375rem;
  }

  .tab-icon {
    font-size: 1.1rem;
  }

  .tab-label {
    font-size: 0.6rem;
  }

  .tab-badge {
    top: 0.25rem;
    right: 0.25rem;
    min-width: 1.125rem;
    height: 1.125rem;
    font-size: 0.55rem;
  }
}

/* Medium phones */
@media (max-width: 37.5rem) and (min-width: 30.0625rem) {
  :root {
    --bottom-tab-bar-height: 3.875rem;
  }

  .tab-label {
    font-size: 0.68rem;
  }
}

/* Accessibility: Keyboard focus */
.bottom-tab-button:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: -2px;
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  .bottom-tab-button {
    transition: none;
  }

  .bottom-tab-button.active .tab-icon {
    transform: none;
  }

  .tab-badge {
    animation: none;
  }
}


/* ============================================
   Mobile Drawer
   ============================================ */
/* From: styles/MobileDrawer.css */

/* ========================================
   MOBILE DRAWER - Bottom/Side Sheets
   ======================================== */

.mobile-drawer-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: var(--bottom-tab-bar-height);
  background: rgba(0, 0, 0, 0);
  z-index: var(--z-mobile-drawer);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--transition), background var(--transition);
}

.mobile-drawer-backdrop.open {
  background: rgba(0, 0, 0, 0.5);
  opacity: 1;
  pointer-events: auto;
}

/* Base drawer styles */
.mobile-drawer {
  position: fixed;
  background: var(--bg-card);
  z-index: calc(var(--z-mobile-drawer) + 1);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  transition: all var(--transition);
}

/* Bottom drawer */
.mobile-drawer-bottom {
  bottom: var(--bottom-tab-bar-height);
  left: 0;
  right: 0;
  max-height: calc(80vh - var(--bottom-tab-bar-height));
  border-radius: 20px 20px 0 0;
  transform: translateY(100%);
}

.mobile-drawer-bottom.open {
  transform: translateY(0);
}

/* Left drawer */
.mobile-drawer-left {
  top: 0;
  left: 0;
  bottom: 0;
  width: 85%;
  max-width: 350px;
  border-radius: 0 20px 20px 0;
  transform: translateX(-100%);
}

.mobile-drawer-left.open {
  transform: translateX(0);
}

/* Right drawer */
.mobile-drawer-right {
  top: 0;
  right: 0;
  bottom: 0;
  width: 85%;
  max-width: 350px;
  border-radius: 20px 0 0 20px;
  transform: translateX(100%);
}

.mobile-drawer-right.open {
  transform: translateX(0);
}

/* Drawer handle (for bottom sheet) */
.drawer-handle {
  width: 40px;
  height: 4px;
  background: var(--text-muted);
  border-radius: 2px;
  margin: 0.75rem auto 1rem;
  opacity: 0.5;
  flex-shrink: 0;
}

/* Drawer header */
.drawer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--padding-card, 1rem);
  border-bottom: 1px solid var(--panel-border);
  flex-shrink: 0;
  gap: var(--gap-md, 1rem);
}

.drawer-title {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
  font-family: var(--font-heading);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.drawer-close-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: transparent;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  border-radius: 8px;
  transition: all var(--transition-fast);
  flex-shrink: 0;
}

.drawer-close-btn:hover {
  color: var(--primary);
  background: rgba(var(--primary-rgb), 0.1);
}

.drawer-close-btn:active {
  transform: scale(0.95);
}

/* Drawer content */
.drawer-content {
  flex: 1;
  overflow-y: auto;
  padding: var(--padding-card, 1rem);
  padding-bottom: max(var(--padding-card, 1rem), env(safe-area-inset-bottom));

  /* Enable container queries for drawer content */
  container-type: inline-size;
  container-name: drawer-content;
}

.drawer-content.full-height {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Scrollbar styling */
.drawer-content::-webkit-scrollbar {
  width: 6px;
}

.drawer-content::-webkit-scrollbar-track {
  background: var(--bg-darker);
  border-radius: 3px;
}

.drawer-content::-webkit-scrollbar-thumb {
  background: var(--text-muted);
  border-radius: 3px;
  opacity: 0.5;
}

.drawer-content::-webkit-scrollbar-thumb:hover {
  opacity: 0.8;
}

/* Full Height Video Drawer Override */
.mobile-drawer.video-drawer-full {
  max-height: calc(100vh - var(--bottom-tab-bar-height));
  height: calc(100vh - var(--bottom-tab-bar-height));
  border-radius: 0;
  background: var(--bg-body, #0f172a); /* Ensure opaque background */
}

/* Remove padding for video drawer content - controls are fixed positioned */
.mobile-drawer.video-drawer-full .drawer-content {
  padding: 0;
}

/* Responsive adjustments */
@media (max-width: 480px) {
  .mobile-drawer-left,
  .mobile-drawer-right {
    width: 100%;
    max-width: none;
  }

  .mobile-drawer-left {
    border-radius: 0;
  }

  .mobile-drawer-right {
    border-radius: 0;
  }

  .drawer-header {
    padding: 0.75rem;
  }

  .drawer-title {
    font-size: 1.125rem;
  }

  .drawer-content {
    padding: 0.75rem;
    padding-bottom: max(0.75rem, env(safe-area-inset-bottom));
  }
}

/* Tablet landscape */
@media (min-width: 768px) and (orientation: landscape) {
  .mobile-drawer-bottom {
    max-height: calc(70vh - var(--bottom-tab-bar-height));
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .mobile-drawer,
  .mobile-drawer-backdrop {
    transition: none;
  }

  .drawer-close-btn:active {
    transform: none;
  }
}

/* High contrast mode */
@media (prefers-contrast: more) {
  .mobile-drawer-backdrop.open {
    background: rgba(0, 0, 0, 0.7);
  }

  .drawer-header {
    border-bottom-width: 2px;
  }
}

/* ============================================
   Mobile Video Grid
   ============================================ */
/* From: styles/MobileVideoGrid.css */

/* ========================================
   MOBILE VIDEO GRID - Responsive Grid Layout
   ======================================== */

/* ========================================
   CONTAINER QUERY SETUP
   Makes video grid responsive to container, not viewport
   ======================================== */
.mobile-video-grid-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  max-height: 100%;
  background: var(--bg-card); /* Ensure solid background */
  position: relative; /* Needed for absolute positioning of close button */

  /* Enable container queries */
  container-type: inline-size;
  container-name: video-grid;
}

/* Main Grid Container */
.mobile-video-grid {
  display: grid;
  grid-auto-rows: 1fr;
  gap: 0.75rem;
  padding: 0.75rem;
  padding-bottom: 5rem; /* Space for fixed control bar */
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;

  /* Default: 1 column for mobile portrait (bigger thumbnails) */
  grid-template-columns: 1fr;
}

/* Video Tile */
.video-tile {
  position: relative;
  aspect-ratio: 1.33; /* Slightly wider than square for better video fit */
  border-radius: 12px;
  overflow: hidden;
  background: var(--bg-darker);
  border: 1px solid var(--panel-border);
  transition: all 0.2s ease;
}

.video-tile:active {
  transform: scale(0.95);
}

/* Inner video container for aspect ratio */
.video-inner {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-darker);
  overflow: hidden;
}

/* Video Element */
.video-element {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Placeholder when no camera */
.video-placeholder {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3rem;
  background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.1), rgba(var(--secondary-rgb), 0.1));
}

/* Status Dot (Active/Inactive Indicator) */
.status-dot {
  position: absolute;
  top: 0.5rem;
  left: 0.5rem;
  width: 0.625rem;
  height: 0.625rem;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 0 4px rgba(0, 0, 0, 0.5);
  z-index: var(--z-webcam);
}

.status-dot.active {
  background: #22c55e; /* Green */
  animation: pulse-status 2s ease-in-out infinite;
}

.status-dot.inactive {
  background: #ef4444; /* Red */
}

@keyframes pulse-status {
  0%, 100% {
    box-shadow: 0 0 4px rgba(34, 197, 94, 0.5);
  }
  50% {
    box-shadow: 0 0 8px rgba(34, 197, 94, 0.8);
  }
}

/* Player Name Overlay */
.player-name-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 0.5rem;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.25rem;
}

.player-name {
  font-size: 0.75rem;
  font-weight: 600;
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.self-badge {
  font-size: 0.65rem;
  background: rgba(var(--primary-rgb), 0.8);
  color: white;
  padding: 2px 6px;
  border-radius: 10px;
  font-weight: 700;
  white-space: nowrap;
}

/* Video Controls */
.video-controls {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;  /* Touch-friendly spacing */
  z-index: 20;
}

.control-btn {
  width: 2.5rem;   /* 40px - WCAG touch target */
  height: 2.5rem;  /* 40px - WCAG touch target */
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  -webkit-tap-highlight-color: transparent;
}

.control-btn:hover {
  background: rgba(0, 0, 0, 0.7);
  border-color: rgba(255, 255, 255, 0.4);
}

.control-btn:active {
  transform: scale(0.9);
}

.mute-btn,
.mic-btn {
  /* Specific button colors could go here */
}

.hide-btn {
  /* Specific button colors could go here */
}

/* Empty State */
.mobile-video-grid-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 12.5rem;
}

.empty-state {
  text-align: center;
  color: var(--text-muted);
  padding: 2rem 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.empty-state p {
  font-size: 1rem;
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.empty-state small {
  font-size: 0.875rem;
  color: var(--text-secondary);
}

/* Join Video Chat Button */
.join-video-btn {
  margin-top: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  transition: all 0.2s ease;
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
}

.join-video-btn:hover {
  background: var(--primary-dark, #2563eb);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.4);
}

.join-video-btn:active {
  transform: translateY(0);
}

@media (max-width: 30rem) {
  .join-video-btn {
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
  }
}

/* ========================================
   BOTTOM CONTROL BAR - Clean Icon-Only Design
   ======================================== */

.mobile-video-grid {
  display: grid;
  grid-auto-rows: 1fr;
  gap: 0.75rem;
  padding: 0.75rem;
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;

  /* Default: 1 column for mobile portrait (bigger thumbnails) */
  grid-template-columns: 1fr;
}

.mobile-video-actions-wrapper {
  position: absolute;
  bottom: 0.25rem;
  left: 0;
  right: 0;
  z-index: 60;
  background: transparent;
  pointer-events: none;
}

.mobile-video-actions {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 0.75rem 0 0.75rem; /* No bottom padding - sits flush with tab bar */
  background: rgba(13, 15, 26, 0.95); /* More opaque background for legibility */
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  flex-shrink: 0;
  pointer-events: auto; /* ...but catch clicks on the control bar itself */
}

/* Single control button - Square icon-only design */
.mobile-control-btn {
  width: 2.75rem; /* Slightly larger touch target (44px) */
  height: 2.75rem;
  min-width: 2.75rem;
  min-height: 2.75rem;
  padding: 0;
  border-radius: 50%; /* Circular buttons are more standard for calls */
  display: flex;
  align-items: center;
  justify-content: center;

  /* Default: White/Gray Glassy */
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #f1f5f9; /* White text */

  cursor: pointer;
  transition: all 0.15s ease;
  -webkit-tap-highlight-color: transparent;
}

.mobile-control-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.3);
}

.mobile-control-btn:active {
  transform: scale(0.92);
}

/* Muted/Off state - Darker Gray/White (standard) */
.mobile-control-btn.muted,
.mobile-control-btn.off {
  background: rgba(255, 255, 255, 0.8); /* Inverted: White background for off? Or just dark? */
  /* Common pattern: On = Transparent/Glass, Off = White/Gray or Red? 
     User said "Standard buttons are usually white/gray". 
     Let's stick to: Default (On) = Glassy Gray. Off = Darker or Strikethrough. 
     Actually, let's make "Off" white background with black icon (high contrast) or red.
     Let's try: Default = Glassy. Off = White background, black icon (Visual indicator of state change). 
     OR simply: Default = Glassy. Off = Red background (but user said "standard buttons are usually white/gray").
     
     Let's go with:
     Default (On): Glassy White/Gray
     Off (Muted): Darker Gray / Red tint?
     
     Let's try:
     Default: Glassy (White icon)
     Off: White Background (Black icon) - very distinct.
  */
  background: rgba(255, 255, 255, 0.9);
  color: #0f172a; /* Dark text/icon */
  border-color: transparent;
}

/* Danger / Leave Button - Red */
.mobile-control-btn.danger {
  background: #ef4444;
  border-color: #ef4444;
  color: white;
}

.mobile-control-btn.danger:hover {
  background: #dc2626;
}

/* Secondary buttons (Settings) - same as default */
.mobile-control-btn.secondary {
  /* inherits default */
}

/* Join Video Chat Button */
.mobile-join-video-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.625rem;
  width: 100%;
  padding: 0.875rem 1.5rem;
  background: var(--gradient-button);
  border: none;
  border-radius: 0.75rem;
  color: white;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  -webkit-tap-highlight-color: transparent;
  box-shadow: 0 0.25rem 0.9375rem rgba(168, 85, 247, 0.4);
}

.mobile-join-video-btn:hover {
  transform: translateY(-0.125rem);
  box-shadow: 0 0.375rem 1.25rem rgba(168, 85, 247, 0.5);
}

.mobile-join-video-btn:active {
  transform: translateY(0);
}

/* Legacy action-btn for backwards compatibility */
.action-btn {
  flex: 1;
  padding: 0.625rem 0.75rem;
  background: rgba(var(--primary-rgb), 0.1);
  border: 1px solid var(--primary);
  border-radius: 0.5rem;
  color: var(--primary);
  cursor: pointer;
  font-size: 0.875rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.375rem;
  transition: all 0.2s ease;
  white-space: nowrap;
  -webkit-tap-highlight-color: transparent;
}

.action-btn:hover {
  background: rgba(var(--primary-rgb), 0.2);
}

.action-btn:active {
  transform: scale(0.95);
}

.settings-btn {
  /* Primary action */
}

/* ========================================
   CONTAINER QUERIES - Component-Level Responsiveness
   ======================================== */

/* Small container (< 300px) - Single column, compact */
@container video-grid (max-width: 18.75rem) {
  .mobile-video-grid {
    grid-template-columns: 1fr;
    gap: 0.5rem;
    padding: 0.5rem;
  }

  .control-btn {
    width: 2.25rem;
    height: 2.25rem;
  }

  .player-name {
    font-size: 0.65rem;
  }

  .self-badge {
    font-size: 0.55rem;
    padding: 1px 0.25rem;
  }
}

/* Medium container (300-500px) - 2 columns */
@container video-grid (min-width: 18.75rem) {
  .mobile-video-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    padding: 0.75rem;
  }

  .player-name {
    font-size: 0.75rem;
  }
}

/* Large container (500px+) - 3 columns */
@container video-grid (min-width: 31.25rem) {
  .mobile-video-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.875rem;
    padding: 0.875rem;
  }

  .video-tile {
    border-radius: 0.875rem;
  }

  .control-btn {
    width: 2.25rem;
    height: 2.25rem;
    font-size: 1rem;
  }

  .player-name {
    font-size: 0.8rem;
  }
}

/* Extra large container (700px+) - 4 columns */
@container video-grid (min-width: 43.75rem) {
  .mobile-video-grid {
    grid-template-columns: repeat(4, 1fr);
    grid-auto-rows: minmax(11.25rem, 1fr);
    gap: 1rem;
    padding: 1rem;
  }
}

/* ========================================
   VIEWPORT FALLBACKS (for older browsers)
   ======================================== */

/* Tablets/Landscape - 3 columns */
@media (min-width: 37.5rem) {
  .mobile-video-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.875rem;
    padding: 0.875rem;
  }

  .video-tile {
    border-radius: 0.875rem;
  }

  .control-btn {
    width: 2.25rem;
    height: 2.25rem;
    font-size: 1rem;
  }

  .player-name {
    font-size: 0.8rem;
  }
}

/* Large tablets - dynamic sizing */
@media (min-width: 56.25rem) {
  .mobile-video-grid {
    grid-auto-rows: minmax(11.25rem, 1fr);
    gap: 1rem;
    padding: 1rem;
  }
}

/* Small phones - squeeze columns */
@media (max-width: 25rem) {
  .mobile-video-grid {
    gap: 0.5rem;
    padding: 0.5rem;
  }

  .control-btn {
    width: 2.25rem;   /* Increased from 28px - closer to WCAG minimum */
    height: 2.25rem;  /* Increased from 28px */
  }

  .player-name {
    font-size: 0.65rem;
  }

  .self-badge {
    font-size: 0.55rem;
    padding: 1px 0.25rem;
  }
}

/* ========================================
   ACCESSIBILITY
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  .video-tile,
  .control-btn,
  .action-btn,
  .status-dot {
    animation: none;
    transition: none;
  }
}

@media (prefers-contrast: more) {
  .video-tile {
    border-width: 2px;
  }

  .control-btn {
    border-width: 2px;
  }

  .status-dot {
    border-width: 3px;
  }
}

/* ========================================
   SCROLLBAR STYLING
   ======================================== */

.mobile-video-grid::-webkit-scrollbar {
  width: 0.375rem;
}

.mobile-video-grid::-webkit-scrollbar-track {
  background: transparent;
}

.mobile-video-grid::-webkit-scrollbar-thumb {
  background: rgba(var(--primary-rgb), 0.3);
  border-radius: 0.1875rem;
}

.mobile-video-grid::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--primary-rgb), 0.5);
}

/* Mobile fallback: hide scrollbar */
.mobile-video-grid {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ============================================
   GAME-SPECIFIC OVERRIDES
   ============================================ */
/* From: styles/game.css */

/* Game-specific visual overrides (DDF).
   Keep this filename consistent across games for easier global updates. */




/* ============================================
   HOME PAGE STYLES
   Consolidated from pages/HomePage.css (2025-12-14)
   ============================================ */

/* ========================================
   HOME LAYOUT - Sidebar Tutorial
   ======================================== */

/* Wrapper for cards + tutorial sidebar */
.home-cards-wrapper {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  width: 100%;
  position: relative;
}

/* Tutorial sidebar - aligned with cards, far right */
.home-cards-wrapper .tutorial-sidebar {
  position: fixed;
  right: 2rem;
  top: var(--tutorial-top, 50%);
  transform: translateY(0);
}

/* Mobile trigger - only visible on mobile */
.tutorial-mobile-trigger {
  display: none;
  margin-top: 1rem;
}

@media (max-width: 1400px) {
  .home-cards-wrapper .tutorial-sidebar {
    display: none;
  }

  .tutorial-mobile-trigger {
    display: block;
  }
}

.home-hero {
  min-height: auto;
  padding: 1.75rem 1.25rem 2.25rem;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.home-shell {
  width: 100%;
  max-width: 1080px;
  margin: 0 auto;
  padding: 1.5rem 1.25rem 2rem;
  border-radius: 0;
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.home-header {
  text-align: center;
}

.home-mascot-container {
  display: flex;
  justify-content: center;
  margin-bottom: 1rem;
}

.home-mascot-anim {
  width: 116px;
  height: 116px;
  object-fit: contain;
  filter: drop-shadow(0 0 20px var(--accent-glow));
}

/* Large desktop (e.g., 1920x1080): compact home so Create/Join fits without scroll */
@media (min-width: 1280px) and (min-height: 900px) {
  .home-hero {
    padding: 1.25rem 1.25rem 1.5rem;
  }

  .home-shell {
    padding: 1.25rem 1.25rem 1.5rem;
    gap: 1rem;
  }

  .home-mascot-anim {
    width: 104px;
    height: 104px;
  }

  .home-tagline {
    font-size: 0.95rem;
    margin: 0.5rem auto 0.65rem;
    line-height: 1.45;
  }

  .split-actions {
    gap: 1.1rem;
  }

  .split-card {
    padding: 1.1rem 1.1rem 1.25rem;
  }

  .card-head p {
    margin-bottom: 0.6rem;
  }

  .home-form {
    gap: 0.75rem;
  }

  .home-input {
    padding: 0.75rem 1rem;
  }

  .primary-cta {
    height: 48px;
    padding: 0.85rem 1.4rem;
    font-size: 0.95rem;
  }
}

.eyebrow {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.35rem 0.75rem;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.04);
  color: var(--accent-color);
  letter-spacing: 0.25em;
  font-size: 0.82rem;
  text-transform: uppercase;
}

.home-header h1 {
  font-family: 'Orbitron', sans-serif;
  font-size: clamp(2.2rem, 3vw, 2.8rem) !important;
  font-weight: 900;
  letter-spacing: 0.12em !important;
  margin: 0.2rem 0 0.25rem !important;
  text-transform: none !important;
  text-shadow: none !important;
  animation: none !important;
  position: static !important;
  background: var(--gradient-button);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.home-tagline {
  font-size: 1rem !important;
  color: rgba(var(--accent-color-rgb), 0.8);
  margin: 0.65rem auto 0.9rem !important;
  max-width: 640px;
  line-height: 1.4 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.split-actions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  align-items: stretch;
  max-width: 720px;
}

.split-card {
  background: rgba(12, 14, 28, 0.45);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid rgba(var(--accent-color-rgb), 0.2);
  border-radius: 18px;
  padding: 1.35rem 1.35rem 1.65rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  height: 100%;
}

.card-head h3 {
  margin: 0 0 0.25rem !important;
  font-size: 1.2rem !important;
  color: #f8fafc;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.card-head p {
  margin: 0 0 0.8rem !important;
  color: rgba(var(--accent-color-rgb), 0.8);
  font-size: 0.95rem !important;
  line-height: 1.45 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
}

.home-form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  height: 100%;
}

.home-form .form-group {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.home-form .form-group label {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.25em;
  color: rgba(var(--accent-color-rgb), 0.8);
}

.home-input {
  width: 100%;
  padding: 1rem 1.15rem;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.03);
  color: #f8fafc;
  font-weight: 600;
  letter-spacing: 0.03em;
}

.home-input:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 3px var(--accent-glow);
}

.home-hero button.primary-cta {
  width: 100%;
  border: none;
  border-radius: 14px;
  padding: 1.05rem 1.4rem;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  cursor: pointer;
  background: var(--gradient-button);
  color: #050713;
  box-shadow: 0 22px 15px rgba(5, 10, 35, 0.65);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  margin-top: auto;
}

.home-hero button.primary-cta::before {
  content: '';
  position: absolute;
  inset: -40% -5%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.35) 0%, transparent 65%);
  opacity: 0;
  transition: opacity 0.2s ease;
}

.home-hero button.primary-cta:hover::before {
  opacity: 0.35;
}

.home-hero button.primary-cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 28px 15px rgba(5, 10, 35, 0.7);
}

.home-hero button.create-cta {
  background: var(--gradient-button);
}

.home-hero button.join-cta {
  background: var(--gradient-button);
}

.home-tip-banner {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.6rem 1rem;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.05);
  color: rgba(var(--accent-color-rgb), 0.8);
  box-shadow: 0 12px 30px rgba(5, 10, 25, 0.35);
  justify-content: center;
  margin: 0.35rem auto 0;
  min-width: 340px;
}

.home-form-note {
  padding: 0.75rem 1rem;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.04);
  color: rgba(var(--accent-color-rgb), 0.8);
  font-size: 0.9rem;
}

.home-form-note.muted {
  background: rgba(255, 255, 255, 0.02);
  border-color: rgba(255, 255, 255, 0.06);
  color: #94a3b8;
}

.streamer-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.95rem !important;
  color: rgba(var(--accent-color-rgb), 0.8);
  margin: 0.35rem 0 0.5rem 0;
  text-transform: none !important;
  letter-spacing: normal !important;
  line-height: 1.35 !important;
}

.streamer-toggle input {
  width: 18px;
  height: 18px;
}

/* Session/Waiting State Styles (PrimeSuspect-specific) */
.home-status-grid {
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;
  padding: 0;
}

.home-status-grid li {
  border-radius: 16px;
  padding: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
  color: var(--text-secondary);
  box-shadow: 0 10px 25px rgba(5, 10, 30, 0.4);
  text-align: center;
}

.metric-value {
  font-size: 1.9rem;
  font-weight: 700;
  color: var(--secondary);
}

.metric-label {
  display: block;
  margin-top: 0.2rem;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--text-muted);
}

@media (max-width: 900px) {
  .home-shell {
    padding: 1.75rem 1.25rem 2.25rem;
  }

  .split-actions {
    grid-template-columns: 1fr;
    max-width: 100%;
  }
}

/* ============================================
   iPhone 13 / Mobile Optimization (max-width: 414px)
   Covers iPhone 13 (390px), 13 Mini (375px), 13 Pro Max (428px)

   TAB-BASED LAYOUT:
   - Shows ONE form at a time (Create OR Join)
   - Hides mascot, eyebrow, tagline to save space
   - No scrolling required - everything fits in 844px
   ============================================ */

/* Mobile Tab Switcher - Hidden on desktop */
.mobile-tab-switcher {
  display: none;
}

@media (max-width: 414px) {
  /* === MOBILE TAB SWITCHER === */
  .mobile-tab-switcher {
    display: flex;
    gap: 0;
    margin-bottom: 1rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 12px;
    padding: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  .mobile-tab-switcher button {
    flex: 1;
    padding: 0.875rem 1rem;
    font-size: 0.95rem;
    font-weight: 600;
    background: transparent;
    border: none;
    border-radius: 10px;
    color: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 48px;
  }

  .mobile-tab-switcher button.active {
    background: var(--primary, #3b82f6);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .mobile-tab-switcher button:not(.active):hover {
    color: rgba(255, 255, 255, 0.8);
    background: rgba(255, 255, 255, 0.05);
  }

  /* === HIDE INACTIVE TAB CARD === */
  .split-card.mobile-hidden {
    display: none !important;
  }

  /* === HIDE DESKTOP-ONLY ELEMENTS === */
  .home-mascot-container {
    display: none !important;
  }

  .home-header .eyebrow {
    display: none !important;
  }

  .home-tagline {
    display: none !important;
  }

  /* Hide card descriptions on mobile */
  .card-head p {
    display: none !important;
  }

  /* Hide sidebar tutorial on mobile (using modal instead) */
  .tutorial-carousel.sidebar-variant {
    display: none !important;
  }

  /* === COMPACT LAYOUT === */
  .home-hero {
    min-height: 100dvh;
    padding-top: 0;
  }

  .home-shell {
    padding: 0.75rem 1rem 1rem;
    gap: 0.5rem;
  }

  .home-header {
    margin-bottom: 0.5rem;
    text-align: center;
  }

  .home-header h1 {
    font-size: 1.75rem !important;
    margin: 0 !important;
  }

  /* Tutorial button - compact icon style */
  .tutorial-mobile-trigger {
    margin: 0.5rem 0;
  }

  .tutorial-trigger-btn {
    min-height: 44px;
    padding: 0.5rem 1rem;
  }

  /* === SINGLE COLUMN CARDS === */
  .home-cards-wrapper {
    margin-top: 0;
  }

  .split-actions {
    grid-template-columns: 1fr;
    gap: 0;
  }

  .split-card {
    padding: 1.25rem 1rem 1.5rem;
    border-radius: 16px;
  }

  .card-head {
    margin-bottom: 0.75rem;
  }

  .card-head h3 {
    font-size: 1.1rem !important;
    margin-bottom: 0 !important;
  }

  /* === FORM STYLING === */
  .home-form {
    gap: 0.875rem;
  }

  .form-group {
    margin-bottom: 0;
  }

  .form-group label {
    font-size: 0.85rem;
    margin-bottom: 0.375rem;
  }

  .home-input {
    min-height: 48px;
    padding: 0.875rem 1rem;
    font-size: 16px; /* Prevents iOS zoom on focus */
  }

  /* Streamer toggle - touch-friendly */
  .streamer-toggle {
    min-height: 44px;
    padding: 0.5rem 0;
    margin: 0.25rem 0 0.5rem 0;
  }

  .streamer-toggle input[type="checkbox"] {
    width: 24px;
    height: 24px;
    min-width: 24px;
    min-height: 24px;
    cursor: pointer;
  }

  .streamer-toggle span {
    font-size: 0.9rem;
  }

  /* Primary CTA button - full width and prominent */
  .home-hero button.primary-cta {
    min-height: 52px;
    font-size: 1.05rem;
    font-weight: 600;
    width: 100%;
    margin-top: 0.25rem;
  }

  /* === TIP BANNERS === */
  .home-tip-banner {
    padding: 0.625rem 0.875rem;
    font-size: 0.8rem;
    margin-top: 0.5rem;
  }

  /* Hide the bottom tip banner on mobile to save space */
  .home-shell > .home-tip-banner:last-child {
    display: none;
  }

  /* GameBuddies session banner - keep visible but compact */
  .home-shell > .home-tip-banner:first-of-type {
    display: flex;
    padding: 0.5rem 0.75rem;
    font-size: 0.75rem;
  }
}

/* Primesuspect theme mobile overrides */
@media (max-width: 414px) {
  [data-theme="primesuspect"] .home-header h1 {
    font-size: clamp(1.5rem, 7vw, 1.75rem) !important;
  }

  [data-theme="primesuspect"] .mobile-tab-switcher button.active {
    background: var(--royal-crimson-light, #8a2233);
  }

  [data-theme="primesuspect"] .split-card .streamer-toggle {
    min-height: 44px;
    padding: 0.5rem 0;
  }

  [data-theme="primesuspect"] .split-card .streamer-toggle span {
    font-size: 0.85rem;
  }
}

